!function(t,e){"function"==typeof define&&define.amd?define([],function(){return e()}):"object"==typeof exports?module.exports=e():t.whatInput=e()}(this,function(){"use strict";function t(t){clearTimeout(d),i(t),c=!0,d=setTimeout(function(){c=!1},1e3)}function e(t){c||i(t)}function i(t){var e=n(t),i=s(t),r=g[t.type];"pointer"===r&&(r=o(t)),f!==r&&(!m&&f&&"keyboard"===r&&"tab"!==w[e]&&p.indexOf(i.nodeName.toLowerCase())>=0||(f=r,u.setAttribute("data-whatinput",f),-1===v.indexOf(f)&&v.push(f))),"keyboard"===r&&a(e)}function n(t){return t.keyCode?t.keyCode:t.which}function s(t){return t.target||t.srcElement}function o(t){return"number"==typeof t.pointerType?y[t.pointerType]:t.pointerType}function a(t){-1===h.indexOf(w[t])&&w[t]&&h.push(w[t])}function r(t){var e=n(t),i=h.indexOf(w[e]);-1!==i&&h.splice(i,1)}function l(){var i="mousedown";window.PointerEvent?i="pointerdown":window.MSPointerEvent&&(i="MSPointerDown"),u.addEventListener(i,e),u.addEventListener("mouseenter",e),"ontouchstart"in document.documentElement&&u.addEventListener("touchstart",t),u.addEventListener("keydown",e),document.addEventListener("keyup",r)}var d,h=[],u=document.body,c=!1,f=null,p=["input","select","textarea"],m=u.hasAttribute("data-whatinput-formtyping"),g={keydown:"keyboard",mousedown:"mouse",mouseenter:"mouse",touchstart:"touch",pointerdown:"pointer",MSPointerDown:"pointer"},v=[],w={9:"tab",13:"enter",16:"shift",27:"esc",32:"space",37:"left",38:"up",39:"right",40:"down"},y={2:"touch",3:"touch",4:"mouse"};return"addEventListener"in window&&Array.prototype.indexOf&&l(),{ask:function(){return f},keys:function(){return h},types:function(){return v},set:i}}),!function(t){"use strict";function e(t){if(void 0===Function.prototype.name){var e=/function\s([^(]{1,})\(/,i=e.exec(t.toString());return i&&i.length>1?i[1].trim():""}return void 0===t.prototype?t.constructor.name:t.prototype.constructor.name}function i(t){return/true/.test(t)?!0:/false/.test(t)?!1:isNaN(1*t)?t:parseFloat(t)}function n(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}var s="6.0.5",o={version:s,_plugins:{},_uuids:[],_activePlugins:{},rtl:function(){return"rtl"===t("html").attr("dir")},plugin:function(t,i){var s=i||e(t),o=n(s);this._plugins[o]=this[s]=t},registerPlugin:function(t){var i=e(t.constructor).toLowerCase();t.uuid=this.GetYoDigits(6,i),t.$element.attr("data-"+i,t.uuid).trigger("init.zf."+i),this._activePlugins[t.uuid]=t},unregisterPlugin:function(t){var i=e(t.constructor).toLowerCase();delete this._activePlugins[t.uuid],t.$element.removeAttr("data-"+i).trigger("destroyed.zf."+i)},_reflow:function(t){var e=Object.keys(this._activePlugins),i=this;if(t){if("string"==typeof t){var n=t.split("-")[1];n?this._activePlugins[t]._init():(n=new RegExp(t,"i"),e.filter(function(t){return n.test(t)}).forEach(function(t){i._activePlugins[t]._init()}))}}else e.forEach(function(t){i._activePlugins[t]._init()})},GetYoDigits:function(t,e){return t=t||6,Math.round(Math.pow(36,t+1)-Math.random()*Math.pow(36,t)).toString(36).slice(1)+(e?"-"+e:"")},reflow:function(e,n){"undefined"==typeof n?n=Object.keys(this._plugins):"string"==typeof n&&(n=[n]);var s=this;t.each(n,function(n,o){var a=s._plugins[o],r=t(e).find("[data-"+o+"]").addBack("*");r.each(function(){var e=t(this),n={};if(e.attr("zf-plugin"))return void console.warn("Tried to initialize "+o+" on an element that already has a Foundation plugin.");if(e.attr("data-options")){e.attr("data-options").split(";").forEach(function(t,e){var s=t.split(":").map(function(t){return t.trim()});s[0]&&(n[s[0]]=i(s[1]))})}e.data("zf-plugin",new a(t(this),n))})})},getFnName:e,transitionend:function(t){var e,i={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend"},n=document.createElement("div");for(var s in i)"undefined"!=typeof n.style[s]&&(e=i[s]);return e?e:(e=setTimeout(function(){t.triggerHandler("transitionend",[t])},1),"transitionend")}};o.util={throttle:function(t,e){var i=null;return function(){var n=this,s=arguments;null===i&&(i=setTimeout(function(){t.apply(n,s),i=null},e))}}};var a=function(i){var n=typeof i,s=t("meta.foundation-mq"),a=t(".no-js");if(s.length||t('<meta class="foundation-mq">').appendTo(document.head),a.length&&a.removeClass("no-js"),"undefined"===n)o.MediaQuery._init(),o.reflow(this);else{if("string"!==n)throw new TypeError("We're sorry, '"+n+"' is not a valid parameter. You must use a string representing the method you wish to invoke.");var r=Array.prototype.slice.call(arguments,1),l=this.data("zfPlugin");if(void 0===l||void 0===l[i])throw new ReferenceError("We're sorry, '"+i+"' is not an available method for "+(l?e(l):"this element")+".");1===this.length?l[i].apply(l,r):this.each(function(e,n){l[i].apply(t(n).data("zfPlugin"),r)})}return this};window.Foundation=o,t.fn.foundation=a,function(){Date.now&&window.Date.now||(window.Date.now=Date.now=function(){return(new Date).getTime()});for(var t=["webkit","moz"],e=0;e<t.length&&!window.requestAnimationFrame;++e){var i=t[e];window.requestAnimationFrame=window[i+"RequestAnimationFrame"],window.cancelAnimationFrame=window[i+"CancelAnimationFrame"]||window[i+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){var n=0;window.requestAnimationFrame=function(t){var e=Date.now(),i=Math.max(n+16,e);return setTimeout(function(){t(n=i)},i-e)},window.cancelAnimationFrame=clearTimeout}window.performance&&window.performance.now||(window.performance={start:Date.now(),now:function(){return Date.now()-this.start}})}(),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),i=this,n=function(){},s=function(){return i.apply(this instanceof n?this:t,e.concat(Array.prototype.slice.call(arguments)))};return this.prototype&&(n.prototype=this.prototype),s.prototype=new n,s})}(jQuery),!function(t,e){var i=function(t,e,i,s){var o,a,r,l,d=n(t);if(e){var h=n(e);a=d.offset.top+d.height<=h.height+h.offset.top,o=d.offset.top>=h.offset.top,r=d.offset.left>=h.offset.left,l=d.offset.left+d.width<=h.width}else a=d.offset.top+d.height<=d.windowDims.height+d.windowDims.offset.top,o=d.offset.top>=d.windowDims.offset.top,r=d.offset.left>=d.windowDims.offset.left,l=d.offset.left+d.width<=d.windowDims.width;var u=[a,o,r,l];return i?r===l==!0:s?o===a==!0:-1===u.indexOf(!1)},n=function(t,i){if(t=t.length?t[0]:t,t===e||t===document)throw new Error("I'm sorry, Dave. I'm afraid I can't do that.");var n=t.getBoundingClientRect(),s=t.parentNode.getBoundingClientRect(),o=document.body.getBoundingClientRect(),a=e.pageYOffset,r=e.pageXOffset;return{width:n.width,height:n.height,offset:{top:n.top+a,left:n.left+r},parentDims:{width:s.width,height:s.height,offset:{top:s.top+a,left:s.left+r}},windowDims:{width:o.width,height:o.height,offset:{top:a,left:r}}}},s=function(t,e,i,s,o,a){var r=n(t),l=e?n(e):null;switch(i){case"top":return{left:l.offset.left,top:l.offset.top-(r.height+s)};case"left":return{left:l.offset.left-(r.width+o),top:l.offset.top};case"right":return{left:l.offset.left+l.width+o,top:l.offset.top};case"center top":return{left:l.offset.left+l.width/2-r.width/2,top:l.offset.top-(r.height+s)};case"center bottom":return{left:a?o:l.offset.left+l.width/2-r.width/2,top:l.offset.top+l.height+s};case"center left":return{left:l.offset.left-(r.width+o),top:l.offset.top+l.height/2-r.height/2};case"center right":return{left:l.offset.left+l.width+o+1,top:l.offset.top+l.height/2-r.height/2};case"center":return{left:r.windowDims.offset.left+r.windowDims.width/2-r.width/2,top:r.windowDims.offset.top+r.windowDims.height/2-r.height/2};case"reveal":return{left:(r.windowDims.width-r.width)/2,top:r.windowDims.offset.top+s};case"reveal full":return{left:r.windowDims.offset.left,top:r.windowDims.offset.top};default:return{left:l.offset.left,top:l.offset.top+l.height+s}}};t.Box={ImNotTouchingYou:i,GetDimensions:n,GetOffsets:s}}(window.Foundation,window),!function(t,e){"use strict";e.Keyboard={};var i={9:"TAB",13:"ENTER",27:"ESCAPE",32:"SPACE",37:"ARROW_LEFT",38:"ARROW_UP",39:"ARROW_RIGHT",40:"ARROW_DOWN"},n=function(t){var e={};for(var i in t)e[t[i]]=t[i];return e}(i);e.Keyboard.keys=n;var s=function(t){var e=i[t.which||t.keyCode]||String.fromCharCode(t.which).toUpperCase();return t.shiftKey&&(e="SHIFT_"+e),t.ctrlKey&&(e="CTRL_"+e),t.altKey&&(e="ALT_"+e),e};e.Keyboard.parseKey=s;var o={},a=function(i,n,a){var r,l,d,h=o[e.getFnName(n)],u=s(i);return h?(r="undefined"==typeof h.ltr?h:e.rtl()?t.extend({},h.ltr,h.rtl):t.extend({},h.rtl,h.ltr),l=r[u],d=a[l],void(d&&"function"==typeof d?(d.apply(n),(a.handled||"function"==typeof a.handled)&&a.handled.apply(n)):(a.unhandled||"function"==typeof a.unhandled)&&a.unhandled.apply(n))):console.warn("Component not defined!")};e.Keyboard.handleKey=a;var r=function(e){return e.find("a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]").filter(function(){return!t(this).is(":visible")||t(this).attr("tabindex")<0?!1:!0})};e.Keyboard.findFocusable=r;var l=function(t,e){o[t]=e};e.Keyboard.register=l}(jQuery,window.Foundation),!function(t,e){function i(t){var e={};return"string"!=typeof t?e:(t=t.trim().slice(1,-1))?e=t.split("&").reduce(function(t,e){var i=e.replace(/\+/g," ").split("="),n=i[0],s=i[1];return n=decodeURIComponent(n),s=void 0===s?null:decodeURIComponent(s),t.hasOwnProperty(n)?Array.isArray(t[n])?t[n].push(s):t[n]=[t[n],s]:t[n]=s,t},{}):e}var n={queries:[],current:"",atLeast:function(t){var e=this.get(t);return e?window.matchMedia(e).matches:!1},get:function(t){for(var e in this.queries){var i=this.queries[e];if(t===i.name)return i.value}return null},_init:function(){var e,n=this,s=t(".foundation-mq").css("font-family");e=i(s);for(var o in e)n.queries.push({name:o,value:"only screen and (min-width: "+e[o]+")"});this.current=this._getCurrentSize(),this._watcher()},_getCurrentSize:function(){var t;for(var e in this.queries){var i=this.queries[e];window.matchMedia(i.value).matches&&(t=i)}return"object"==typeof t?t.name:t},_watcher:function(){var e=this;t(window).on("resize.zf.mediaquery",function(){var i=e._getCurrentSize();i!==e.current&&(t(window).trigger("changed.zf.mediaquery",[i,e.current]),e.current=i)})}};e.MediaQuery=n,window.matchMedia||(window.matchMedia=function(){"use strict";var t=window.styleMedia||window.media;if(!t){var e=document.createElement("style"),i=document.getElementsByTagName("script")[0],n=null;e.type="text/css",e.id="matchmediajs-test",i.parentNode.insertBefore(e,i),n="getComputedStyle"in window&&window.getComputedStyle(e,null)||e.currentStyle,t={matchMedium:function(t){var i="@media "+t+"{ #matchmediajs-test { width: 1px; } }";return e.styleSheet?e.styleSheet.cssText=i:e.textContent=i,"1px"===n.width}}}return function(e){return{matches:t.matchMedium(e||"all"),media:e||"all"}}}())}(jQuery,Foundation),!function(t,e){function i(i,o,a,r){function l(){i||o.hide(),d(),r&&r.apply(o)}function d(){o[0].style.transitionDuration=0,o.removeClass(h+" "+u+" "+a)}if(o=t(o).eq(0),o.length){var h=i?n[0]:n[1],u=i?s[0]:s[1];d(),o.addClass(a).css("transition","none"),requestAnimationFrame(function(){o.addClass(h),i&&o.show()}),requestAnimationFrame(function(){o[0].offsetWidth,o.css("transition",""),o.addClass(u)}),o.one(e.transitionend(o),l)}}var n=["mui-enter","mui-leave"],s=["mui-enter-active","mui-leave-active"],o={animateIn:function(t,e,n){i(!0,t,e,n)},animateOut:function(t,e,n){i(!1,t,e,n)}},a=function(t,e,i){function n(r){a||(a=window.performance.now()),o=r-a,i.apply(e),t>o?s=window.requestAnimationFrame(n,e):(window.cancelAnimationFrame(s),e.trigger("finished.zf.animate",[e]).triggerHandler("finished.zf.animate",[e]))}var s,o,a=null;s=window.requestAnimationFrame(n)};e.Move=a,e.Motion=o}(jQuery,Foundation),!function(t,e){"use strict";e.Nest={Feather:function(e,i){e.attr("role","menubar"),i=i||"zf";var n=e.find("li").attr({role:"menuitem"}),s="is-"+i+"-submenu",o=s+"-item",a="is-"+i+"-submenu-parent";e.find("a:first").attr("tabindex",0),n.each(function(){var e=t(this),i=e.children("ul");i.length&&(e.addClass("has-submenu "+a).attr({"aria-haspopup":!0,"aria-selected":!1,"aria-expanded":!1,"aria-label":e.children("a:first").text()}),i.addClass("submenu "+s).attr({"data-submenu":"","aria-hidden":!0,role:"menu"})),e.parent("[data-submenu]").length&&e.addClass("is-submenu-item "+o)})},Burn:function(t,e){var i=(t.find("li").removeAttr("tabindex"),"is-"+e+"-submenu"),n=i+"-item",s="is-"+e+"-submenu-parent";t.find("*").removeClass(i+" "+n+" "+s+" has-submenu is-submenu-item submenu is-active").removeAttr("data-submenu").css("display","")}}}(jQuery,window.Foundation),!function(t,e){"use strict";var i=function(t,e,i){var n,s,o=this,a=e.duration,r=Object.keys(t.data())[0]||"timer",l=-1;this.restart=function(){l=-1,clearTimeout(s),this.start()},this.start=function(){clearTimeout(s),l=0>=l?a:l,t.data("paused",!1),n=Date.now(),s=setTimeout(function(){e.infinite&&o.restart(),i()},l),t.trigger("timerstart.zf."+r)},this.pause=function(){clearTimeout(s),t.data("paused",!0);var e=Date.now();l-=e-n,t.trigger("timerpaused.zf."+r)}},n=function(e,i){var n=e.length;0===n&&i();var s=function(){n--,0===n&&i()};e.each(function(){this.complete?s():"undefined"!=typeof this.naturalWidth&&this.naturalWidth>0?s():t(this).one("load",function(){s()})})};e.Timer=i,e.onImagesLoaded=n}(jQuery,window.Foundation),function(t){function e(){this.removeEventListener("touchmove",i),this.removeEventListener("touchend",e),d=!1}function i(i){if(t.spotSwipe.preventDefault&&i.preventDefault(),d){var n,s=i.touches[0].pageX,h=i.touches[0].pageY,u=o-s,c=a-h;l=(new Date).getTime()-r,Math.abs(u)>=t.spotSwipe.moveThreshold&&l<=t.spotSwipe.timeThreshold?n=u>0?"left":"right":Math.abs(c)>=t.spotSwipe.moveThreshold&&l<=t.spotSwipe.timeThreshold&&(n=c>0?"down":"up"),n&&(e.call(this),t(this).trigger("swipe",n).trigger("swipe"+n))}}function n(t){1==t.touches.length&&(o=t.touches[0].pageX,a=t.touches[0].pageY,d=!0,r=(new Date).getTime(),this.addEventListener("touchmove",i,!1),this.addEventListener("touchend",e,!1))}function s(){this.addEventListener&&this.addEventListener("touchstart",n,!1)}t.spotSwipe={version:"1.0.0",enabled:"ontouchstart"in document.documentElement,preventDefault:!0,moveThreshold:75,timeThreshold:200};var o,a,r,l,d=!1;t.event.special.swipe={setup:s},t.each(["left","up","down","right"],function(){t.event.special["swipe"+this]={setup:function(){t(this).on("swipe",t.noop)}}})}(jQuery),!function(t){t.fn.addTouch=function(){this.each(function(i,n){t(n).bind("touchstart touchmove touchend touchcancel",function(){e(event)})});var e=function(t){var e=t.changedTouches,i=e[0],n={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup"},s=n[t.type],o=document.createEvent("MouseEvent");o.initMouseEvent(s,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),i.target.dispatchEvent(o)}}}(jQuery),!function(t,e){"use strict";e(document).on("click.zf.trigger","[data-open]",function(){var t=e(this).data("open");e("#"+t).triggerHandler("open.zf.trigger",[e(this)])}),e(document).on("click.zf.trigger","[data-close]",function(){var t=e(this).data("close");t?e("#"+t).triggerHandler("close.zf.trigger",[e(this)]):e(this).trigger("close.zf.trigger")}),e(document).on("click.zf.trigger","[data-toggle]",function(){var t=e(this).data("toggle");e("#"+t).triggerHandler("toggle.zf.trigger",[e(this)])}),e(document).on("close.zf.trigger","[data-closable]",function(){var i=e(this).data("closable")||"fade-out";t.Motion?t.Motion.animateOut(e(this),i,function(){e(this).trigger("closed.zf")}):e(this).fadeOut().trigger("closed.zf")});var i=function(){for(var t=["WebKit","Moz","O","Ms",""],e=0;e<t.length;e++)if(t[e]+"MutationObserver"in window)return window[t[e]+"MutationObserver"];return!1}(),n=function(){r(),o(),a(),s()};e(window).load(function(){n()});var s=function(t){var i=e("[data-yeti-box]"),n=["dropdown","tooltip","reveal"];if(t&&("string"==typeof t?n.push(t):"object"==typeof t&&"string"==typeof t[0]?n.concat(t):console.error("Plugin names must be strings")),i.length){var s=n.map(function(t){return"closeme.zf."+t}).join(" ");e(window).off(s).on(s,function(t,i){var n=t.namespace.split(".")[0],s=e("[data-"+n+"]").not('[data-yeti-box="'+i+'"]');s.each(function(){var t=e(this);t.triggerHandler("close.zf.trigger",[t])})})}},o=function(t){var n,s=e("[data-resize]");s.length&&e(window).off("resize.zf.trigger").on("resize.zf.trigger",function(o){n&&clearTimeout(n),n=setTimeout(function(){i||s.each(function(){e(this).triggerHandler("resizeme.zf.trigger")}),s.attr("data-events","resize")},t||10)})},a=function(t){var n,s=e("[data-scroll]");s.length&&e(window).off("scroll.zf.trigger").on("scroll.zf.trigger",function(o){n&&clearTimeout(n),n=setTimeout(function(){i||s.each(function(){e(this).triggerHandler("scrollme.zf.trigger")}),s.attr("data-events","scroll")},t||10)})},r=function(){if(!i)return!1;var t=document.querySelectorAll("[data-resize], [data-scroll], [data-mutate]"),n=function(t){var i=e(t[0].target);switch(i.attr("data-events")){case"resize":i.triggerHandler("resizeme.zf.trigger",[i]);break;case"scroll":i.triggerHandler("scrollme.zf.trigger",[i,window.pageYOffset]);break;default:return!1}};if(t.length)for(var s=0;s<=t.length-1;s++){var o=new i(n);o.observe(t[s],{attributes:!0,childList:!1,characterData:!1,subtree:!1,attributeFilter:["data-events"]})}};t.IHearYou=n}(window.Foundation,window.jQuery),!function(t,e){"use strict";function i(n,s){this.$element=n,this.options=e.extend({},i.defaults,this.$element.data(),s),this.$window=e(window),this.name="Abide",this.attr="data-abide",this._init(),this._events(),t.registerPlugin(this)}i.defaults={validateOn:"fieldChange",labelErrorClass:"is-invalid-label",inputErrorClass:"is-invalid-input",formErrorSelector:".form-error",formErrorClass:"is-visible",patterns:{alpha:/^[a-zA-Z]+$/,alpha_numeric:/^[a-zA-Z0-9]+$/,integer:/^[-+]?\d+$/,number:/^[-+]?\d*(?:[\.\,]\d+)?$/,card:/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/,cvv:/^([0-9]){3,4}$/,email:/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+$/,url:/^(https?|ftp|file|ssh):\/\/(((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/,domain:/^([a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,8}$/,datetime:/^([0-2][0-9]{3})\-([0-1][0-9])\-([0-3][0-9])T([0-5][0-9])\:([0-5][0-9])\:([0-5][0-9])(Z|([\-\+]([0-1][0-9])\:00))$/,date:/(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))$/,time:/^(0[0-9]|1[0-9]|2[0-3])(:[0-5][0-9]){2}$/,dateISO:/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/,month_day_year:/^(0[1-9]|1[012])[- \/.](0[1-9]|[12][0-9]|3[01])[- \/.]\d{4}$/,day_month_year:/^(0[1-9]|[12][0-9]|3[01])[- \/.](0[1-9]|1[012])[- \/.]\d{4}$/,color:/^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/},validators:{equalTo:function(t,e,i){var n=document.getElementById(t.getAttribute(this.add_namespace("data-equalto"))).value,s=t.value,o=n===s;return o}}},i.prototype._init=function(){},i.prototype._events=function(){var t=this;this.$element.off(".abide").on("reset.fndtn.abide",function(i){t.resetForm(e(this))}).on("submit.fndtn.abide",function(e){e.preventDefault(),t.validateForm(t.$element)}).find("input, textarea, select").off(".abide").on("blur.fndtn.abide change.fndtn.abide",function(i){"fieldChange"===t.options.validateOn&&t.validateInput(e(i.target),t.$element)}).on("keydown.fndtn.abide",function(t){})},i.prototype._reflow=function(){},i.prototype.requiredCheck=function(t){switch(t[0].type){case"text":return t.attr("required")&&!t.val()?!1:!0;case"checkbox":return t.attr("required")&&!t.is(":checked")?!1:!0;case"radio":return t.attr("required")&&!t.is(":checked")?!1:!0;default:return!t.attr("required")||t.val()&&t.val().length&&!t.is(":empty")?!0:!1}},i.prototype.findLabel=function(t){return t.next("label").length?t.next("label"):t.closest("label")},i.prototype.addErrorClasses=function(t){var e=this,i=e.findLabel(t),n=t.next(e.options.formErrorSelector)||t.find(e.options.formErrorSelector);i&&i.addClass(e.options.labelErrorClass),n&&n.addClass(e.options.formErrorClass),t.addClass(e.options.inputErrorClass)},i.prototype.removeErrorClasses=function(t){var e=this,i=e.findLabel(t),n=t.next(e.options.formErrorSelector)||t.find(e.options.formErrorSelector);i&&i.hasClass(e.options.labelErrorClass)&&i.removeClass(e.options.labelErrorClass),n&&n.hasClass(e.options.formErrorClass)&&n.removeClass(e.options.formErrorClass),t.hasClass(e.options.inputErrorClass)&&t.removeClass(e.options.inputErrorClass)},i.prototype.validateInput=function(t,i){var n,s,o=this;i.find('input[type="text"]'),i.find('input[type="checkbox"]');"text"===t[0].type?o.requiredCheck(t)&&o.validateText(t)?(o.removeErrorClasses(t),t.trigger("valid.fndtn.abide",t[0])):(o.addErrorClasses(t),t.trigger("invalid.fndtn.abide",t[0])):"radio"===t[0].type?(s=t.attr("name"),n=t.siblings("label"),o.validateRadio(s)?(e(n).each(function(){e(this).hasClass(o.options.labelErrorClass)&&e(this).removeClass(o.options.labelErrorClass)}),t.trigger("valid.fndtn.abide",t[0])):(e(n).each(function(){e(this).addClass(o.options.labelErrorClass)}),t.trigger("invalid.fndtn.abide",t[0]))):"checkbox"===t[0].type?o.requiredCheck(t)?(o.removeErrorClasses(t),t.trigger("valid.fndtn.abide",t[0])):(o.addErrorClasses(t),t.trigger("invalid.fndtn.abide",t[0])):o.requiredCheck(t)&&o.validateText(t)?(o.removeErrorClasses(t),t.trigger("valid.fndtn.abide",t[0])):(o.addErrorClasses(t),t.trigger("invalid.fndtn.abide",t[0]))},i.prototype.validateForm=function(t){for(var i=this,n=t.find("input"),s=t.find("input").length,o=0;s>o;)i.validateInput(e(n[o]),t),o++;t.find(".form-error.is-visible").length||t.find(".is-invalid-label").length?t.find("[data-abide-error]").css("display","block"):t.find("[data-abide-error]").css("display","none")},i.prototype.validateText=function(t){var i=this.options.patterns,n=e(t).val(),s=e(t).attr("pattern");return 0===n.length?!0:n.match(i[s])?!0:!1},i.prototype.validateRadio=function(t){var i=this,n=(e(':radio[name="'+t+'"]').siblings("label"),0);return e(':radio[name="'+t+'"]').each(function(){i.requiredCheck(e(this))||n++,e(this).is(":checked")&&(n=0)}),n>0?!1:!0},i.prototype.matchValidation=function(t,e){},i.prototype.resetForm=function(t){var i=this,n="data-invalid";e("["+i.invalidAttr+"]",t).removeAttr(n),e("."+i.options.labelErrorClass,t).not("small").removeClass(i.options.labelErrorClass),e("."+i.options.inputErrorClass,t).not("small").removeClass(i.options.inputErrorClass),e(".form-error.is-visible").removeClass("is-visible"),t.find("[data-abide-error]").css("display","none"),e(":input",t).not(":button, :submit, :reset, :hidden, [data-abide-ignore]").val("").removeAttr(n)},i.prototype.destroy=function(){},t.plugin(i,"Abide"),"undefined"!=typeof module&&"undefined"!=typeof module.exports&&(module.exports=i),"function"==typeof define&&define(["foundation"],function(){return i})}(Foundation,jQuery),!function(t,e){"use strict";function i(n,s){this.$element=n,this.options=t.extend({},i.defaults,this.$element.data(),s),this._init(),e.registerPlugin(this),e.Keyboard.register("Accordion",{ENTER:"toggle",SPACE:"toggle",ARROW_DOWN:"next",ARROW_UP:"previous"})}i.defaults={slideSpeed:250,multiExpand:!1,allowAllClosed:!1},i.prototype._init=function(){this.$element.attr("role","tablist"),this.$tabs=this.$element.children("li"),this.$tabs.each(function(i,n){var s=t(n),o=s.find("[data-tab-content]"),a=o[0].id||e.GetYoDigits(6,"accordion"),r=n.id||a+"-label";s.find("a:first").attr({"aria-controls":a,role:"tab",id:r,"aria-expanded":!1,"aria-selected":!1}),o.attr({role:"tabpanel","aria-labelledby":r,"aria-hidden":!0,id:a})});var i=this.$element.find(".is-active").children("[data-tab-content]");i.length&&this.down(i,!0),this._events()},i.prototype._events=function(){var i=this;this.$tabs.each(function(){var n=t(this),s=n.children("[data-tab-content]");s.length&&n.children("a").off("click.zf.accordion keydown.zf.accordion").on("click.zf.accordion",function(t){t.preventDefault(),n.hasClass("is-active")?(i.options.allowAllClosed||n.siblings().hasClass("is-active"))&&i.up(s):i.down(s)}).on("keydown.zf.accordion",function(t){e.Keyboard.handleKey(t,i,{toggle:function(){i.toggle(s)},next:function(){n.next().find("a").focus().trigger("click.zf.accordion")},previous:function(){n.prev().find("a").focus().trigger("click.zf.accordion")},handled:function(){t.preventDefault(),t.stopPropagation()}})})})},i.prototype.toggle=function(t){if(t.parent().hasClass("is-active")){if(!this.options.allowAllClosed&&!t.parent().siblings().hasClass("is-active"))return;this.up(t)}else this.down(t)},i.prototype.down=function(i,n){var s=this;if(!this.options.multiExpand&&!n){var o=this.$element.find(".is-active").children("[data-tab-content]");o.length&&this.up(o)}i.attr("aria-hidden",!1).parent("[data-tab-content]").addBack().parent().addClass("is-active"),e.Move(s.options.slideSpeed,i,function(){i.slideDown(s.options.slideSpeed)}),n||e._reflow(this.$element.attr("data-accordion")),t("#"+i.attr("aria-labelledby")).attr({"aria-expanded":!0,"aria-selected":!0}),this.$element.trigger("down.zf.accordion",[i])},i.prototype.up=function(i){var n=i.parent().siblings(),s=this,o=this.options.multiExpand?n.hasClass("is-active"):i.parent().hasClass("is-active");(this.options.allowAllClosed||o)&&(e.Move(this.options.slideSpeed,i,function(){i.slideUp(s.options.slideSpeed)}),i.attr("aria-hidden",!0).parent().removeClass("is-active"),t("#"+i.attr("aria-labelledby")).attr({"aria-expanded":!1,"aria-selected":!1}),this.$element.trigger("up.zf.accordion",[i]))},i.prototype.destroy=function(){this.$element.find("[data-tab-content]").slideUp(0).css("display",""),this.$element.find("a").off(".zf.accordion"),e.unregisterPlugin(this)},e.plugin(i,"Accordion")}(jQuery,window.Foundation),!function(t){"use strict";function e(i,n){this.$element=i,this.options=t.extend({},e.defaults,this.$element.data(),n),Foundation.Nest.Feather(this.$element,"accordion"),this._init(),Foundation.registerPlugin(this),Foundation.Keyboard.register("AccordionMenu",{ENTER:"toggle",SPACE:"toggle",ARROW_RIGHT:"open",ARROW_UP:"up",ARROW_DOWN:"down",ARROW_LEFT:"close",ESCAPE:"closeAll",TAB:"down",SHIFT_TAB:"up"})}e.defaults={slideSpeed:250,multiOpen:!0},e.prototype._init=function(){this.$element.find("[data-submenu]").not(".is-active").slideUp(0),this.$element.attr({role:"tablist","aria-multiselectable":this.options.multiOpen}),this.$menuLinks=this.$element.find(".has-submenu"),this.$menuLinks.each(function(){var e=this.id||Foundation.GetYoDigits(6,"acc-menu-link"),i=t(this),n=i.children("[data-submenu]"),s=n[0].id||Foundation.GetYoDigits(6,"acc-menu"),o=n.hasClass("is-active");i.attr({"aria-controls":s,"aria-expanded":o,"aria-selected":!1,role:"tab",id:e}),n.attr({"aria-labelledby":e,"aria-hidden":!o,role:"tabpanel",id:s})});var e=this.$element.find(".is-active");if(e.length){var i=this;e.each(function(){i.down(t(this))})}this._events()},e.prototype._events=function(){var e=this;this.$element.find("li").each(function(){var i=t(this).children("[data-submenu]");i.length&&t(this).children("a").off("click.zf.accordionmenu").on("click.zf.accordionmenu",function(t){t.preventDefault(),e.toggle(i)})}).on("keydown.zf.accordionmenu",function(i){var n,s,o=t(this),a=o.parent("ul").children("li"),r=o.children("[data-submenu]");a.each(function(e){return t(this).is(o)?(n=a.eq(Math.max(0,e-1)),s=a.eq(Math.min(e+1,a.length-1)),t(this).children("[data-submenu]:visible").length&&(s=o.find("li:first-child")),t(this).is(":first-child")?n=o.parents("li").first():n.children("[data-submenu]:visible").length&&(n=n.find("li:last-child")),void(t(this).is(":last-child")&&(s=o.parents("li").first().next("li")))):void 0}),Foundation.Keyboard.handleKey(i,e,{open:function(){r.is(":hidden")&&(e.down(r),r.find("li").first().focus())},close:function(){r.length&&!r.is(":hidden")?e.up(r):o.parent("[data-submenu]").length&&(e.up(o.parent("[data-submenu]")),o.parents("li").first().focus())},up:function(){n.focus()},down:function(){s.focus()},toggle:function(){o.children("[data-submenu]").length&&e.toggle(o.children("[data-submenu]"))},closeAll:function(){e.hideAll()},handled:function(){i.preventDefault(),i.stopImmediatePropagation()}})})},e.prototype.hideAll=function(){this.$element.find("[data-submenu]").slideUp(this.options.slideSpeed)},e.prototype.toggle=function(t){t.is(":hidden")?this.down(t):this.up(t)},e.prototype.down=function(t){var e=this;this.options.multiOpen||this.up(this.$element.find(".is-active").not(t.parentsUntil(this.$element).add(t))),t.addClass("is-active").attr({"aria-hidden":!1}).parent(".has-submenu").attr({"aria-expanded":!0,"aria-selected":!0}),Foundation.Move(this.options.slideSpeed,t,function(){t.slideDown(e.options.slideSpeed)}),this.$element.trigger("down.zf.accordionMenu",[t])},e.prototype.up=function(t){var e=this;Foundation.Move(this.options.slideSpeed,t,function(){t.slideUp(e.options.slideSpeed)}),t.attr("aria-hidden",!0).find("[data-submenu]").slideUp(0).attr("aria-hidden",!0).end().parent(".has-submenu").attr({"aria-expanded":!1,"aria-selected":!1}),this.$element.trigger("up.zf.accordionMenu",[t])},e.prototype.destroy=function(){this.$element.find("[data-submenu]").slideDown(0).css("display",""),this.$element.find("a").off("click.zf.accordionMenu"),Foundation.Nest.Burn(this.$element,"accordion"),Foundation.unregisterPlugin(this)},Foundation.plugin(e,"AccordionMenu")}(jQuery,window.Foundation),!function(t,e){"use strict";function i(n,s){this.$element=n,this.options=t.extend({},i.defaults,this.$element.data(),s),e.Nest.Feather(this.$element,"drilldown"),this._init(),e.registerPlugin(this),e.Keyboard.register("Drilldown",{ENTER:"open",SPACE:"open",ARROW_RIGHT:"next",ARROW_UP:"up",ARROW_DOWN:"down",ARROW_LEFT:"previous",ESCAPE:"close",TAB:"down",SHIFT_TAB:"up"})}i.defaults={backButton:'<li class="js-drilldown-back"><a>Back</a></li>',wrapper:"<div></div>",closeOnClick:!1},i.prototype._init=function(){this.$submenuAnchors=this.$element.find("li.has-submenu"),this.$submenus=this.$submenuAnchors.children("[data-submenu]"),this.$menuItems=this.$element.find("li:visible").not(".js-drilldown-back").attr("role","menuitem"),this._prepareMenu(),this._keyboardEvents()},i.prototype._prepareMenu=function(){var e=this;this.$submenuAnchors.each(function(){var i=t(this),n=i.find("a:first");n.data("savedHref",n.attr("href")).removeAttr("href"),i.children("[data-submenu]").attr({
"aria-hidden":!0,tabindex:0,role:"menu"}),e._events(i)}),this.$submenus.each(function(){var i=t(this),n=i.find(".js-drilldown-back");n.length||(i.prepend(e.options.backButton),e._back(i))}),this.$element.parent().hasClass("is-drilldown")||(this.$wrapper=t(this.options.wrapper).addClass("is-drilldown").css(this._getMaxDims()),this.$element.wrap(this.$wrapper))},i.prototype._events=function(e){var i=this;e.off("click.zf.drilldown").on("click.zf.drilldown",function(n){if(t(n.target).parentsUntil("ul","li").hasClass("is-drilldown-submenu-parent")&&(n.stopImmediatePropagation(),n.preventDefault()),i._show(e),i.options.closeOnClick){var s=t("body").not(i.$wrapper);s.off(".zf.drilldown").on("click.zf.drilldown",function(t){t.preventDefault(),i._hideAll(),s.off(".zf.drilldown")})}})},i.prototype._keyboardEvents=function(){var i=this;this.$menuItems.add(this.$element.find(".js-drilldown-back")).on("keydown.zf.drilldown",function(n){var s,o,a=t(this),r=a.parent("ul").children("li");r.each(function(e){return t(this).is(a)?(s=r.eq(Math.max(0,e-1)),void(o=r.eq(Math.min(e+1,r.length-1)))):void 0}),e.Keyboard.handleKey(n,i,{next:function(){a.is(i.$submenuAnchors)&&(i._show(a),a.on(e.transitionend(a),function(){a.find("ul li").filter(i.$menuItems).first().focus()}))},previous:function(){i._hide(a.parent("ul")),a.parent("ul").on(e.transitionend(a),function(){setTimeout(function(){a.parent("ul").parent("li").focus()},1)})},up:function(){s.focus()},down:function(){o.focus()},close:function(){i._back()},open:function(){a.is(i.$menuItems)?a.is(i.$submenuAnchors)&&(i._show(a),setTimeout(function(){a.find("ul li").filter(i.$menuItems).first().focus()},1)):(i._hide(a.parent("ul")),setTimeout(function(){a.parent("ul").parent("li").focus()},1))},handled:function(){n.preventDefault(),n.stopImmediatePropagation()}})})},i.prototype._hideAll=function(){var t=this.$element.find(".is-drilldown-sub.is-active").addClass("is-closing");t.one(e.transitionend(t),function(e){t.removeClass("is-active is-closing")}),this.$element.trigger("closed.zf.drilldown")},i.prototype._back=function(t){var e=this;t.off("click.zf.drilldown"),t.children(".js-drilldown-back").on("click.zf.drilldown",function(i){i.stopImmediatePropagation(),e._hide(t)})},i.prototype._menuLinkEvents=function(){var t=this;this.$menuItems.not(".has-submenu").off("click.zf.drilldown").on("click.zf.drilldown",function(e){setTimeout(function(){t._hideAll()},0)})},i.prototype._show=function(t){t.children("[data-submenu]").addClass("is-active"),this.$element.trigger("open.zf.drilldown",[t])},i.prototype._hide=function(t){t.addClass("is-closing").one(e.transitionend(t),function(){t.removeClass("is-active is-closing")}),t.trigger("hide.zf.drilldown",[t])},i.prototype._getMaxDims=function(){var e=0,i={};return this.$submenus.add(this.$element).each(function(){var i=t(this).children("li").length;e=i>e?i:e}),i.height=e*this.$menuItems[0].getBoundingClientRect().height+"px",i.width=this.$element[0].getBoundingClientRect().width+"px",i},i.prototype.destroy=function(){this._hideAll(),e.Nest.Burn(this.$element,"drilldown"),this.$element.unwrap().find(".js-drilldown-back").remove().end().find(".is-active, .is-closing, .is-drilldown-sub").removeClass("is-active is-closing is-drilldown-sub").end().find("[data-submenu]").removeAttr("aria-hidden tabindex role").off(".zf.drilldown").end().off("zf.drilldown"),this.$element.find("a").each(function(){var e=t(this);e.data("savedHref")&&e.attr("href",e.data("savedHref")).removeData("savedHref")}),e.unregisterPlugin(this)},e.plugin(i,"Drilldown")}(jQuery,window.Foundation),!function(t,e){"use strict";function i(n,s){this.$element=n,this.options=t.extend({},i.defaults,this.$element.data(),s),this._init(),e.registerPlugin(this),e.Keyboard.register("Dropdown",{ENTER:"open",SPACE:"open",ESCAPE:"close",TAB:"tab_forward",SHIFT_TAB:"tab_backward"})}i.defaults={hoverDelay:250,hover:!1,vOffset:1,hOffset:1,positionClass:"",trapFocus:!1,autoFocus:!1},i.prototype._init=function(){var i=this.$element.attr("id");this.$anchor=t('[data-toggle="'+i+'"]')||t('[data-open="'+i+'"]'),this.$anchor.attr({"aria-controls":i,"data-is-focus":!1,"data-yeti-box":i,"aria-haspopup":!0,"aria-expanded":!1}),this.options.positionClass=this.getPositionClass(),this.counter=4,this.usedPositions=[],this.$element.attr({"aria-hidden":"true","data-yeti-box":i,"data-resize":i,"aria-labelledby":this.$anchor[0].id||e.GetYoDigits(6,"dd-anchor")}),this._events()},i.prototype.getPositionClass=function(){var t=this.$element[0].className.match(/(top|left|right)/g);return t=t?t[0]:""},i.prototype._reposition=function(t){this.usedPositions.push(t?t:"bottom"),!t&&this.usedPositions.indexOf("top")<0?this.$element.addClass("top"):"top"===t&&this.usedPositions.indexOf("bottom")<0?this.$element.removeClass(t):"left"===t&&this.usedPositions.indexOf("right")<0?this.$element.removeClass(t).addClass("right"):"right"===t&&this.usedPositions.indexOf("left")<0?this.$element.removeClass(t).addClass("left"):!t&&this.usedPositions.indexOf("top")>-1&&this.usedPositions.indexOf("left")<0?this.$element.addClass("left"):"top"===t&&this.usedPositions.indexOf("bottom")>-1&&this.usedPositions.indexOf("left")<0?this.$element.removeClass(t).addClass("left"):"left"===t&&this.usedPositions.indexOf("right")>-1&&this.usedPositions.indexOf("bottom")<0?this.$element.removeClass(t):"right"===t&&this.usedPositions.indexOf("left")>-1&&this.usedPositions.indexOf("bottom")<0?this.$element.removeClass(t):this.$element.removeClass(t),this.classChanged=!0,this.counter--},i.prototype._setPosition=function(){if("false"===this.$anchor.attr("aria-expanded"))return!1;var t=this.getPositionClass(),i=e.Box.GetDimensions(this.$element),n=(e.Box.GetDimensions(this.$anchor),"left"===t?"left":"right"===t?"left":"top"),s="top"===n?"height":"width";"height"===s?this.options.vOffset:this.options.hOffset;if(i.width>=i.windowDims.width||!this.counter&&!e.Box.ImNotTouchingYou(this.$element))return this.$element.offset(e.Box.GetOffsets(this.$element,this.$anchor,"center bottom",this.options.vOffset,this.options.hOffset,!0)).css({width:i.windowDims.width-2*this.options.hOffset,height:"auto"}),this.classChanged=!0,!1;for(this.$element.offset(e.Box.GetOffsets(this.$element,this.$anchor,t,this.options.vOffset,this.options.hOffset));!e.Box.ImNotTouchingYou(this.$element)&&this.counter;)this._reposition(t),this._setPosition()},i.prototype._events=function(){var t=this;this.$element.on({"open.zf.trigger":this.open.bind(this),"close.zf.trigger":this.close.bind(this),"toggle.zf.trigger":this.toggle.bind(this),"resizeme.zf.trigger":this._setPosition.bind(this)}),this.options.hover&&this.$anchor.off("mouseenter.zf.dropdown mouseleave.zf.dropdown").on("mouseenter.zf.dropdown",function(){clearTimeout(t.timeout),t.timeOut=setTimeout(function(){t.open(),t.$anchor.data("hover",!0)},t.options.hoverDelay)}).on("mouseleave.zf.dropdown",function(){clearTimeout(t.timeout),t.timeOut=setTimeout(function(){t.close(),t.$anchor.data("hover",!1)},t.options.hoverDelay)}),this.$anchor.add(this.$element).on("keydown.zf.dropdown",function(i){var n=e.Keyboard.findFocusable(t.$element);e.Keyboard.handleKey(i,t,{tab_forward:function(){this.$element.find(":focus").is(n.eq(-1))&&(this.options.trapFocus?(n.eq(0).focus(),i.preventDefault()):this.close())},tab_backward:function(){(this.$element.find(":focus").is(n.eq(0))||this.$element.is(":focus"))&&(this.options.trapFocus?(n.eq(-1).focus(),i.preventDefault()):this.close())},open:function(){t.open(),t.$element.attr("tabindex",-1).focus()},close:function(){t.close(),t.$anchor.focus()}})})},i.prototype.open=function(){if(this.$element.trigger("closeme.zf.dropdown",this.$element.attr("id")),this.$anchor.addClass("hover").attr({"aria-expanded":!0}),this._setPosition(),this.$element.addClass("is-open").attr({"aria-hidden":!1}),this.options.autoFocus){var t=e.Keyboard.findFocusable(this.$element);t.length&&t.eq(0).focus()}this.$element.trigger("show.zf.dropdown",[this.$element])},i.prototype.close=function(){if(!this.$element.hasClass("is-open"))return!1;if(this.$element.removeClass("is-open").attr({"aria-hidden":!0}),this.$anchor.removeClass("hover").attr("aria-expanded",!1),this.classChanged){var t=this.getPositionClass();t&&this.$element.removeClass(t),this.$element.addClass(this.options.positionClass).css({height:"",width:""}),this.classChanged=!1,this.counter=4,this.usedPositions.length=0}this.$element.trigger("hide.zf.dropdown",[this.$element])},i.prototype.toggle=function(){if(this.$element.hasClass("is-open")){if(this.$anchor.data("hover"))return;this.close()}else this.open()},i.prototype.destroy=function(){this.$element.off(".zf.trigger").hide(),this.$anchor.off(".zf.dropdown"),e.unregisterPlugin(this)},e.plugin(i,"Dropdown")}(jQuery,window.Foundation),!function(t,e){"use strict";function i(n,s){this.$element=n,this.options=t.extend({},i.defaults,this.$element.data(),s),e.Nest.Feather(this.$element,"dropdown"),this._init(),e.registerPlugin(this),e.Keyboard.register("DropdownMenu",{ENTER:"open",SPACE:"open",ARROW_RIGHT:"next",ARROW_UP:"up",ARROW_DOWN:"down",ARROW_LEFT:"previous",ESCAPE:"close"})}i.defaults={disableHover:!1,autoclose:!0,hoverDelay:50,clickOpen:!1,closingTime:500,alignment:"left",closeOnClick:!0,verticalClass:"vertical",rightClass:"align-right",forceFollow:!0},i.prototype._init=function(){var t=this.$element.find("li.is-dropdown-submenu-parent");this.$element.children(".is-dropdown-submenu-parent").children(".is-dropdown-submenu").addClass("first-sub"),this.$menuItems=this.$element.find('[role="menuitem"]'),this.$tabs=this.$element.children('[role="menuitem"]'),this.isVert=this.$element.hasClass(this.options.verticalClass),this.$tabs.find("ul.is-dropdown-submenu").addClass(this.options.verticalClass),this.$element.hasClass(this.options.rightClass)||"right"===this.options.alignment?(this.options.alignment="right",t.addClass("is-left-arrow opens-left")):t.addClass("is-right-arrow opens-right"),this.isVert||this.$tabs.filter(".is-dropdown-submenu-parent").removeClass("is-right-arrow is-left-arrow opens-right opens-left").addClass("is-down-arrow"),this.changed=!1,this._events()},i.prototype._events=function(){var i,n=this,s="ontouchstart"in window||"undefined"!=typeof window.ontouchstart,o="is-dropdown-submenu-parent";(this.options.clickOpen||s)&&this.$menuItems.on("click.zf.dropdownmenu touchstart.zf.dropdownmenu",function(e){var i=t(e.target).parentsUntil("ul","."+o),a=i.hasClass(o),r="true"===i.attr("data-is-click");i.children(".is-dropdown-submenu");if(a)if(r){if(!n.options.closeOnClick||!n.options.clickOpen&&!s||n.options.forceFollow&&s)return;e.stopImmediatePropagation(),e.preventDefault(),n._hide(i)}else e.preventDefault(),e.stopImmediatePropagation(),n._show(i.children(".is-dropdown-submenu")),i.add(i.parentsUntil(n.$element,"."+o)).attr("data-is-click",!0)}),this.options.disableHover||this.$menuItems.on("mouseenter.zf.dropdownmenu",function(e){e.stopImmediatePropagation();var s=t(this),a=s.hasClass(o);a&&(clearTimeout(i),i=setTimeout(function(){n._show(s.children(".is-dropdown-submenu"))},n.options.hoverDelay))}).on("mouseleave.zf.dropdownmenu",function(e){var s=t(this),a=s.hasClass(o);if(a&&n.options.autoclose){if("true"===s.attr("data-is-click")&&n.options.clickOpen)return!1;i=setTimeout(function(){n._hide(s)},n.options.closingTime)}}),this.$menuItems.on("keydown.zf.dropdownmenu",function(i){var s,o,a=t(i.target).parentsUntil("ul",'[role="menuitem"]'),r=n.$tabs.index(a)>-1,l=r?n.$tabs:a.siblings("li").add(a);l.each(function(e){return t(this).is(a)?(s=l.eq(e-1),void(o=l.eq(e+1))):void 0});var d=function(){a.is(":last-child")||o.children("a:first").focus()},h=function(){s.children("a:first").focus()},u=function(){var t=a.children("ul.is-dropdown-submenu");t.length&&(n._show(t),a.find("li > a:first").focus())},c=function(){var t=a.parent("ul").parent("li");t.children("a:first").focus(),n._hide(t)},f={open:u,close:function(){n._hide(n.$element),n.$menuItems.find("a:first").focus()},handled:function(){i.preventDefault(),i.stopImmediatePropagation()}};r?n.vertical?"left"===n.options.alignment?t.extend(f,{down:d,up:h,next:u,previous:c}):t.extend(f,{down:d,up:h,next:c,previous:u}):t.extend(f,{next:d,previous:h,down:u,up:c}):"left"===n.options.alignment?t.extend(f,{next:u,previous:c,down:d,up:h}):t.extend(f,{next:c,previous:u,down:d,up:h}),e.Keyboard.handleKey(i,n,f)})},i.prototype._addBodyHandler=function(){var e=t(document.body),i=this;e.off("mouseup.zf.dropdownmenu touchend.zf.dropdownmenu").on("mouseup.zf.dropdownmenu touchend.zf.dropdownmenu",function(t){var n=i.$element.find(t.target);n.length||(i._hide(),e.off("mouseup.zf.dropdownmenu touchend.zf.dropdownmenu"))})},i.prototype._show=function(i){var n=this.$tabs.index(this.$tabs.filter(function(e,n){return t(n).find(i).length>0})),s=i.parent("li.is-dropdown-submenu-parent").siblings("li.is-dropdown-submenu-parent");this._hide(s,n),i.css("visibility","hidden").addClass("js-dropdown-active").attr({"aria-hidden":!1}).parent("li.is-dropdown-submenu-parent").addClass("is-active").attr({"aria-selected":!0,"aria-expanded":!0});var o=e.Box.ImNotTouchingYou(i,null,!0);if(!o){var a="left"===this.options.alignment?"-right":"-left",r=i.parent(".is-dropdown-submenu-parent");r.removeClass("opens"+a).addClass("opens-"+this.options.alignment),o=e.Box.ImNotTouchingYou(i,null,!0),o||r.removeClass("opens-"+this.options.alignment).addClass("opens-inner"),this.changed=!0}i.css("visibility",""),this.options.closeOnClick&&this._addBodyHandler(),this.$element.trigger("show.zf.dropdownmenu",[i])},i.prototype._hide=function(t,e){var i;i=t&&t.length?t:void 0!==e?this.$tabs.not(function(t,i){return t===e}):this.$element;var n=i.hasClass("is-active")||i.find(".is-active").length>0;if(n){if(i.find("li.is-active").add(i).attr({"aria-selected":!1,"aria-expanded":!1,"data-is-click":!1}).removeClass("is-active"),i.find("ul.js-dropdown-active").attr({"aria-hidden":!0}).removeClass("js-dropdown-active"),this.changed||i.find("opens-inner").length){var s="left"===this.options.alignment?"right":"left";i.find("li.is-dropdown-submenu-parent").add(i).removeClass("opens-inner opens-"+this.options.alignment).addClass("opens-"+s),this.changed=!1}this.$element.trigger("hide.zf.dropdownmenu",[i])}},i.prototype.destroy=function(){this.$menuItems.off(".zf.dropdownmenu").removeAttr("data-is-click").removeClass("is-right-arrow is-left-arrow is-down-arrow opens-right opens-left opens-inner"),e.Nest.Burn(this.$element,"dropdown"),e.unregisterPlugin(this)},e.plugin(i,"DropdownMenu")}(jQuery,window.Foundation),!function(t,e){"use strict";function i(n,s){this.$element=n,this.options=e.extend({},i.defaults,this.$element.data(),s),this.$window=e(window),this.name="equalizer",this.attr="data-equalizer",this._init(),this._events(),t.registerPlugin(this)}i.defaults={equalizeOnStack:!0,throttleInterval:50},i.prototype._init=function(){this._reflow()},i.prototype._events=function(){var e=this;this.$window.off(".equalizer").on("resize.fndtn.equalizer",t.util.throttle(function(){e._reflow()},e.options.throttleInterval))},i.prototype._killswitch=function(){},i.prototype._reflow=function(){var i=this;e("["+this.attr+"]").each(function(){var n=e(this),s=[],o=n.find("img");o.length?t.onImagesLoaded(o,function(){s=i.getHeights(n),i.applyHeight(n,s)}):(s=i.getHeights(n),i.applyHeight(n,s))})},i.prototype.getHeights=function(t){var i,n=t.data("equalizer"),s=n?t.find("["+this.attr+'-watch="'+n+'"]:visible'):t.find("["+this.attr+"-watch]:visible");return s.height("inherit"),i=s.map(function(){return e(this).outerHeight(!1)}).get()},i.prototype.applyHeight=function(t,i){var n=t.data("equalizer"),s=n?t.find("["+this.attr+'-watch="'+n+'"]:visible'):t.find("["+this.attr+"-watch]:visible"),o=Math.max.apply(null,i);t.trigger("preEqualized.zf.Equalizer");for(var a=0;a<s.length;a++)e(s[a]).css("height",o);t.trigger("postEqualized.zf.Equalizer")},i.prototype.destroy=function(){},t.plugin(i,"Equalizer"),"undefined"!=typeof module&&"undefined"!=typeof module.exports&&(module.exports=i),"function"==typeof define&&define(["foundation"],function(){return i})}(Foundation,jQuery),!function(t,e){"use strict";function i(n,s){this.$element=n,this.options=e.extend({},i.defaults,s),this.rules=[],this.currentPath="",this._init(),this._events(),t.registerPlugin(this)}i.defaults={rules:null},i.SPECIAL_QUERIES={landscape:"screen and (orientation: landscape)",portrait:"screen and (orientation: portrait)",retina:"only screen and (-webkit-min-device-pixel-ratio: 2), only screen and (min--moz-device-pixel-ratio: 2), only screen and (-o-min-device-pixel-ratio: 2/1), only screen and (min-device-pixel-ratio: 2), only screen and (min-resolution: 192dpi), only screen and (min-resolution: 2dppx)"},i.prototype._init=function(){this._addBreakpoints(),this._generateRules(),this._reflow()},i.prototype._events=function(){e(window).on("resize.fndtn.interchange",t.util.throttle(this._reflow.bind(this),50))},i.prototype._reflow=function(){var t;for(var e in this.rules){var i=this.rules[e];window.matchMedia(i.query).matches&&(t=i)}t&&this.replace(t.path)},i.prototype._addBreakpoints=function(){for(var e in t.MediaQuery.queries){var n=t.MediaQuery.queries[e];i.SPECIAL_QUERIES[n.name]=n.value}},i.prototype._generateRules=function(){var t,e=[];t=this.options.rules?this.options.rules:this.$element.data("interchange").match(/\[.*?\]/g);for(var n in t){var s=t[n].slice(1,-1).split(", "),o=s.slice(0,-1).join(""),a=s[s.length-1];i.SPECIAL_QUERIES[a]&&(a=i.SPECIAL_QUERIES[a]),e.push({path:o,query:a})}this.rules=e},i.prototype.replace=function(t){if(this.currentPath!==t){var i=this;"IMG"===this.$element[0].nodeName?this.$element.attr("src",t).load(function(){i.$element.trigger("replaced.zf.interchange"),i.currentPath=t}):t.match(/\.(gif|jpg|jpeg|tiff|png)([?#].*)?/i)?this.$element.css({"background-image":"url("+t+")"}):e.get(t,function(e){i.$element.html(e),i.$element.trigger("replaced.zf.interchange"),i.currentPath=t})}},i.prototype.destroy=function(){},t.plugin(i,"Interchange"),"undefined"!=typeof module&&"undefined"!=typeof module.exports&&(module.exports=i),"function"==typeof define&&define(["foundation"],function(){return i})}(Foundation,jQuery),!function(t,e){"use strict";function i(n,s){this.$element=n,this.options=e.extend({},i.defaults,this.$element.data(),s),this._init(),t.registerPlugin(this)}i.defaults={animationDuration:500,animationEasing:"linear",threshold:50,activeClass:"active",deepLinking:!1,barOffset:0},i.prototype._init=function(){var i=this.$element[0].id||t.GetYoDigits(6,"magellan");this.$targets=e("[data-magellan-target]"),this.$links=this.$element.find("a"),this.$element.attr({"data-resize":i,"data-scroll":i,id:i}),this.$active=e(),this.scrollPos=parseInt(window.pageYOffset,10),this._events()},i.prototype.calcPoints=function(){var t=this,i=document.body,n=document.documentElement;this.points=[],this.winHeight=Math.round(Math.max(window.innerHeight,document.body.clientHeight)),this.docHeight=Math.round(Math.max(i.scrollHeight,i.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight)),this.$targets.each(function(){var i=e(this),n=Math.round(i.offset().top-t.options.threshold);i.targetPoint=n,t.points.push(n)})},i.prototype._events=function(){var t=this,i=e("html, body"),n={duration:t.options.animationDuration,easing:t.options.animationEasing};e(window).one("load",function(){t.calcPoints(),t._updateActive()}),this.$element.on({"resizeme.zf.trigger":this.reflow.bind(this),"scrollme.zf.trigger":this._updateActive.bind(this)}).on("click.zf.magellan",'a[href^="#"]',function(s){s.preventDefault();var o=this.getAttribute("href"),a=e(o).offset().top-t.options.threshold/2-t.options.barOffset;i.stop(!0).animate({scrollTop:a},n)})},i.prototype.reflow=function(){this.calcPoints(),this._updateActive()},i.prototype._updateActive=function(){var t,e=parseInt(window.pageYOffset,10);if(e+this.winHeight===this.docHeight)t=this.points.length-1;else if(e<this.points[0])t=0;else{var i=this.scrollPos<e,n=this,s=this.points.filter(function(t,s){return i?e>=t:t-n.options.threshold<=e});t=s.length?s.length-1:0}if(this.$active.removeClass(this.options.activeClass),this.$active=this.$links.eq(t).addClass(this.options.activeClass),this.options.deepLinking){var o=this.$active[0].getAttribute("href");window.history.pushState?window.history.pushState(null,null,o):window.location.hash=o}this.scrollPos=e,this.$element.trigger("update.zf.magellan",[this.$active])},i.prototype.destroy=function(){if(this.$element.off(".zf.trigger .zf.magellan").find("."+this.options.activeClass).removeClass(this.options.activeClass),this.options.deepLinking){var e=this.$active[0].getAttribute("href");window.location.hash.replace(e,"")}t.unregisterPlugin(this)},t.plugin(i,"Magellan"),"undefined"!=typeof module&&"undefined"!=typeof module.exports&&(module.exports=i),"function"==typeof define&&define(["foundation"],function(){return i})}(Foundation,jQuery),!function(t,e){"use strict";function i(n,s){this.$element=n,this.options=t.extend({},i.defaults,this.$element.data(),s),this.$lastTrigger=t(),this._init(),this._events(),e.registerPlugin(this)}i.defaults={closeOnClick:!0,transitionTime:0,position:"left",forceTop:!0,isRevealed:!1,revealOn:null,autoFocus:!0,revealClass:"reveal-for-"},i.prototype._init=function(){var e=this.$element.attr("id");if(this.$element.attr("aria-hidden","true"),t(document).find('[data-open="'+e+'"], [data-close="'+e+'"], [data-toggle="'+e+'"]').attr("aria-expanded","false").attr("aria-controls",e),this.options.closeOnClick)if(t(".js-off-canvas-exit").length)this.$exiter=t(".js-off-canvas-exit");else{var i=document.createElement("div");i.setAttribute("class","js-off-canvas-exit"),t("[data-off-canvas-content]").append(i),this.$exiter=t(i)}this.options.isRevealed=this.options.isRevealed||new RegExp(this.options.revealClass,"g").test(this.$element[0].className),this.options.isRevealed&&(this.options.revealOn=this.options.revealOn||this.$element[0].className.match(/(reveal-for-medium|reveal-for-large)/g)[0].split("-")[2],this._setMQChecker()),this.options.transitionTime||(this.options.transitionTime=1e3*parseFloat(window.getComputedStyle(t("[data-off-canvas-wrapper]")[0]).transitionDuration))},i.prototype._events=function(){if(this.$element.on({"open.zf.trigger":this.open.bind(this),"close.zf.trigger":this.close.bind(this),"toggle.zf.trigger":this.toggle.bind(this),"keydown.zf.offcanvas":this._handleKeyboard.bind(this)}),this.$exiter.length){this.$exiter.on({"click.zf.offcanvas":this.close.bind(this)})}},i.prototype._setMQChecker=function(){var i=this;t(window).on("changed.zf.mediaquery",function(){e.MediaQuery.atLeast(i.options.revealOn)?i.reveal(!0):i.reveal(!1)}).one("load.zf.offcanvas",function(){e.MediaQuery.atLeast(i.options.revealOn)&&i.reveal(!0)})},i.prototype.reveal=function(t){var e=this.$element.find("[data-close]");t?e.length&&e.hide():e.length&&e.show()},i.prototype.open=function(i,n){if(!this.$element.hasClass("is-open")){var s=this;t(document.body);t("body").scrollTop(0),e.Move(this.options.transitionTime,this.$element,function(){t("[data-off-canvas-wrapper]").addClass("is-off-canvas-open is-open-"+s.options.position),s.$element.addClass("is-open").attr("aria-hidden","false").trigger("opened.zf.offcanvas")}),n&&(this.$lastTrigger=n.attr("aria-expanded","true")),this.options.autoFocus&&this.$element.one("finished.zf.animate",function(){s.$element.find("a, button").eq(0).focus()})}},i.prototype.close=function(){if(this.$element.hasClass("is-open")){var i=this;e.Move(this.options.transitionTime,this.$element,function(){t("[data-off-canvas-wrapper]").removeClass("is-off-canvas-open is-open-"+i.options.position),i.$element.removeClass("is-open")}),this.$element.attr("aria-hidden","true").trigger("closed.zf.offcanvas"),this.$lastTrigger.attr("aria-expanded","false")}},i.prototype.toggle=function(t,e){this.$element.hasClass("is-open")?this.close(t,e):this.open(t,e)},i.prototype._handleKeyboard=function(t){27===t.which&&(t.stopPropagation(),t.preventDefault(),this.close(),this.$lastTrigger.focus())},i.prototype.destroy=function(){},e.plugin(i,"OffCanvas")}(jQuery,Foundation),!function(t,e){"use strict";function i(n,s){this.$element=n,this.options=t.extend({},i.defaults,this.$element.data(),s),this._init(),e.registerPlugin(this),e.Keyboard.register("Orbit",{ltr:{ARROW_RIGHT:"next",ARROW_LEFT:"previous"},rtl:{ARROW_LEFT:"next",ARROW_RIGHT:"previous"}})}i.defaults={bullets:!0,navButtons:!0,animInFromRight:"slide-in-right",animOutToRight:"slide-out-right",animInFromLeft:"slide-in-left",animOutToLeft:"slide-out-left",autoPlay:!0,timerDelay:5e3,infiniteWrap:!0,swipe:!0,pauseOnHover:!0,accessible:!0,containerClass:"orbit-container",slideClass:"orbit-slide",boxOfBullets:"orbit-bullets",nextClass:"orbit-next",prevClass:"orbit-previous",useMUI:!0},i.prototype._init=function(){this.$wrapper=this.$element.find("."+this.options.containerClass),this.$slides=this.$element.find("."+this.options.slideClass);var t=this.$element.find("img"),i=this.$slides.filter(".is-active");i.length||this.$slides.eq(0).addClass("is-active"),this.options.useMUI||this.$slides.addClass("no-motionui"),t.length?e.onImagesLoaded(t,this._prepareForOrbit.bind(this)):this._prepareForOrbit(),this.options.bullets&&this._loadBullets(),this._events(),this.options.autoPlay&&this.geoSync(),this.options.accessible&&this.$wrapper.attr("tabindex",0)},i.prototype._loadBullets=function(){this.$bullets=this.$element.find("."+this.options.boxOfBullets).find("button")},i.prototype.geoSync=function(){var t=this;this.timer=new e.Timer(this.$element,{duration:this.options.timerDelay,infinite:!1},function(){t.changeSlide(!0)}),this.timer.start()},i.prototype._prepareForOrbit=function(){var t=this;this._setWrapperHeight(function(e){t._setSlideHeight(e)})},i.prototype._setWrapperHeight=function(e){var i,n=0,s=0;this.$slides.each(function(){i=this.getBoundingClientRect().height,t(this).attr("data-slide",s),s&&t(this).css({position:"relative",display:"none"}),n=i>n?i:n,s++}),s===this.$slides.length&&(this.$wrapper.css({height:n}),e(n))},i.prototype._setSlideHeight=function(e){this.$slides.each(function(){t(this).css("max-height",e)})},i.prototype._events=function(){var i=this;if(this.options.swipe&&this.$slides.off("swipeleft.zf.orbit swiperight.zf.orbit").on("swipeleft.zf.orbit",function(t){t.preventDefault(),i.changeSlide(!0)}).on("swiperight.zf.orbit",function(t){t.preventDefault(),i.changeSlide(!1)}),this.options.autoPlay&&(this.$slides.on("click.zf.orbit",function(){i.$element.data("clickedOn",i.$element.data("clickedOn")?!1:!0),i.timer[i.$element.data("clickedOn")?"pause":"start"]()}),this.options.pauseOnHover&&this.$element.on("mouseenter.zf.orbit",function(){i.timer.pause()}).on("mouseleave.zf.orbit",function(){i.$element.data("clickedOn")||i.timer.start()})),this.options.navButtons){var n=this.$element.find("."+this.options.nextClass+", ."+this.options.prevClass);n.attr("tabindex",0).on("click.zf.orbit touchend.zf.orbit",function(){i.changeSlide(t(this).hasClass(i.options.nextClass))})}this.options.bullets&&this.$bullets.on("click.zf.orbit touchend.zf.orbit",function(){if(/is-active/g.test(this.className))return!1;var e=t(this).data("slide"),n=e>i.$slides.filter(".is-active").data("slide"),s=i.$slides.eq(e);i.changeSlide(n,s,e)}),this.$wrapper.add(this.$bullets).on("keydown.zf.orbit",function(n){e.Keyboard.handleKey(n,i,{next:function(){i.changeSlide(!0)},previous:function(){i.changeSlide(!1)},handled:function(){t(n.target).is(i.$bullets)&&i.$bullets.filter(".is-active").focus()}})})},i.prototype.changeSlide=function(t,i,n){var s=this.$slides.filter(".is-active").eq(0);if(/mui/g.test(s[0].className))return!1;var o,a=this.$slides.first(),r=this.$slides.last(),l=t?"Right":"Left",d=t?"Left":"Right",h=this;o=i?i:t?this.options.infiniteWrap?s.next("."+this.options.slideClass).length?s.next("."+this.options.slideClass):a:s.next("."+this.options.slideClass):this.options.infiniteWrap?s.prev("."+this.options.slideClass).length?s.prev("."+this.options.slideClass):r:s.prev("."+this.options.slideClass),o.length&&(this.options.bullets&&(n=n||this.$slides.index(o),this._updateBullets(n)),this.options.useMUI?(e.Motion.animateIn(o.addClass("is-active").css({position:"absolute",top:0}),this.options["animInFrom"+l],function(){o.css({position:"relative",display:"block"}).attr("aria-live","polite")}),e.Motion.animateOut(s.removeClass("is-active"),this.options["animOutTo"+d],function(){s.removeAttr("aria-live"),h.options.autoPlay&&h.timer.restart()})):(s.removeClass("is-active is-in").removeAttr("aria-live").hide(),o.addClass("is-active is-in").attr("aria-live","polite").show(),this.options.autoPlay&&this.timer.restart()),this.$element.trigger("slidechange.zf.orbit",[o]))},i.prototype._updateBullets=function(t){var e=this.$element.find("."+this.options.boxOfBullets).find(".is-active").removeClass("is-active").blur(),i=e.find("span:last").detach();this.$bullets.eq(t).addClass("is-active").append(i)},i.prototype.destroy=function(){delete this.timer,this.$element.off(".zf.orbit").find("*").off(".zf.orbit").end().hide(),e.unregisterPlugin(this)},e.plugin(i,"Orbit")}(jQuery,window.Foundation),!function(t,e){"use strict";function i(i){this.$element=e(i),this.rules=this.$element.data("responsive-menu"),this.currentMq=null,this.currentPlugin=null,this._init(),this._events(),t.registerPlugin(this)}var n={dropdown:{cssClass:"dropdown",plugin:t._plugins["dropdown-menu"]||null},drilldown:{cssClass:"drilldown",plugin:t._plugins.drilldown||null},accordion:{cssClass:"accordion-menu",plugin:t._plugins["accordion-menu"]||null}};i.defaults={},i.prototype._init=function(){for(var t={},i=this.rules.split(" "),s=0;s<i.length;s++){var o=i[s].split("-"),a=o.length>1?o[0]:"small",r=o.length>1?o[1]:o[0];null!==n[r]&&(t[a]=n[r])}this.rules=t,e.isEmptyObject(t)||this._checkMediaQueries()},i.prototype._events=function(){var t=this;e(window).on("changed.zf.mediaquery",function(){t._checkMediaQueries()})},i.prototype._checkMediaQueries=function(){var i,s=this;e.each(this.rules,function(e){t.MediaQuery.atLeast(e)&&(i=e)}),i&&(this.currentPlugin instanceof this.rules[i].plugin||(e.each(n,function(t,e){s.$element.removeClass(e.cssClass)}),this.$element.addClass(this.rules[i].cssClass),this.currentPlugin&&this.currentPlugin.destroy(),this.currentPlugin=new this.rules[i].plugin(this.$element,{})))},i.prototype.destroy=function(){this.currentPlugin.destroy(),e(window).off(".zf.ResponsiveMenu"),t.unregisterPlugin(this)},t.plugin(i,"ResponsiveMenu")}(Foundation,jQuery),!function(t,e){"use strict";function i(n,s){this.$element=t(n),this.options=t.extend({},i.defaults,this.$element.data(),s),this._init(),this._events(),e.registerPlugin(this)}i.defaults={hideFor:"medium"},i.prototype._init=function(){var e=this.$element.data("responsive-toggle");e||console.error("Your tab bar needs an ID of a Menu as the value of data-tab-bar."),this.$targetMenu=t("#"+e),this.$toggler=this.$element.find("[data-toggle]"),this._update()},i.prototype._events=function(){t(window).on("changed.zf.mediaquery",this._update.bind(this)),this.$toggler.on("click.zf.responsiveToggle",this.toggleMenu.bind(this))},i.prototype._update=function(){e.MediaQuery.atLeast(this.options.hideFor)?(this.$element.hide(),this.$targetMenu.show()):(this.$element.show(),this.$targetMenu.hide())},i.prototype.toggleMenu=function(){e.MediaQuery.atLeast(this.options.hideFor)||(this.$targetMenu.toggle(0),this.$element.trigger("toggled.zf.responsiveToggle"))},i.prototype.destroy=function(){},e.plugin(i,"ResponsiveToggle")}(jQuery,Foundation),!function(t,e){"use strict";function i(n,s){this.$element=n,this.options=e.extend({},i.defaults,this.$element.data(),s),this._init(),t.registerPlugin(this),t.Keyboard.register("Reveal",{ENTER:"open",SPACE:"open",ESCAPE:"close",TAB:"tab_forward",SHIFT_TAB:"tab_backward"})}i.defaults={animationIn:"",animationOut:"",showDelay:0,hideDelay:0,closeOnClick:!0,closeOnEsc:!0,multipleOpened:!1,vOffset:100,hOffset:0,fullScreen:!1,
btmOffsetPct:10,overlay:!0,resetOnClose:!1},i.prototype._init=function(){if(this.id=this.$element.attr("id"),this.isActive=!1,this.$anchor=e(e('[data-open="'+this.id+'"]').length?'[data-open="'+this.id+'"]':'[data-toggle="'+this.id+'"]'),this.$anchor.length){var i=this.$anchor[0].id||t.GetYoDigits(6,"reveal");this.$anchor.attr({"aria-controls":this.id,id:i,"aria-haspopup":!0,tabindex:0}),this.$element.attr({"aria-labelledby":i})}(this.options.fullScreen||this.$element.hasClass("full"))&&(this.options.fullScreen=!0,this.options.overlay=!1),this.options.overlay&&(this.$overlay=this._makeOverlay(this.id)),this.$element.attr({role:"dialog","aria-hidden":!0,"data-yeti-box":this.id,"data-resize":this.id}),this._events()},i.prototype._makeOverlay=function(t){var i=e("<div></div>").addClass("reveal-overlay").attr({tabindex:-1,"aria-hidden":!0}).appendTo("body");return this.options.closeOnClick&&i.attr({"data-close":t}),i},i.prototype._events=function(){var t=this;this.$element.on({"open.zf.trigger":this.open.bind(this),"close.zf.trigger":this.close.bind(this),"toggle.zf.trigger":this.toggle.bind(this),"resizeme.zf.trigger":function(){t.$element.is(":visible")&&t._setPosition(function(){})}}),this.$anchor.length&&this.$anchor.on("keydown.zf.reveal",function(e){(13===e.which||32===e.which)&&(e.stopPropagation(),e.preventDefault(),t.open())}),this.options.closeOnClick&&this.options.overlay&&this.$overlay.off(".zf.reveal").on("click.zf.reveal",this.close.bind(this))},i.prototype._setPosition=function(e){var i=t.Box.GetDimensions(this.$element),n=this.options.fullScreen?"reveal full":i.height>=.5*i.windowDims.height?"reveal":"center";"reveal full"===n?this.$element.offset(t.Box.GetOffsets(this.$element,null,n,this.options.vOffset)).css({height:i.windowDims.height,width:i.windowDims.width}):t.MediaQuery.atLeast("medium")&&t.Box.ImNotTouchingYou(this.$element,null,!0,!1)?this.$element.css({"max-height":i.windowDims.height-this.options.vOffset*(this.options.btmOffsetPct/100+1),width:""}).offset(t.Box.GetOffsets(this.$element,null,n,this.options.vOffset)):(this.$element.css({width:i.windowDims.width-2*this.options.hOffset}).offset(t.Box.GetOffsets(this.$element,null,"center",this.options.vOffset,this.options.hOffset)),this.changedSize=!0),e()},i.prototype.open=function(){var i=this;this.isActive=!0,this.$element.css({visibility:"hidden"}).show().scrollTop(0),this._setPosition(function(){i.$element.hide().css({visibility:""}),i.options.multipleOpened||i.$element.trigger("closeme.zf.reveal",i.id),i.options.animationIn?i.options.overlay?t.Motion.animateIn(i.$overlay,"fade-in",function(){t.Motion.animateIn(i.$element,i.options.animationIn,function(){i.focusableElements=t.Keyboard.findFocusable(i.$element)})}):t.Motion.animateIn(i.$element,i.options.animationIn,function(){i.focusableElements=t.Keyboard.findFocusable(i.$element)}):i.options.overlay?i.$overlay.show(0,function(){i.$element.show(i.options.showDelay,function(){})}):i.$element.show(i.options.showDelay,function(){})}),this.$element.attr({"aria-hidden":!1}).attr("tabindex",-1).focus().trigger("open.zf.reveal"),e("body").addClass("is-reveal-open").attr({"aria-hidden":this.options.overlay||this.options.fullScreen?!0:!1}),setTimeout(function(){i._extraHandlers()},0)},i.prototype._extraHandlers=function(){var i=this;this.focusableElements=t.Keyboard.findFocusable(this.$element),this.options.overlay||!this.options.closeOnClick||this.options.fullScreen||e("body").on("click.zf.reveal",function(t){i.close()}),this.options.closeOnEsc&&e(window).on("keydown.zf.reveal",function(e){t.Keyboard.handleKey(e,i,{close:function(){this.options.closeOnEsc&&(this.close(),this.$anchor.focus())}}),0===i.focusableElements.length&&e.preventDefault()}),this.$element.on("keydown.zf.reveal",function(n){var s=e(this);t.Keyboard.handleKey(n,i,{tab_forward:function(){this.$element.find(":focus").is(i.focusableElements.eq(-1))&&(i.focusableElements.eq(0).focus(),n.preventDefault())},tab_backward:function(){(this.$element.find(":focus").is(i.focusableElements.eq(0))||this.$element.is(":focus"))&&(i.focusableElements.eq(-1).focus(),n.preventDefault())},open:function(){i.$element.find(":focus").is(i.$element.find("[data-close]"))?setTimeout(function(){i.$anchor.focus()},1):s.is(i.focusableElements)&&this.open()},close:function(){this.options.closeOnEsc&&(this.close(),this.$anchor.focus())}})})},i.prototype.close=function(){if(!this.isActive||!this.$element.is(":visible"))return!1;var i=this;this.options.animationOut?t.Motion.animateOut(this.$element,this.options.animationOut,function(){i.options.overlay&&t.Motion.animateOut(i.$overlay,"fade-out",function(){})}):this.$element.hide(i.options.hideDelay,function(){i.options.overlay&&i.$overlay.hide(0,function(){})}),this.options.closeOnEsc&&e(window).off("keydown.zf.reveal"),!this.options.overlay&&this.options.closeOnClick&&e("body").off("click.zf.reveal"),this.$element.off("keydown.zf.reveal"),this.changedSize&&this.$element.css({height:"",width:""}),e("body").removeClass("is-reveal-open").attr({"aria-hidden":!1,tabindex:""}),this.options.resetOnClose&&this.$element.html(this.$element.html()),this.isActive=!1,this.$element.attr({"aria-hidden":!0}).trigger("closed.zf.reveal")},i.prototype.toggle=function(){this.isActive?this.close():this.open()},i.prototype.destroy=function(){this.options.overlay&&this.$overlay.hide().off().remove(),this.$element.hide(),this.$anchor.off(),t.unregisterPlugin(this)},t.plugin(i,"Reveal"),"undefined"!=typeof module&&"undefined"!=typeof module.exports&&(module.exports=i),"function"==typeof define&&define(["foundation"],function(){return i})}(Foundation,jQuery),!function(t,e){"use strict";function i(n,s){this.$element=n,this.options=t.extend({},i.defaults,this.$element.data(),s),this._init(),e.registerPlugin(this),e.Keyboard.register("Slider",{ltr:{ARROW_RIGHT:"increase",ARROW_UP:"increase",ARROW_DOWN:"decrease",ARROW_LEFT:"decrease",SHIFT_ARROW_RIGHT:"increase_fast",SHIFT_ARROW_UP:"increase_fast",SHIFT_ARROW_DOWN:"decrease_fast",SHIFT_ARROW_LEFT:"decrease_fast"},rtl:{ARROW_LEFT:"increase",ARROW_RIGHT:"decrease",SHIFT_ARROW_LEFT:"increase_fast",SHIFT_ARROW_RIGHT:"decrease_fast"}})}function n(t,e){return t/e}function s(t,e,i,n){return Math.abs(t.position()[e]+t[n]()/2-i)}i.defaults={start:0,end:100,step:1,initialStart:0,initialEnd:100,binding:!1,clickSelect:!0,vertical:!1,draggable:!0,disabled:!1,doubleSided:!1,decimal:2,moveTime:200,disabledClass:"disabled"},i.prototype._init=function(){this.inputs=this.$element.find("input"),this.handles=this.$element.find("[data-slider-handle]"),this.$handle=this.handles.eq(0),this.$input=this.inputs.length?this.inputs.eq(0):t("#"+this.$handle.attr("aria-controls")),this.$fill=this.$element.find("[data-slider-fill]").css(this.options.vertical?"height":"width",0);var e=!1,i=this;(this.options.disabled||this.$element.hasClass(this.options.disabledClass))&&(this.options.disabled=!0,this.$element.addClass(this.options.disabledClass)),this.inputs.length||(this.inputs=t().add(this.$input),this.options.binding=!0),this._setInitAttr(0),this._events(this.$handle),this.handles[1]&&(this.options.doubleSided=!0,this.$handle2=this.handles.eq(1),this.$input2=this.inputs.length?this.inputs.eq(1):t("#"+this.$handle2.attr("aria-controls")),this.inputs[1]||(this.inputs=this.inputs.add(this.$input2)),e=!0,this._setHandlePos(this.$handle,this.options.initialStart,!0,function(){i._setHandlePos(i.$handle2,i.options.initialEnd)}),this._setInitAttr(1),this._events(this.$handle2)),e||this._setHandlePos(this.$handle,this.options.initialStart,!0)},i.prototype._setHandlePos=function(t,i,s,o){i=parseFloat(i),i<this.options.start?i=this.options.start:i>this.options.end&&(i=this.options.end);var a=this.options.doubleSided;if(a)if(0===this.handles.index(t)){var r=parseFloat(this.$handle2.attr("aria-valuenow"));i=i>=r?r-this.options.step:i}else{var l=parseFloat(this.$handle.attr("aria-valuenow"));i=l>=i?l+this.options.step:i}this.options.vertical&&!s&&(i=this.options.end-i);var d=this,h=this.options.vertical,u=h?"height":"width",c=h?"top":"left",f=t[0].getBoundingClientRect()[u]/2,p=this.$element[0].getBoundingClientRect()[u],m=n(i,this.options.end).toFixed(this.options.decimal),g=(p-f)*m,v=(100*n(g,p)).toFixed(this.options.decimal),i=i>0?parseFloat(i.toFixed(this.options.decimal)):0,w={};if(this._setValues(t,i),this.options.doubleSided){var y,b=0===this.handles.index(t);this.handles.index(t);b?(w[c]=(m>0?100*m:0)+"%",y=(100*(n(this.$handle2.position()[c]+f,p)-parseFloat(m))).toFixed(this.options.decimal)+"%",w["min-"+u]=y,o&&"function"==typeof o&&o()):(i=(100>i?i:100)-(parseFloat(this.$handle[0].style.left)||this.options.end-i),w["min-"+u]=i+"%")}this.$element.one("finished.zf.animate",function(){d.animComplete=!0,d.$element.trigger("moved.zf.slider",[t])});var $=d.$element.data("dragging")?1e3/60:d.options.moveTime;e.Move($,t,function(){t.css(c,v+"%"),d.options.doubleSided?d.$fill.css(w):d.$fill.css(u,100*m+"%")})},i.prototype._setInitAttr=function(t){var i=this.inputs.eq(t).attr("id")||e.GetYoDigits(6,"slider");this.inputs.eq(t).attr({id:i,max:this.options.end,min:this.options.start}),this.handles.eq(t).attr({role:"slider","aria-controls":i,"aria-valuemax":this.options.end,"aria-valuemin":this.options.start,"aria-valuenow":0===t?this.options.initialStart:this.options.initialEnd,"aria-orientation":this.options.vertical?"vertical":"horizontal",tabindex:0})},i.prototype._setValues=function(t,e){var i=this.options.doubleSided?this.handles.index(t):0;this.inputs.eq(i).val(e),t.attr("aria-valuenow",e)},i.prototype._handleEvent=function(t,e,i){var o,a;if(i)o=i,a=!0;else{t.preventDefault();var r=this.options.vertical,l=r?"height":"width",d=r?"top":"left",h=r?t.pageY:t.pageX,u=this.$handle[0].getBoundingClientRect()[l]/2,c=this.$element[0].getBoundingClientRect()[l],f=this.$element.offset()[d]-h,p=f>0?-u:-c>f-u?c:Math.abs(f),m=n(p,c);if(o=(this.options.end-this.options.start)*m,a=!1,!e){var g=s(this.$handle,d,p,l),v=s(this.$handle2,d,p,l);e=v>=g?this.$handle:this.$handle2}}this._setHandlePos(e,o,a)},i.prototype._events=function(i){if(this.options.disabled)return!1;var n,s=this;if(this.inputs.off("change.zf.slider").on("change.zf.slider",function(e){var i=s.inputs.index(t(this));s._handleEvent(e,s.handles.eq(i),t(this).val())}),this.options.clickSelect&&this.$element.off("click.zf.slider").on("click.zf.slider",function(t){return s.$element.data("dragging")?!1:(s.animComplete=!1,void(s.options.doubleSided?s._handleEvent(t):s._handleEvent(t,s.$handle)))}),this.options.draggable){this.handles.addTouch();var o=t("body");i.off("mousedown.zf.slider").on("mousedown.zf.slider",function(e){i.addClass("is-dragging"),s.$fill.addClass("is-dragging"),s.$element.data("dragging",!0),s.animComplete=!1,n=t(e.currentTarget),o.on("mousemove.zf.slider",function(t){t.preventDefault(),s._handleEvent(t,n)}).on("mouseup.zf.slider",function(t){s.animComplete=!0,s._handleEvent(t,n),i.removeClass("is-dragging"),s.$fill.removeClass("is-dragging"),s.$element.data("dragging",!1),o.off("mousemove.zf.slider mouseup.zf.slider")})})}i.off("keydown.zf.slider").on("keydown.zf.slider",function(i){var n,o=s.options.doubleSided?s.handles.index(t(this)):0,a=parseFloat(s.inputs.eq(o).val()),r=t(this);e.Keyboard.handleKey(i,s,{decrease:function(){n=a-s.options.step},increase:function(){n=a+s.options.step},decrease_fast:function(){n=a-10*s.options.step},increase_fast:function(){n=a+10*s.options.step},handled:function(){i.preventDefault(),s._setHandlePos(r,n,!0)}})})},i.prototype.destroy=function(){this.handles.off(".zf.slider"),this.inputs.off(".zf.slider"),this.$element.off(".zf.slider"),e.unregisterPlugin(this)},e.plugin(i,"Slider")}(jQuery,window.Foundation),!function(t,e){"use strict";function i(n,s){this.$element=n,this.options=t.extend({},i.defaults,this.$element.data(),s),this._init(),e.registerPlugin(this)}function n(t){return parseInt(window.getComputedStyle(document.body,null).fontSize,10)*t}i.defaults={container:"<div data-sticky-container></div>",stickTo:"top",anchor:"",topAnchor:"",btmAnchor:"",marginTop:1,marginBottom:1,stickyOn:"medium",stickyClass:"sticky",containerClass:"sticky-container",checkEvery:-1},i.prototype._init=function(){var i=this.$element.parent("[data-sticky-container]"),n=this.$element[0].id||e.GetYoDigits(6,"sticky"),s=this;i.length||(this.wasWrapped=!0),this.$container=i.length?i:t(this.options.container).wrapInner(this.$element),this.$container.addClass(this.options.containerClass),this.$element.addClass(this.options.stickyClass).attr({"data-resize":n}),this.scrollCount=this.options.checkEvery,this.isStuck=!1,""!==this.options.topAnchor?this._parsePoints():this.$anchor=t(this.options.anchor?"#"+this.options.anchor:document.body),this._setSizes(function(){s._calc(!1)}),this._events(n.split("-").reverse().join("-"))},i.prototype._parsePoints=function(){for(var e=this.options.topAnchor,i=this.options.btmAnchor,n=[e,i],s={},o=0,a=n.length;a>o&&n[o];o++){var r;if("number"==typeof n[o])r=n[o];else{var l=n[o].split(":"),d=t("#"+l[0]);r=d.offset().top,l[1]&&"bottom"===l[1].toLowerCase()&&(r+=d[0].getBoundingClientRect().height)}s[o]=r}this.points=s},i.prototype._events=function(e){var i=this,n="scroll.zf."+e;this.isOn||(this.canStick&&(this.isOn=!0,t(window).off(n).on(n,function(t){0===i.scrollCount?(i.scrollCount=i.options.checkEvery,i._setSizes(function(){i._calc(!1,window.pageYOffset)})):(i.scrollCount--,i._calc(!1,window.pageYOffset))})),this.$element.off("resizeme.zf.trigger").on("resizeme.zf.trigger",function(t,s){i._setSizes(function(){i._calc(!1),i.canStick?i.isOn||i._events(e):i.isOn&&i._pauseListeners(n)})}))},i.prototype._pauseListeners=function(e){this.isOn=!1,t(window).off(e),this.$element.trigger("pause.zf.sticky")},i.prototype._calc=function(t,e){return t&&this._setSizes(),this.canStick?(e||(e=window.pageYOffset),void(e>=this.topPoint?e<=this.bottomPoint?this.isStuck||this._setSticky():this.isStuck&&this._removeSticky(!1):this.isStuck&&this._removeSticky(!0))):(this.isStuck&&this._removeSticky(!0),!1)},i.prototype._setSticky=function(){var t=this.options.stickTo,e="top"===t?"marginTop":"marginBottom",i="top"===t?"bottom":"top",n={};n[e]=this.options[e]+"em",n[t]=0,n[i]="auto",n.left=this.$container.offset().left+parseInt(window.getComputedStyle(this.$container[0])["padding-left"],10),this.isStuck=!0,this.$element.removeClass("is-anchored is-at-"+i).addClass("is-stuck is-at-"+t).css(n).trigger("sticky.zf.stuckto:"+t)},i.prototype._removeSticky=function(t){var e=this.options.stickTo,i="top"===e,n={},s=(this.points?this.points[1]-this.points[0]:this.anchorHeight)-this.elemHeight,o=i?"marginTop":"marginBottom",a=i?"bottom":"top",r=t?"top":"bottom";n[o]=0,t&&!i||i&&!t?(n[e]=s,n[a]=0):(n[e]=0,n[a]=s),n.left="",this.isStuck=!1,this.$element.removeClass("is-stuck is-at-"+e).addClass("is-anchored is-at-"+r).css(n).trigger("sticky.zf.unstuckfrom:"+r)},i.prototype._setSizes=function(t){this.canStick=e.MediaQuery.atLeast(this.options.stickyOn),this.canStick||t();var i=this.$container[0].getBoundingClientRect().width,n=window.getComputedStyle(this.$container[0]),s=parseInt(n["padding-right"],10);this.$anchor&&this.$anchor.length?this.anchorHeight=this.$anchor[0].getBoundingClientRect().height:this._parsePoints(),this.$element.css({"max-width":i-s+"px"});var o=this.$element[0].getBoundingClientRect().height||this.containerHeight;this.containerHeight=o,this.$container.css({height:o}),this.elemHeight=o,this.isStuck&&this.$element.css({left:this.$container.offset().left+parseInt(n["padding-left"],10)}),this._setBreakPoints(o,function(){t&&t()})},i.prototype._setBreakPoints=function(t,e){if(!this.canStick){if(!e)return!1;e()}var i=n(this.options.marginTop),s=n(this.options.marginBottom),o=this.points?this.points[0]:this.$anchor.offset().top,a=this.points?this.points[1]:o+this.anchorHeight,r=window.innerHeight;"top"===this.options.stickTo?(o-=i,a-=t+i):"bottom"===this.options.stickTo&&(o-=r-(t+s),a-=r-s),this.topPoint=o,this.bottomPoint=a,e&&e()},i.prototype.destroy=function(){this._removeSticky(!0),this.$element.removeClass(this.options.stickyClass+" is-anchored is-at-top").css({height:"",top:"",bottom:"","max-width":""}).off("resizeme.zf.trigger"),this.$anchor.off("change.zf.sticky"),t(window).off("scroll.zf.sticky"),this.wasWrapped?this.$element.unwrap():this.$container.removeClass(this.options.containerClass).css({height:""}),e.unregisterPlugin(this)},e.plugin(i,"Sticky")}(jQuery,window.Foundation),!function(t,e){"use strict";function i(n,s){this.$element=n,this.options=t.extend({},i.defaults,this.$element.data(),s),this._init(),e.registerPlugin(this),e.Keyboard.register("Tabs",{ENTER:"open",SPACE:"open",ARROW_RIGHT:"next",ARROW_UP:"previous",ARROW_DOWN:"next",ARROW_LEFT:"previous"})}i.defaults={autoFocus:!1,wrapOnKeys:!0,matchHeight:!1,linkClass:"tabs-title",panelClass:"tabs-panel"},i.prototype._init=function(){var i=this;if(this.$tabTitles=this.$element.find("."+this.options.linkClass),this.$tabContent=t('[data-tabs-content="'+this.$element[0].id+'"]'),this.$tabTitles.each(function(){var e=t(this),n=e.find("a"),s=e.hasClass("is-active"),o=n.attr("href").slice(1),a=o+"-label",r=t(o);e.attr({role:"presentation"}),n.attr({role:"tab","aria-controls":o,"aria-selected":s,id:a}),r.attr({role:"tabpanel","aria-hidden":!s,"aria-labelledby":a}),s&&i.options.autoFocus&&n.focus()}),this.options.matchHeight){var n=this.$tabContent.find("img");n.length?e.onImagesLoaded(n,this._setHeight.bind(this)):this._setHeight()}this._events()},i.prototype._events=function(){this._addKeyHandler(),this._addClickHandler(),this.options.matchHeight&&t(window).on("changed.zf.mediaquery",this._setHeight.bind(this))},i.prototype._addClickHandler=function(){var e=this;this.$element.off("click.zf.tabs").on("click.zf.tabs","."+this.options.linkClass,function(i){i.preventDefault(),i.stopPropagation(),t(this).hasClass("is-active")||e._handleTabChange(t(this))})},i.prototype._addKeyHandler=function(){var i=this;i.$element.find("li:first-of-type"),i.$element.find("li:last-of-type");this.$tabTitles.off("keydown.zf.tabs").on("keydown.zf.tabs",function(n){if(9!==n.which){n.stopPropagation(),n.preventDefault();var s,o,a=t(this),r=a.parent("ul").children("li");r.each(function(e){return t(this).is(a)?void(i.options.wrapOnKeys?(s=0===e?r.last():r.eq(e-1),o=e===r.length-1?r.first():r.eq(e+1)):(s=r.eq(Math.max(0,e-1)),o=r.eq(Math.min(e+1,r.length-1)))):void 0}),e.Keyboard.handleKey(n,i,{open:function(){a.find('[role="tab"]').focus(),i._handleTabChange(a)},previous:function(){s.find('[role="tab"]').focus(),i._handleTabChange(s)},next:function(){o.find('[role="tab"]').focus(),i._handleTabChange(o)}})}})},i.prototype._handleTabChange=function(e){var i=e.find('[role="tab"]'),n=i.attr("href"),s=t(n),o=this.$element.find("."+this.options.linkClass+".is-active").removeClass("is-active").find('[role="tab"]').attr({"aria-selected":"false"}).attr("href");t(o).removeClass("is-active").attr({"aria-hidden":"true"}),e.addClass("is-active"),i.attr({"aria-selected":"true"}),s.addClass("is-active").attr({"aria-hidden":"false"}),this.$element.trigger("change.zf.tabs",[e])},i.prototype.selectTab=function(t){var e;e="object"==typeof t?t[0].id:t,e.indexOf("#")<0&&(e="#"+e);var i=this.$tabTitles.find('[href="'+e+'"]').parent("."+this.options.linkClass);this._handleTabChange(i)},i.prototype._setHeight=function(){var e=0;this.$tabContent.find("."+this.options.panelClass).css("height","").each(function(){var i=t(this),n=i.hasClass("is-active");n||i.css({visibility:"hidden",display:"block"});var s=this.getBoundingClientRect().height;n||i.css({visibility:"",display:""}),e=s>e?s:e}).css("height",e+"px")},i.prototype.destroy=function(){this.$element.find("."+this.options.linkClass).off(".zf.tabs").hide().end().find("."+this.options.panelClass).hide(),this.options.matchHeight&&t(window).off("changed.zf.mediaquery"),e.unregisterPlugin(this)},e.plugin(i,"Tabs")}(jQuery,window.Foundation),!function(t,e){"use strict";function i(n,s){this.$element=n,this.options=e.extend({},i.defaults,n.data(),s),this.className="",this._init(),this._events(),t.registerPlugin(this)}i.defaults={animate:!1},i.prototype._init=function(){var t;this.options.animate?(t=this.options.animate.split(" "),this.animationIn=t[0],this.animationOut=t[1]||null):(t=this.$element.data("toggler"),"."===t[0]?this.className=t.slice(1):this.className=t);var i=this.$element[0].id;e('[data-open="'+i+'"], [data-close="'+i+'"], [data-toggle="'+i+'"]').attr("aria-controls",i),this.$element.is(":hidden")&&this.$element.attr("aria-expanded","false")},i.prototype._events=function(){var t=this;this.$element.on("toggle.zf.trigger",function(){return t.toggle(),!1})},i.prototype.toggle=function(){this.options.animate?this._toggleAnimate():this._toggleClass()},i.prototype._toggleClass=function(){var t=this;this.$element.toggleClass(this.className),this.$element.hasClass(this.className)?this.$element.trigger("on.zf.toggler"):this.$element.trigger("off.zf.toggler"),t._updateARIA()},i.prototype._toggleAnimate=function(){var e=this;this.$element.is(":hidden")?t.Motion.animateIn(this.$element,this.animationIn,function(){this.trigger("on.zf.toggler"),e._updateARIA()}):t.Motion.animateOut(this.$element,this.animationOut,function(){this.trigger("off.zf.toggler"),e._updateARIA()})},i.prototype._updateARIA=function(){this.$element.is(":hidden")?this.$element.attr("aria-expanded","false"):this.$element.attr("aria-expanded","true")},i.prototype.destroy=function(){this.$element.off(".zf.toggler"),t.unregisterPlugin(this)},t.plugin(i,"Toggler"),"undefined"!=typeof module&&"undefined"!=typeof module.exports&&(module.exports=i),"function"==typeof define&&define(["foundation"],function(){return i})}(Foundation,jQuery),!function(t,e,i){"use strict";function n(e,s){this.$element=e,this.options=t.extend({},n.defaults,this.$element.data(),s),this.isActive=!1,this.isClick=!1,this._init(),i.registerPlugin(this)}n.defaults={disableForTouch:!1,hoverDelay:200,fadeInDuration:150,fadeOutDuration:150,disableHover:!1,templateClasses:"",tooltipClass:"tooltip",triggerClass:"has-tip",showOn:"small",template:"",tipText:"",touchCloseText:"Tap to close.",clickOpen:!0,positionClass:"",vOffset:10,hOffset:12},n.prototype._init=function(){var n=this.$element.attr("aria-describedby")||i.GetYoDigits(6,"tooltip");this.options.positionClass=this._getPositionClass(this.$element),this.options.tipText=this.options.tipText||this.$element.attr("title"),this.template=this.options.template?t(this.options.template):this._buildTemplate(n),this.template.appendTo(e.body).text(this.options.tipText).hide(),this.$element.attr({title:"","aria-describedby":n,"data-yeti-box":n,"data-toggle":n,"data-resize":n}).addClass(this.triggerClass),this.usedPositions=[],this.counter=4,this.classChanged=!1,this._events()},n.prototype._getPositionClass=function(t){if(!t)return"";var e=t[0].className.match(/(top|left|right)/g);return e=e?e[0]:""},n.prototype._buildTemplate=function(e){var i=(this.options.tooltipClass+" "+this.options.positionClass).trim(),n=t("<div></div>").addClass(i).attr({role:"tooltip","aria-hidden":!0,"data-is-active":!1,"data-is-focus":!1,id:e});return n},n.prototype._reposition=function(t){this.usedPositions.push(t?t:"bottom"),!t&&this.usedPositions.indexOf("top")<0?this.template.addClass("top"):"top"===t&&this.usedPositions.indexOf("bottom")<0?this.template.removeClass(t):"left"===t&&this.usedPositions.indexOf("right")<0?this.template.removeClass(t).addClass("right"):"right"===t&&this.usedPositions.indexOf("left")<0?this.template.removeClass(t).addClass("left"):!t&&this.usedPositions.indexOf("top")>-1&&this.usedPositions.indexOf("left")<0?this.template.addClass("left"):"top"===t&&this.usedPositions.indexOf("bottom")>-1&&this.usedPositions.indexOf("left")<0?this.template.removeClass(t).addClass("left"):"left"===t&&this.usedPositions.indexOf("right")>-1&&this.usedPositions.indexOf("bottom")<0?this.template.removeClass(t):"right"===t&&this.usedPositions.indexOf("left")>-1&&this.usedPositions.indexOf("bottom")<0?this.template.removeClass(t):this.template.removeClass(t),this.classChanged=!0,this.counter--},n.prototype._setPosition=function(){var t=this._getPositionClass(this.template),e=i.Box.GetDimensions(this.template),n=i.Box.GetDimensions(this.$element),s="left"===t?"left":"right"===t?"left":"top",o="top"===s?"height":"width";"height"===o?this.options.vOffset:this.options.hOffset;if(e.width>=e.windowDims.width||!this.counter&&!i.Box.ImNotTouchingYou(this.template))return this.template.offset(i.Box.GetOffsets(this.template,this.$element,"center bottom",this.options.vOffset,this.options.hOffset,!0)).css({width:n.windowDims.width-2*this.options.hOffset,height:"auto"}),!1;for(this.template.offset(i.Box.GetOffsets(this.template,this.$element,"center "+(t||"bottom"),this.options.vOffset,this.options.hOffset));!i.Box.ImNotTouchingYou(this.template)&&this.counter;)this._reposition(t),this._setPosition()},n.prototype.show=function(){if("all"!==this.options.showOn&&!i.MediaQuery.atLeast(this.options.showOn))return!1;var t=this;this.template.css("visibility","hidden").show(),this._setPosition(),this.$element.trigger("closeme.zf.tooltip",this.template.attr("id")),this.template.attr({"data-is-active":!0,"aria-hidden":!1}),t.isActive=!0,this.template.stop().hide().css("visibility","").fadeIn(this.options.fadeInDuration,function(){}),this.$element.trigger("show.zf.tooltip")},n.prototype.hide=function(){var t=this;this.template.stop().attr({"aria-hidden":!0,"data-is-active":!1}).fadeOut(this.options.fadeOutDuration,function(){t.isActive=!1,t.isClick=!1,t.classChanged&&(t.template.removeClass(t._getPositionClass(t.template)).addClass(t.options.positionClass),t.usedPositions=[],t.counter=4,t.classChanged=!1)}),this.$element.trigger("hide.zf.tooltip")},n.prototype._events=function(){var t=this,e=(this.template,!1);this.options.disableHover||this.$element.on("mouseenter.zf.tooltip",function(e){t.isActive||(t.timeout=setTimeout(function(){t.show()},t.options.hoverDelay))}).on("mouseleave.zf.tooltip",function(i){clearTimeout(t.timeout),(!e||!t.isClick&&t.options.clickOpen)&&t.hide()}),this.options.clickOpen&&this.$element.on("mousedown.zf.tooltip",function(e){e.stopImmediatePropagation(),t.isClick?t.hide():(t.isClick=!0,!t.options.disableHover&&t.$element.attr("tabindex")||t.isActive||t.show())}),this.options.disableForTouch||this.$element.on("tap.zf.tooltip touchend.zf.tooltip",function(e){t.isActive?t.hide():t.show()}),this.$element.on({"close.zf.trigger":this.hide.bind(this)}),this.$element.on("focus.zf.tooltip",function(i){return e=!0,console.log(t.isClick),t.isClick?!1:void t.show()}).on("focusout.zf.tooltip",function(i){e=!1,t.isClick=!1,t.hide()}).on("resizeme.zf.trigger",function(){t.isActive&&t._setPosition()})},n.prototype.toggle=function(){this.isActive?this.hide():this.show()},n.prototype.destroy=function(){this.$element.attr("title",this.template.text()).off(".zf.trigger .zf.tootip").removeAttr("aria-describedby").removeAttr("data-yeti-box").removeAttr("data-toggle").removeAttr("data-resize"),this.template.remove(),i.unregisterPlugin(this)},i.plugin(n,"Tooltip")}(jQuery,window.document,window.Foundation),jQuery(function(t){t(document).foundation()});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMuanMiXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJkZWZpbmUiLCJhbWQiLCJleHBvcnRzIiwibW9kdWxlIiwid2hhdElucHV0IiwidGhpcyIsImJ1ZmZlcklucHV0IiwiZXZlbnQiLCJjbGVhclRpbWVvdXQiLCJ0aW1lciIsInNldElucHV0IiwiYnVmZmVyIiwic2V0VGltZW91dCIsImltbWVkaWF0ZUlucHV0IiwiZXZlbnRLZXkiLCJrZXkiLCJldmVudFRhcmdldCIsInRhcmdldCIsInZhbHVlIiwiaW5wdXRNYXAiLCJ0eXBlIiwicG9pbnRlclR5cGUiLCJjdXJyZW50SW5wdXQiLCJmb3JtVHlwaW5nIiwia2V5TWFwIiwiZm9ybUlucHV0cyIsImluZGV4T2YiLCJub2RlTmFtZSIsInRvTG93ZXJDYXNlIiwiYm9keSIsInNldEF0dHJpYnV0ZSIsImlucHV0VHlwZXMiLCJwdXNoIiwibG9nS2V5cyIsImtleUNvZGUiLCJ3aGljaCIsInNyY0VsZW1lbnQiLCJwb2ludGVyTWFwIiwiYWN0aXZlS2V5cyIsInVuTG9nS2V5cyIsImFycmF5UG9zIiwic3BsaWNlIiwiYmluZEV2ZW50cyIsIm1vdXNlRXZlbnQiLCJ3aW5kb3ciLCJQb2ludGVyRXZlbnQiLCJNU1BvaW50ZXJFdmVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIsImhhc0F0dHJpYnV0ZSIsImtleWRvd24iLCJtb3VzZWRvd24iLCJtb3VzZWVudGVyIiwidG91Y2hzdGFydCIsInBvaW50ZXJkb3duIiwiTVNQb2ludGVyRG93biIsOSwxMywxNiwyNywzMiwzNywzOCwzOSw0MCwyLDMsNCwiQXJyYXkiLCJwcm90b3R5cGUiLCJhc2siLCJrZXlzIiwidHlwZXMiLCJzZXQiLCIkIiwiZnVuY3Rpb25OYW1lIiwiZm4iLCJ1bmRlZmluZWQiLCJGdW5jdGlvbiIsIm5hbWUiLCJmdW5jTmFtZVJlZ2V4IiwicmVzdWx0cyIsImV4ZWMiLCJ0b1N0cmluZyIsImxlbmd0aCIsInRyaW0iLCJjb25zdHJ1Y3RvciIsInBhcnNlVmFsdWUiLCJzdHIiLCJ0ZXN0IiwiaXNOYU4iLCJwYXJzZUZsb2F0IiwiaHlwaGVuYXRlIiwicmVwbGFjZSIsIkZPVU5EQVRJT05fVkVSU0lPTiIsIkZvdW5kYXRpb24iLCJ2ZXJzaW9uIiwiX3BsdWdpbnMiLCJfdXVpZHMiLCJfYWN0aXZlUGx1Z2lucyIsInJ0bCIsImF0dHIiLCJwbHVnaW4iLCJjbGFzc05hbWUiLCJhdHRyTmFtZSIsInJlZ2lzdGVyUGx1Z2luIiwicGx1Z2luTmFtZSIsInV1aWQiLCJHZXRZb0RpZ2l0cyIsIiRlbGVtZW50IiwidHJpZ2dlciIsInVucmVnaXN0ZXJQbHVnaW4iLCJyZW1vdmVBdHRyIiwiX3JlZmxvdyIsInBsdWdpbnMiLCJhY3R2UGx1Z2lucyIsIk9iamVjdCIsIl90aGlzIiwibmFtZXNwYWNlIiwic3BsaXQiLCJfaW5pdCIsIlJlZ0V4cCIsImZpbHRlciIsInAiLCJmb3JFYWNoIiwiTWF0aCIsInJvdW5kIiwicG93IiwicmFuZG9tIiwic2xpY2UiLCJyZWZsb3ciLCJlbGVtIiwiZWFjaCIsImkiLCIkZWxlbSIsImZpbmQiLCJhZGRCYWNrIiwiJGVsIiwib3B0cyIsImNvbnNvbGUiLCJ3YXJuIiwiZSIsIm9wdCIsIm1hcCIsImVsIiwiZGF0YSIsImdldEZuTmFtZSIsInRyYW5zaXRpb25lbmQiLCJlbmQiLCJ0cmFuc2l0aW9ucyIsInRyYW5zaXRpb24iLCJXZWJraXRUcmFuc2l0aW9uIiwiTW96VHJhbnNpdGlvbiIsIk9UcmFuc2l0aW9uIiwiY3JlYXRlRWxlbWVudCIsInQiLCJzdHlsZSIsInRyaWdnZXJIYW5kbGVyIiwidXRpbCIsInRocm90dGxlIiwiZnVuYyIsImRlbGF5IiwiY29udGV4dCIsImFyZ3MiLCJhcmd1bWVudHMiLCJhcHBseSIsImZvdW5kYXRpb24iLCJtZXRob2QiLCIkbWV0YSIsIiRub0pTIiwiYXBwZW5kVG8iLCJoZWFkIiwicmVtb3ZlQ2xhc3MiLCJNZWRpYVF1ZXJ5IiwiVHlwZUVycm9yIiwiY2FsbCIsInBsdWdDbGFzcyIsIlJlZmVyZW5jZUVycm9yIiwiRGF0ZSIsIm5vdyIsImdldFRpbWUiLCJ2ZW5kb3JzIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwidnAiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImxhc3RUaW1lIiwiY2FsbGJhY2siLCJuZXh0VGltZSIsIm1heCIsInBlcmZvcm1hbmNlIiwic3RhcnQiLCJiaW5kIiwib1RoaXMiLCJhQXJncyIsImZUb0JpbmQiLCJmTk9QIiwiZkJvdW5kIiwiY29uY2F0IiwialF1ZXJ5IiwiSW1Ob3RUb3VjaGluZ1lvdSIsImVsZW1lbnQiLCJwYXJlbnQiLCJsck9ubHkiLCJ0Yk9ubHkiLCJ0b3AiLCJib3R0b20iLCJsZWZ0IiwicmlnaHQiLCJlbGVEaW1zIiwiR2V0RGltZW5zaW9ucyIsInBhckRpbXMiLCJvZmZzZXQiLCJoZWlnaHQiLCJ3aWR0aCIsIndpbmRvd0RpbXMiLCJhbGxEaXJzIiwiRXJyb3IiLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwicGFyUmVjdCIsInBhcmVudE5vZGUiLCJ3aW5SZWN0Iiwid2luWSIsInBhZ2VZT2Zmc2V0Iiwid2luWCIsInBhZ2VYT2Zmc2V0IiwicGFyZW50RGltcyIsIkdldE9mZnNldHMiLCJhbmNob3IiLCJwb3NpdGlvbiIsInZPZmZzZXQiLCJoT2Zmc2V0IiwiaXNPdmVyZmxvdyIsIiRlbGVEaW1zIiwiJGFuY2hvckRpbXMiLCJCb3giLCJLZXlib2FyZCIsImtleUNvZGVzIiwia2NzIiwiayIsImtjIiwicGFyc2VLZXkiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJ0b1VwcGVyQ2FzZSIsInNoaWZ0S2V5IiwiY3RybEtleSIsImFsdEtleSIsImNvbW1hbmRzIiwiaGFuZGxlS2V5IiwiY29tcG9uZW50IiwiZnVuY3Rpb25zIiwiY21kcyIsImNvbW1hbmQiLCJjb21tYW5kTGlzdCIsImx0ciIsImV4dGVuZCIsImhhbmRsZWQiLCJ1bmhhbmRsZWQiLCJmaW5kRm9jdXNhYmxlIiwiaXMiLCJyZWdpc3RlciIsImNvbXBvbmVudE5hbWUiLCJwYXJzZVN0eWxlVG9PYmplY3QiLCJzdHlsZU9iamVjdCIsInJlZHVjZSIsInJldCIsInBhcmFtIiwicGFydHMiLCJ2YWwiLCJkZWNvZGVVUklDb21wb25lbnQiLCJoYXNPd25Qcm9wZXJ0eSIsImlzQXJyYXkiLCJxdWVyaWVzIiwiY3VycmVudCIsImF0TGVhc3QiLCJzaXplIiwicXVlcnkiLCJnZXQiLCJtYXRjaE1lZGlhIiwibWF0Y2hlcyIsIm5hbWVkUXVlcmllcyIsInNlbGYiLCJleHRyYWN0ZWRTdHlsZXMiLCJjc3MiLCJfZ2V0Q3VycmVudFNpemUiLCJfd2F0Y2hlciIsIm1hdGNoZWQiLCJvbiIsIm5ld1NpemUiLCJzdHlsZU1lZGlhIiwibWVkaWEiLCJzY3JpcHQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImluZm8iLCJpZCIsImluc2VydEJlZm9yZSIsImdldENvbXB1dGVkU3R5bGUiLCJjdXJyZW50U3R5bGUiLCJtYXRjaE1lZGl1bSIsInRleHQiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsInRleHRDb250ZW50IiwiYW5pbWF0ZSIsImlzSW4iLCJhbmltYXRpb24iLCJjYiIsImZpbmlzaCIsImhpZGUiLCJyZXNldCIsInRyYW5zaXRpb25EdXJhdGlvbiIsImluaXRDbGFzcyIsImFjdGl2ZUNsYXNzIiwiZXEiLCJpbml0Q2xhc3NlcyIsImFjdGl2ZUNsYXNzZXMiLCJhZGRDbGFzcyIsInNob3ciLCJvZmZzZXRXaWR0aCIsIm9uZSIsIk1vdGlvbiIsImFuaW1hdGVJbiIsImFuaW1hdGVPdXQiLCJNb3ZlIiwiZHVyYXRpb24iLCJtb3ZlIiwidHMiLCJwcm9nIiwiYW5pbSIsIk5lc3QiLCJGZWF0aGVyIiwibWVudSIsIml0ZW1zIiwicm9sZSIsInN1Yk1lbnVDbGFzcyIsInN1Ykl0ZW1DbGFzcyIsImhhc1N1YkNsYXNzIiwiJGl0ZW0iLCIkc3ViIiwiY2hpbGRyZW4iLCJhcmlhLWhhc3BvcHVwIiwiYXJpYS1zZWxlY3RlZCIsImFyaWEtZXhwYW5kZWQiLCJhcmlhLWxhYmVsIiwiZGF0YS1zdWJtZW51IiwiYXJpYS1oaWRkZW4iLCJCdXJuIiwiVGltZXIiLCJvcHRpb25zIiwibmFtZVNwYWNlIiwicmVtYWluIiwicmVzdGFydCIsImluZmluaXRlIiwicGF1c2UiLCJvbkltYWdlc0xvYWRlZCIsImltYWdlcyIsInVubG9hZGVkIiwic2luZ2xlSW1hZ2VMb2FkZWQiLCJjb21wbGV0ZSIsIm5hdHVyYWxXaWR0aCIsIm9uVG91Y2hFbmQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwib25Ub3VjaE1vdmUiLCJpc01vdmluZyIsInNwb3RTd2lwZSIsInByZXZlbnREZWZhdWx0IiwiZGlyIiwieCIsInRvdWNoZXMiLCJwYWdlWCIsInkiLCJwYWdlWSIsImR4Iiwic3RhcnRQb3NYIiwiZHkiLCJzdGFydFBvc1kiLCJlbGFwc2VkVGltZSIsInN0YXJ0VGltZSIsImFicyIsIm1vdmVUaHJlc2hvbGQiLCJ0aW1lVGhyZXNob2xkIiwib25Ub3VjaFN0YXJ0IiwiaW5pdCIsImVuYWJsZWQiLCJzcGVjaWFsIiwic3dpcGUiLCJzZXR1cCIsIm5vb3AiLCJhZGRUb3VjaCIsImhhbmRsZVRvdWNoIiwiY2hhbmdlZFRvdWNoZXMiLCJmaXJzdCIsImV2ZW50VHlwZXMiLCJ0b3VjaG1vdmUiLCJ0b3VjaGVuZCIsInNpbXVsYXRlZEV2ZW50IiwiY3JlYXRlRXZlbnQiLCJpbml0TW91c2VFdmVudCIsInNjcmVlblgiLCJzY3JlZW5ZIiwiY2xpZW50WCIsImNsaWVudFkiLCJkaXNwYXRjaEV2ZW50IiwiZmFkZU91dCIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJwcmVmaXhlcyIsImNoZWNrTGlzdGVuZXJzIiwiZXZlbnRzTGlzdGVuZXIiLCJyZXNpemVMaXN0ZW5lciIsInNjcm9sbExpc3RlbmVyIiwiY2xvc2VtZUxpc3RlbmVyIiwibG9hZCIsInlldGlCb3hlcyIsInBsdWdOYW1lcyIsImVycm9yIiwibGlzdGVuZXJzIiwiam9pbiIsIm9mZiIsInBsdWdpbklkIiwibm90IiwiZGVib3VuY2UiLCIkbm9kZXMiLCJub2RlcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJsaXN0ZW5pbmdFbGVtZW50c011dGF0aW9uIiwibXV0YXRpb25SZWNvcmRzTGlzdCIsIiR0YXJnZXQiLCJlbGVtZW50T2JzZXJ2ZXIiLCJvYnNlcnZlIiwiYXR0cmlidXRlcyIsImNoaWxkTGlzdCIsImNoYXJhY3RlckRhdGEiLCJzdWJ0cmVlIiwiYXR0cmlidXRlRmlsdGVyIiwiSUhlYXJZb3UiLCJBYmlkZSIsImRlZmF1bHRzIiwiJHdpbmRvdyIsIl9ldmVudHMiLCJ2YWxpZGF0ZU9uIiwibGFiZWxFcnJvckNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiZm9ybUVycm9yU2VsZWN0b3IiLCJmb3JtRXJyb3JDbGFzcyIsInBhdHRlcm5zIiwiYWxwaGEiLCJhbHBoYV9udW1lcmljIiwiaW50ZWdlciIsIm51bWJlciIsImNhcmQiLCJjdnYiLCJlbWFpbCIsInVybCIsImRvbWFpbiIsImRhdGV0aW1lIiwiZGF0ZSIsInRpbWUiLCJkYXRlSVNPIiwibW9udGhfZGF5X3llYXIiLCJkYXlfbW9udGhfeWVhciIsImNvbG9yIiwidmFsaWRhdG9ycyIsImVxdWFsVG8iLCJyZXF1aXJlZCIsImZyb20iLCJnZXRFbGVtZW50QnlJZCIsImdldEF0dHJpYnV0ZSIsImFkZF9uYW1lc3BhY2UiLCJ0byIsInZhbGlkIiwicmVzZXRGb3JtIiwidmFsaWRhdGVGb3JtIiwidmFsaWRhdGVJbnB1dCIsInJlcXVpcmVkQ2hlY2siLCJmaW5kTGFiZWwiLCJuZXh0IiwiY2xvc2VzdCIsImFkZEVycm9yQ2xhc3NlcyIsIiRsYWJlbCIsIiRmb3JtRXJyb3IiLCJyZW1vdmVFcnJvckNsYXNzZXMiLCJoYXNDbGFzcyIsIiRmb3JtIiwibGFiZWwiLCJyYWRpb0dyb3VwTmFtZSIsInZhbGlkYXRlVGV4dCIsInNpYmxpbmdzIiwidmFsaWRhdGVSYWRpbyIsImlucHV0cyIsImlucHV0Q291bnQiLCJjb3VudGVyIiwicGF0dGVybkxpYiIsImlucHV0VGV4dCIsInBhdHRlcm4iLCJtYXRjaCIsImdyb3VwIiwibWF0Y2hWYWxpZGF0aW9uIiwidmFsaWRhdGlvbiIsImludmFsaWRBdHRyIiwiZGVzdHJveSIsIkFjY29yZGlvbiIsIkVOVEVSIiwiU1BBQ0UiLCJBUlJPV19ET1dOIiwiQVJST1dfVVAiLCJzbGlkZVNwZWVkIiwibXVsdGlFeHBhbmQiLCJhbGxvd0FsbENsb3NlZCIsIiR0YWJzIiwiaWR4IiwiJGNvbnRlbnQiLCJsaW5rSWQiLCJhcmlhLWNvbnRyb2xzIiwiYXJpYS1sYWJlbGxlZGJ5IiwiJGluaXRBY3RpdmUiLCJkb3duIiwiJHRhYkNvbnRlbnQiLCJ1cCIsInRvZ2dsZSIsImZvY3VzIiwicHJldmlvdXMiLCJwcmV2Iiwic3RvcFByb3BhZ2F0aW9uIiwiZmlyc3RUaW1lIiwiJGN1cnJlbnRBY3RpdmUiLCJzbGlkZURvd24iLCIkYXVudHMiLCJjYW5DbG9zZSIsInNsaWRlVXAiLCJBY2NvcmRpb25NZW51IiwiQVJST1dfUklHSFQiLCJBUlJPV19MRUZUIiwiRVNDQVBFIiwiVEFCIiwiU0hJRlRfVEFCIiwibXVsdGlPcGVuIiwiYXJpYS1tdWx0aXNlbGVjdGFibGUiLCIkbWVudUxpbmtzIiwic3ViSWQiLCJpc0FjdGl2ZSIsImluaXRQYW5lcyIsIiRzdWJtZW51IiwiJHByZXZFbGVtZW50IiwiJG5leHRFbGVtZW50IiwiJGVsZW1lbnRzIiwibWluIiwicGFyZW50cyIsIm9wZW4iLCJjbG9zZSIsImNsb3NlQWxsIiwiaGlkZUFsbCIsInN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiIsInBhcmVudHNVbnRpbCIsImFkZCIsIkRyaWxsZG93biIsImJhY2tCdXR0b24iLCJ3cmFwcGVyIiwiY2xvc2VPbkNsaWNrIiwiJHN1Ym1lbnVBbmNob3JzIiwiJHN1Ym1lbnVzIiwiJG1lbnVJdGVtcyIsIl9wcmVwYXJlTWVudSIsIl9rZXlib2FyZEV2ZW50cyIsIiRsaW5rIiwidGFiaW5kZXgiLCIkbWVudSIsIiRiYWNrIiwicHJlcGVuZCIsIl9iYWNrIiwiJHdyYXBwZXIiLCJfZ2V0TWF4RGltcyIsIndyYXAiLCJfc2hvdyIsIiRib2R5IiwiX2hpZGVBbGwiLCJfaGlkZSIsIl9tZW51TGlua0V2ZW50cyIsInJlc3VsdCIsIm51bU9mRWxlbXMiLCJ1bndyYXAiLCJyZW1vdmUiLCJyZW1vdmVEYXRhIiwiRHJvcGRvd24iLCJob3ZlckRlbGF5IiwiaG92ZXIiLCJwb3NpdGlvbkNsYXNzIiwidHJhcEZvY3VzIiwiYXV0b0ZvY3VzIiwiJGlkIiwiJGFuY2hvciIsImRhdGEtaXMtZm9jdXMiLCJkYXRhLXlldGktYm94IiwiZ2V0UG9zaXRpb25DbGFzcyIsInVzZWRQb3NpdGlvbnMiLCJkYXRhLXJlc2l6ZSIsIl9yZXBvc2l0aW9uIiwiY2xhc3NDaGFuZ2VkIiwiX3NldFBvc2l0aW9uIiwiZGlyZWN0aW9uIiwib3Blbi56Zi50cmlnZ2VyIiwiY2xvc2UuemYudHJpZ2dlciIsInRvZ2dsZS56Zi50cmlnZ2VyIiwicmVzaXplbWUuemYudHJpZ2dlciIsInRpbWVvdXQiLCJ0aW1lT3V0IiwidmlzaWJsZUZvY3VzYWJsZUVsZW1lbnRzIiwidGFiX2ZvcndhcmQiLCJ0YWJfYmFja3dhcmQiLCIkZm9jdXNhYmxlIiwiY3VyUG9zaXRpb25DbGFzcyIsIkRyb3Bkb3duTWVudSIsImRpc2FibGVIb3ZlciIsImF1dG9jbG9zZSIsImNsaWNrT3BlbiIsImNsb3NpbmdUaW1lIiwiYWxpZ25tZW50IiwidmVydGljYWxDbGFzcyIsInJpZ2h0Q2xhc3MiLCJmb3JjZUZvbGxvdyIsInN1YnMiLCJpc1ZlcnQiLCJjaGFuZ2VkIiwiaGFzVG91Y2giLCJvbnRvdWNoc3RhcnQiLCJwYXJDbGFzcyIsImhhc1N1YiIsImhhc0NsaWNrZWQiLCJpc1RhYiIsImluZGV4IiwibmV4dFNpYmxpbmciLCJwcmV2U2libGluZyIsIm9wZW5TdWIiLCJjbG9zZVN1YiIsInZlcnRpY2FsIiwiX2FkZEJvZHlIYW5kbGVyIiwiJHNpYnMiLCJjbGVhciIsIm9sZENsYXNzIiwiJHBhcmVudExpIiwiJHRvQ2xvc2UiLCJzb21ldGhpbmdUb0Nsb3NlIiwiZGF0YS1pcy1jbGljayIsIkVxdWFsaXplciIsImVxdWFsaXplT25TdGFjayIsInRocm90dGxlSW50ZXJ2YWwiLCJfa2lsbHN3aXRjaCIsIiRlcVBhcmVudCIsImFkanVzdGVkSGVpZ2h0cyIsIiRpbWFnZXMiLCJnZXRIZWlnaHRzIiwiYXBwbHlIZWlnaHQiLCJoZWlnaHRzIiwiZXFHcm91cE5hbWUiLCJlcUdyb3VwIiwib3V0ZXJIZWlnaHQiLCJJbnRlcmNoYW5nZSIsInJ1bGVzIiwiY3VycmVudFBhdGgiLCJTUEVDSUFMX1FVRVJJRVMiLCJsYW5kc2NhcGUiLCJwb3J0cmFpdCIsInJldGluYSIsIl9hZGRCcmVha3BvaW50cyIsIl9nZW5lcmF0ZVJ1bGVzIiwicnVsZSIsInBhdGgiLCJydWxlc0xpc3QiLCJiYWNrZ3JvdW5kLWltYWdlIiwicmVzcG9uc2UiLCJodG1sIiwiTWFnZWxsYW4iLCJhbmltYXRpb25EdXJhdGlvbiIsImFuaW1hdGlvbkVhc2luZyIsInRocmVzaG9sZCIsImRlZXBMaW5raW5nIiwiYmFyT2Zmc2V0IiwiJHRhcmdldHMiLCIkbGlua3MiLCJkYXRhLXNjcm9sbCIsIiRhY3RpdmUiLCJzY3JvbGxQb3MiLCJwYXJzZUludCIsImNhbGNQb2ludHMiLCJwb2ludHMiLCJ3aW5IZWlnaHQiLCJpbm5lckhlaWdodCIsImNsaWVudEhlaWdodCIsImRvY0hlaWdodCIsInNjcm9sbEhlaWdodCIsIm9mZnNldEhlaWdodCIsIiR0YXIiLCJwdCIsInRhcmdldFBvaW50IiwiZWFzaW5nIiwiX3VwZGF0ZUFjdGl2ZSIsInNjcm9sbG1lLnpmLnRyaWdnZXIiLCJhcnJpdmFsIiwic3RvcCIsInNjcm9sbFRvcCIsImN1cklkeCIsIndpblBvcyIsImlzRG93biIsImN1clZpc2libGUiLCJoYXNoIiwiaGlzdG9yeSIsInB1c2hTdGF0ZSIsImxvY2F0aW9uIiwiT2ZmQ2FudmFzIiwiJGxhc3RUcmlnZ2VyIiwidHJhbnNpdGlvblRpbWUiLCJmb3JjZVRvcCIsImlzUmV2ZWFsZWQiLCJyZXZlYWxPbiIsInJldmVhbENsYXNzIiwiJGV4aXRlciIsImV4aXRlciIsImFwcGVuZCIsIl9zZXRNUUNoZWNrZXIiLCJrZXlkb3duLnpmLm9mZmNhbnZhcyIsIl9oYW5kbGVLZXlib2FyZCIsImNsaWNrLnpmLm9mZmNhbnZhcyIsInJldmVhbCIsIiRjbG9zZXIiLCJPcmJpdCIsImJ1bGxldHMiLCJuYXZCdXR0b25zIiwiYW5pbUluRnJvbVJpZ2h0IiwiYW5pbU91dFRvUmlnaHQiLCJhbmltSW5Gcm9tTGVmdCIsImFuaW1PdXRUb0xlZnQiLCJhdXRvUGxheSIsInRpbWVyRGVsYXkiLCJpbmZpbml0ZVdyYXAiLCJwYXVzZU9uSG92ZXIiLCJhY2Nlc3NpYmxlIiwiY29udGFpbmVyQ2xhc3MiLCJzbGlkZUNsYXNzIiwiYm94T2ZCdWxsZXRzIiwibmV4dENsYXNzIiwicHJldkNsYXNzIiwidXNlTVVJIiwiJHNsaWRlcyIsImluaXRBY3RpdmUiLCJfcHJlcGFyZUZvck9yYml0IiwiX2xvYWRCdWxsZXRzIiwiZ2VvU3luYyIsIiRidWxsZXRzIiwiY2hhbmdlU2xpZGUiLCJfc2V0V3JhcHBlckhlaWdodCIsIl9zZXRTbGlkZUhlaWdodCIsInRlbXAiLCJkaXNwbGF5IiwiJGNvbnRyb2xzIiwiJHNsaWRlIiwiaXNMVFIiLCJjaG9zZW5TbGlkZSIsIiRjdXJTbGlkZSIsIiRuZXdTbGlkZSIsIiRmaXJzdFNsaWRlIiwiJGxhc3RTbGlkZSIsImxhc3QiLCJkaXJJbiIsImRpck91dCIsIl91cGRhdGVCdWxsZXRzIiwiJG9sZEJ1bGxldCIsImJsdXIiLCJzcGFuIiwiZGV0YWNoIiwiUmVzcG9uc2l2ZU1lbnUiLCJjdXJyZW50TXEiLCJjdXJyZW50UGx1Z2luIiwiTWVudVBsdWdpbnMiLCJkcm9wZG93biIsImNzc0NsYXNzIiwiZHJpbGxkb3duIiwiYWNjb3JkaW9uIiwicnVsZXNUcmVlIiwicnVsZVNpemUiLCJydWxlUGx1Z2luIiwiaXNFbXB0eU9iamVjdCIsIl9jaGVja01lZGlhUXVlcmllcyIsIm1hdGNoZWRNcSIsIlJlc3BvbnNpdmVUb2dnbGUiLCJoaWRlRm9yIiwidGFyZ2V0SUQiLCIkdGFyZ2V0TWVudSIsIiR0b2dnbGVyIiwiX3VwZGF0ZSIsInRvZ2dsZU1lbnUiLCJSZXZlYWwiLCJhbmltYXRpb25JbiIsImFuaW1hdGlvbk91dCIsInNob3dEZWxheSIsImhpZGVEZWxheSIsImNsb3NlT25Fc2MiLCJtdWx0aXBsZU9wZW5lZCIsImZ1bGxTY3JlZW4iLCJidG1PZmZzZXRQY3QiLCJvdmVybGF5IiwicmVzZXRPbkNsb3NlIiwiYW5jaG9ySWQiLCIkb3ZlcmxheSIsIl9tYWtlT3ZlcmxheSIsImRhdGEtY2xvc2UiLCJlbGVQb3MiLCJtYXgtaGVpZ2h0IiwiY2hhbmdlZFNpemUiLCJ2aXNpYmlsaXR5IiwiZm9jdXNhYmxlRWxlbWVudHMiLCJfZXh0cmFIYW5kbGVycyIsIlNsaWRlciIsIlNISUZUX0FSUk9XX1JJR0hUIiwiU0hJRlRfQVJST1dfVVAiLCJTSElGVF9BUlJPV19ET1dOIiwiU0hJRlRfQVJST1dfTEVGVCIsInBlcmNlbnQiLCJmcmFjIiwibnVtIiwiYWJzUG9zaXRpb24iLCIkaGFuZGxlIiwiY2xpY2tQb3MiLCJzdGVwIiwiaW5pdGlhbFN0YXJ0IiwiaW5pdGlhbEVuZCIsImJpbmRpbmciLCJjbGlja1NlbGVjdCIsImRyYWdnYWJsZSIsImRpc2FibGVkIiwiZG91YmxlU2lkZWQiLCJkZWNpbWFsIiwibW92ZVRpbWUiLCJkaXNhYmxlZENsYXNzIiwiaGFuZGxlcyIsIiRpbnB1dCIsIiRmaWxsIiwiaXNEYmwiLCJfc2V0SW5pdEF0dHIiLCIkaGFuZGxlMiIsIiRpbnB1dDIiLCJfc2V0SGFuZGxlUG9zIiwiJGhuZGwiLCJub0ludmVydCIsImgyVmFsIiwiaDFWYWwiLCJ2ZXJ0IiwiaE9yVyIsImxPclQiLCJoYWxmT2ZIYW5kbGUiLCJlbGVtRGltIiwicGN0T2ZCYXIiLCJ0b0ZpeGVkIiwicHhUb01vdmUiLCJtb3ZlbWVudCIsIl9zZXRWYWx1ZXMiLCJkaW0iLCJpc0xlZnRIbmRsIiwiYW5pbUNvbXBsZXRlIiwiYXJpYS12YWx1ZW1heCIsImFyaWEtdmFsdWVtaW4iLCJhcmlhLXZhbHVlbm93IiwiYXJpYS1vcmllbnRhdGlvbiIsIl9oYW5kbGVFdmVudCIsImhhc1ZhbCIsInBhZ2VYWSIsImJhckRpbSIsImJhclhZIiwib2Zmc2V0UGN0IiwiZmlyc3RIbmRsUG9zIiwic2VjbmRIbmRsUG9zIiwiY3VySGFuZGxlIiwiY3VycmVudFRhcmdldCIsIm5ld1ZhbHVlIiwib2xkVmFsdWUiLCJfJGhhbmRsZSIsImRlY3JlYXNlIiwiaW5jcmVhc2UiLCJkZWNyZWFzZV9mYXN0IiwiaW5jcmVhc2VfZmFzdCIsIlN0aWNreSIsImVtQ2FsYyIsImVtIiwiZm9udFNpemUiLCJjb250YWluZXIiLCJzdGlja1RvIiwidG9wQW5jaG9yIiwiYnRtQW5jaG9yIiwibWFyZ2luVG9wIiwibWFyZ2luQm90dG9tIiwic3RpY2t5T24iLCJzdGlja3lDbGFzcyIsImNoZWNrRXZlcnkiLCIkcGFyZW50Iiwid2FzV3JhcHBlZCIsIiRjb250YWluZXIiLCJ3cmFwSW5uZXIiLCJzY3JvbGxDb3VudCIsImlzU3R1Y2siLCJfcGFyc2VQb2ludHMiLCJfc2V0U2l6ZXMiLCJfY2FsYyIsInJldmVyc2UiLCJidG0iLCJwdHMiLCJicmVha3MiLCJsZW4iLCJwbGFjZSIsImlzT24iLCJjYW5TdGljayIsIl9wYXVzZUxpc3RlbmVycyIsImNoZWNrU2l6ZXMiLCJzY3JvbGwiLCJ0b3BQb2ludCIsImJvdHRvbVBvaW50IiwiX3NldFN0aWNreSIsIl9yZW1vdmVTdGlja3kiLCJtcmduIiwibm90U3R1Y2tUbyIsImlzVG9wIiwic3RpY2tUb1RvcCIsImFuY2hvclB0IiwiYW5jaG9ySGVpZ2h0IiwiZWxlbUhlaWdodCIsInRvcE9yQm90dG9tIiwibmV3RWxlbVdpZHRoIiwiY29tcCIsInBkbmciLCJtYXgtd2lkdGgiLCJuZXdDb250YWluZXJIZWlnaHQiLCJjb250YWluZXJIZWlnaHQiLCJfc2V0QnJlYWtQb2ludHMiLCJtVG9wIiwibUJ0bSIsIlRhYnMiLCJ3cmFwT25LZXlzIiwibWF0Y2hIZWlnaHQiLCJsaW5rQ2xhc3MiLCJwYW5lbENsYXNzIiwiJHRhYlRpdGxlcyIsIl9zZXRIZWlnaHQiLCJfYWRkS2V5SGFuZGxlciIsIl9hZGRDbGlja0hhbmRsZXIiLCJfaGFuZGxlVGFiQ2hhbmdlIiwiJHRhYkxpbmsiLCIkdGFyZ2V0Q29udGVudCIsIiRvbGRUYWIiLCJzZWxlY3RUYWIiLCJpZFN0ciIsInBhbmVsIiwiVG9nZ2xlciIsImlucHV0IiwiX3RvZ2dsZUFuaW1hdGUiLCJfdG9nZ2xlQ2xhc3MiLCJ0b2dnbGVDbGFzcyIsIl91cGRhdGVBUklBIiwiVG9vbHRpcCIsImlzQ2xpY2siLCJkaXNhYmxlRm9yVG91Y2giLCJmYWRlSW5EdXJhdGlvbiIsImZhZGVPdXREdXJhdGlvbiIsInRlbXBsYXRlQ2xhc3NlcyIsInRvb2x0aXBDbGFzcyIsInRyaWdnZXJDbGFzcyIsInNob3dPbiIsInRlbXBsYXRlIiwidGlwVGV4dCIsInRvdWNoQ2xvc2VUZXh0IiwiZWxlbUlkIiwiX2dldFBvc2l0aW9uQ2xhc3MiLCJfYnVpbGRUZW1wbGF0ZSIsInRpdGxlIiwiYXJpYS1kZXNjcmliZWRieSIsImRhdGEtdG9nZ2xlIiwiJHRlbXBsYXRlIiwiZGF0YS1pcy1hY3RpdmUiLCIkdGlwRGltcyIsImZhZGVJbiIsImlzRm9jdXMiLCJsb2ciXSwibWFwcGluZ3MiOiJDQUFFLFNBQVNBLEVBQU1DLEdBQ08sa0JBQVhDLFNBQXlCQSxPQUFPQyxJQUN6Q0QsVUFBVyxXQUNULE1BQVFELE9BRWtCLGdCQUFaRyxTQUNoQkMsT0FBT0QsUUFBVUgsSUFFakJELEVBQUtNLFVBQVlMLEtBRWxCTSxLQUFNLFdBQ1AsWUEwRUEsU0FBU0MsR0FBWUMsR0FDbkJDLGFBQWFDLEdBRWJDLEVBQVNILEdBRVRJLEdBQVMsRUFDVEYsRUFBUUcsV0FBVyxXQUNqQkQsR0FBUyxHQUNSLEtBR0wsUUFBU0UsR0FBZU4sR0FDakJJLEdBQVFELEVBQVNILEdBR3hCLFFB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L1gsU0FFZHhlLEVBQVdnQixpQkFBaUIzRyxPQU05QjJGLEVBQVdPLE9BQU91MUIsRUFBUyxZQUMzQnJ2QixPQUFRN0osT0FBT0ksU0FBVUosT0FBT29ELFlBUWxDeUcsT0FBTyxTQUFTOUgsR0FDZkEsRUFBRTNCLFVBQVV1SCIsImZpbGUiOiJzY3JpcHRzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIjsoZnVuY3Rpb24ocm9vdCwgZmFjdG9yeSkge1xuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgZGVmaW5lKFtdLCBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAoZmFjdG9yeSgpKTtcbiAgICB9KTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcbiAgfSBlbHNlIHtcbiAgICByb290LndoYXRJbnB1dCA9IGZhY3RvcnkoKTtcbiAgfVxufSAodGhpcywgZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuXG4gIC8qXG4gICAgLS0tLS0tLS0tLS0tLS0tXG4gICAgdmFyaWFibGVzXG4gICAgLS0tLS0tLS0tLS0tLS0tXG4gICovXG5cbiAgLy8gYXJyYXkgb2YgYWN0aXZlbHkgcHJlc3NlZCBrZXlzXG4gIHZhciBhY3RpdmVLZXlzID0gW107XG5cbiAgLy8gY2FjaGUgZG9jdW1lbnQuYm9keVxuICB2YXIgYm9keSA9IGRvY3VtZW50LmJvZHk7XG5cbiAgLy8gYm9vbGVhbjogdHJ1ZSBpZiB0b3VjaCBidWZmZXIgdGltZXIgaXMgcnVubmluZ1xuICB2YXIgYnVmZmVyID0gZmFsc2U7XG5cbiAgLy8gdGhlIGxhc3QgdXNlZCBpbnB1dCB0eXBlXG4gIHZhciBjdXJyZW50SW5wdXQgPSBudWxsO1xuXG4gIC8vIGFycmF5IG9mIGZvcm0gZWxlbWVudHMgdGhhdCB0YWtlIGtleWJvYXJkIGlucHV0XG4gIHZhciBmb3JtSW5wdXRzID0gW1xuICAgICdpbnB1dCcsXG4gICAgJ3NlbGVjdCcsXG4gICAgJ3RleHRhcmVhJ1xuICBdO1xuXG4gIC8vIHVzZXItc2V0IGZsYWcgdG8gYWxsb3cgdHlwaW5nIGluIGZvcm0gZmllbGRzIHRvIGJlIHJlY29yZGVkXG4gIHZhciBmb3JtVHlwaW5nID0gYm9keS5oYXNBdHRyaWJ1dGUoJ2RhdGEtd2hhdGlucHV0LWZvcm10eXBpbmcnKTtcblxuICAvLyBtYXBwaW5nIG9mIGV2ZW50cyB0byBpbnB1dCB0eXBlc1xuICB2YXIgaW5wdXRNYXAgPSB7XG4gICAgJ2tleWRvd24nOiAna2V5Ym9hcmQnLFxuICAgICdtb3VzZWRvd24nOiAnbW91c2UnLFxuICAgICdtb3VzZWVudGVyJzogJ21vdXNlJyxcbiAgICAndG91Y2hzdGFydCc6ICd0b3VjaCcsXG4gICAgJ3BvaW50ZXJkb3duJzogJ3BvaW50ZXInLFxuICAgICdNU1BvaW50ZXJEb3duJzogJ3BvaW50ZXInXG4gIH07XG5cbiAgLy8gYXJyYXkgb2YgYWxsIHVzZWQgaW5wdXQgdHlwZXNcbiAgdmFyIGlucHV0VHlwZXMgPSBbXTtcblxuICAvLyBtYXBwaW5nIG9mIGtleSBjb2RlcyB0byBjb21tb24gbmFtZVxuICB2YXIga2V5TWFwID0ge1xuICAgIDk6ICd0YWInLFxuICAgIDEzOiAnZW50ZXInLFxuICAgIDE2OiAnc2hpZnQnLFxuICAgIDI3OiAnZXNjJyxcbiAgICAzMjogJ3NwYWNlJyxcbiAgICAzNzogJ2xlZnQnLFxuICAgIDM4OiAndXAnLFxuICAgIDM5OiAncmlnaHQnLFxuICAgIDQwOiAnZG93bidcbiAgfTtcblxuICAvLyBtYXAgb2YgSUUgMTAgcG9pbnRlciBldmVudHNcbiAgdmFyIHBvaW50ZXJNYXAgPSB7XG4gICAgMjogJ3RvdWNoJyxcbiAgICAzOiAndG91Y2gnLCAvLyB0cmVhdCBwZW4gbGlrZSB0b3VjaFxuICAgIDQ6ICdtb3VzZSdcbiAgfTtcblxuICAvLyB0b3VjaCBidWZmZXIgdGltZXJcbiAgdmFyIHRpbWVyO1xuXG5cbiAgLypcbiAgICAtLS0tLS0tLS0tLS0tLS1cbiAgICBmdW5jdGlvbnNcbiAgICAtLS0tLS0tLS0tLS0tLS1cbiAgKi9cblxuICBmdW5jdGlvbiBidWZmZXJJbnB1dChldmVudCkge1xuICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG5cbiAgICBzZXRJbnB1dChldmVudCk7XG5cbiAgICBidWZmZXIgPSB0cnVlO1xuICAgIHRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIGJ1ZmZlciA9IGZhbHNlO1xuICAgIH0sIDEwMDApO1xuICB9XG5cbiAgZnVuY3Rpb24gaW1tZWRpYXRlSW5wdXQoZXZlbnQpIHtcbiAgICBpZiAoIWJ1ZmZlcikgc2V0SW5wdXQoZXZlbnQpO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0SW5wdXQoZXZlbnQpIHtcbiAgICB2YXIgZXZlbnRLZXkgPSBrZXkoZXZlbnQpO1xuICAgIHZhciBldmVudFRhcmdldCA9IHRhcmdldChldmVudCk7XG4gICAgdmFyIHZhbHVlID0gaW5wdXRNYXBbZXZlbnQudHlwZV07XG4gICAgaWYgKHZhbHVlID09PSAncG9pbnRlcicpIHZhbHVlID0gcG9pbnRlclR5cGUoZXZlbnQpO1xuXG4gICAgaWYgKGN1cnJlbnRJbnB1dCAhPT0gdmFsdWUpIHtcbiAgICAgIGlmIChcbiAgICAgICAgLy8gb25seSBpZiB0aGUgdXNlciBmbGFnIGlzbid0IHNldFxuICAgICAgICAhZm9ybVR5cGluZyAmJlxuXG4gICAgICAgIC8vIG9ubHkgaWYgY3VycmVudElucHV0IGhhcyBhIHZhbHVlXG4gICAgICAgIGN1cnJlbnRJbnB1dCAmJlxuXG4gICAgICAgIC8vIG9ubHkgaWYgdGhlIGlucHV0IGlzIGBrZXlib2FyZGBcbiAgICAgICAgdmFsdWUgPT09ICdrZXlib2FyZCcgJiZcblxuICAgICAgICAvLyBub3QgaWYgdGhlIGtleSBpcyBgVEFCYFxuICAgICAgICBrZXlNYXBbZXZlbnRLZXldICE9PSAndGFiJyAmJlxuXG4gICAgICAgIC8vIG9ubHkgaWYgdGhlIHRhcmdldCBpcyBvbmUgb2YgdGhlIGVsZW1lbnRzIGluIGBmb3JtSW5wdXRzYFxuICAgICAgICBmb3JtSW5wdXRzLmluZGV4T2YoZXZlbnRUYXJnZXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSkgPj0gMFxuICAgICAgKSB7XG4gICAgICAgIC8vIGlnbm9yZSBrZXlib2FyZCB0eXBpbmcgb24gZm9ybSBlbGVtZW50c1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3VycmVudElucHV0ID0gdmFsdWU7XG4gICAgICAgIGJvZHkuc2V0QXR0cmlidXRlKCdkYXRhLXdoYXRpbnB1dCcsIGN1cnJlbnRJbnB1dCk7XG5cbiAgICAgICAgaWYgKGlucHV0VHlwZXMuaW5kZXhPZihjdXJyZW50SW5wdXQpID09PSAtMSkgaW5wdXRUeXBlcy5wdXNoKGN1cnJlbnRJbnB1dCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHZhbHVlID09PSAna2V5Ym9hcmQnKSBsb2dLZXlzKGV2ZW50S2V5KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGtleShldmVudCkge1xuICAgIHJldHVybiAoZXZlbnQua2V5Q29kZSkgPyBldmVudC5rZXlDb2RlIDogZXZlbnQud2hpY2g7XG4gIH1cblxuICBmdW5jdGlvbiB0YXJnZXQoZXZlbnQpIHtcbiAgICByZXR1cm4gZXZlbnQudGFyZ2V0IHx8IGV2ZW50LnNyY0VsZW1lbnQ7XG4gIH1cblxuICBmdW5jdGlvbiBwb2ludGVyVHlwZShldmVudCkge1xuICAgIHJldHVybiAodHlwZW9mIGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbnVtYmVyJykgPyBwb2ludGVyTWFwW2V2ZW50LnBvaW50ZXJUeXBlXSA6IGV2ZW50LnBvaW50ZXJUeXBlO1xuICB9XG5cbiAgLy8ga2V5Ym9hcmQgbG9nZ2luZ1xuICBmdW5jdGlvbiBsb2dLZXlzKGV2ZW50S2V5KSB7XG4gICAgaWYgKGFjdGl2ZUtleXMuaW5kZXhPZihrZXlNYXBbZXZlbnRLZXldKSA9PT0gLTEgJiYga2V5TWFwW2V2ZW50S2V5XSkgYWN0aXZlS2V5cy5wdXNoKGtleU1hcFtldmVudEtleV0pO1xuICB9XG5cbiAgZnVuY3Rpb24gdW5Mb2dLZXlzKGV2ZW50KSB7XG4gICAgdmFyIGV2ZW50S2V5ID0ga2V5KGV2ZW50KTtcbiAgICB2YXIgYXJyYXlQb3MgPSBhY3RpdmVLZXlzLmluZGV4T2Yoa2V5TWFwW2V2ZW50S2V5XSk7XG5cbiAgICBpZiAoYXJyYXlQb3MgIT09IC0xKSBhY3RpdmVLZXlzLnNwbGljZShhcnJheVBvcywgMSk7XG4gIH1cblxuICBmdW5jdGlvbiBiaW5kRXZlbnRzKCkge1xuXG4gICAgLy8gcG9pbnRlci9tb3VzZVxuICAgIHZhciBtb3VzZUV2ZW50ID0gJ21vdXNlZG93bic7XG5cbiAgICBpZiAod2luZG93LlBvaW50ZXJFdmVudCkge1xuICAgICAgbW91c2VFdmVudCA9ICdwb2ludGVyZG93bic7XG4gICAgfSBlbHNlIGlmICh3aW5kb3cuTVNQb2ludGVyRXZlbnQpIHtcbiAgICAgIG1vdXNlRXZlbnQgPSAnTVNQb2ludGVyRG93bic7XG4gICAgfVxuXG4gICAgYm9keS5hZGRFdmVudExpc3RlbmVyKG1vdXNlRXZlbnQsIGltbWVkaWF0ZUlucHV0KTtcbiAgICBib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCBpbW1lZGlhdGVJbnB1dCk7XG5cbiAgICAvLyB0b3VjaFxuICAgIGlmICgnb250b3VjaHN0YXJ0JyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpIHtcbiAgICAgIGJvZHkuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIGJ1ZmZlcklucHV0KTtcbiAgICB9XG5cbiAgICAvLyBrZXlib2FyZFxuICAgIGJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGltbWVkaWF0ZUlucHV0KTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHVuTG9nS2V5cyk7XG4gIH1cblxuXG4gIC8qXG4gICAgLS0tLS0tLS0tLS0tLS0tXG4gICAgaW5pdFxuXG4gICAgZG9uJ3Qgc3RhcnQgc2NyaXB0IHVubGVzcyBicm93c2VyIGN1dHMgdGhlIG11c3RhcmQsXG4gICAgYWxzbyBwYXNzZXMgaWYgcG9seWZpbGxzIGFyZSB1c2VkXG4gICAgLS0tLS0tLS0tLS0tLS0tXG4gICovXG5cbiAgaWYgKCdhZGRFdmVudExpc3RlbmVyJyBpbiB3aW5kb3cgJiYgQXJyYXkucHJvdG90eXBlLmluZGV4T2YpIHtcbiAgICBiaW5kRXZlbnRzKCk7XG4gIH1cblxuXG4gIC8qXG4gICAgLS0tLS0tLS0tLS0tLS0tXG4gICAgYXBpXG4gICAgLS0tLS0tLS0tLS0tLS0tXG4gICovXG5cbiAgcmV0dXJuIHtcblxuICAgIC8vIHJldHVybnMgc3RyaW5nOiB0aGUgY3VycmVudCBpbnB1dCB0eXBlXG4gICAgYXNrOiBmdW5jdGlvbigpIHsgcmV0dXJuIGN1cnJlbnRJbnB1dDsgfSxcblxuICAgIC8vIHJldHVybnMgYXJyYXk6IGN1cnJlbnRseSBwcmVzc2VkIGtleXNcbiAgICBrZXlzOiBmdW5jdGlvbigpIHsgcmV0dXJuIGFjdGl2ZUtleXM7IH0sXG5cbiAgICAvLyByZXR1cm5zIGFycmF5OiBhbGwgdGhlIGRldGVjdGVkIGlucHV0IHR5cGVzXG4gICAgdHlwZXM6IGZ1bmN0aW9uKCkgeyByZXR1cm4gaW5wdXRUeXBlczsgfSxcblxuICAgIC8vIGFjY2VwdHMgc3RyaW5nOiBtYW51YWxseSBzZXQgdGhlIGlucHV0IHR5cGVcbiAgICBzZXQ6IHNldElucHV0XG4gIH07XG5cbn0pKTtcblxuIWZ1bmN0aW9uKCQpIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBGT1VOREFUSU9OX1ZFUlNJT04gPSAnNi4wLjUnO1xuXG4vLyBHbG9iYWwgRm91bmRhdGlvbiBvYmplY3Rcbi8vIFRoaXMgaXMgYXR0YWNoZWQgdG8gdGhlIHdpbmRvdywgb3IgdXNlZCBhcyBhIG1vZHVsZSBmb3IgQU1EL0Jyb3dzZXJpZnlcbnZhciBGb3VuZGF0aW9uID0ge1xuICB2ZXJzaW9uOiBGT1VOREFUSU9OX1ZFUlNJT04sXG5cbiAgLyoqXG4gICAqIFN0b3JlcyBpbml0aWFsaXplZCBwbHVnaW5zLlxuICAgKi9cbiAgX3BsdWdpbnM6IHt9LFxuXG4gIC8qKlxuICAgKiBTdG9yZXMgZ2VuZXJhdGVkIHVuaXF1ZSBpZHMgZm9yIHBsdWdpbiBpbnN0YW5jZXNcbiAgICovXG4gIF91dWlkczogW10sXG4gIC8qKlxuICAgKiBTdG9yZXMgY3VycmVudGx5IGFjdGl2ZSBwbHVnaW5zLlxuICAgKi9cbiAgX2FjdGl2ZVBsdWdpbnM6IHt9LFxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgYm9vbGVhbiBmb3IgUlRMIHN1cHBvcnRcbiAgICovXG4gIHJ0bDogZnVuY3Rpb24oKXtcbiAgICByZXR1cm4gJCgnaHRtbCcpLmF0dHIoJ2RpcicpID09PSAncnRsJztcbiAgfSxcbiAgLyoqXG4gICAqIERlZmluZXMgYSBGb3VuZGF0aW9uIHBsdWdpbiwgYWRkaW5nIGl0IHRvIHRoZSBgRm91bmRhdGlvbmAgbmFtZXNwYWNlIGFuZCB0aGUgbGlzdCBvZiBwbHVnaW5zIHRvIGluaXRpYWxpemUgd2hlbiByZWZsb3dpbmcuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwbHVnaW4gLSBUaGUgY29uc3RydWN0b3Igb2YgdGhlIHBsdWdpbi5cbiAgICovXG4gIHBsdWdpbjogZnVuY3Rpb24ocGx1Z2luLCBuYW1lKSB7XG4gICAgLy8gT2JqZWN0IGtleSB0byB1c2Ugd2hlbiBhZGRpbmcgdG8gZ2xvYmFsIEZvdW5kYXRpb24gb2JqZWN0XG4gICAgLy8gRXhhbXBsZXM6IEZvdW5kYXRpb24uUmV2ZWFsLCBGb3VuZGF0aW9uLk9mZkNhbnZhc1xuICAgIHZhciBjbGFzc05hbWUgPSAobmFtZSB8fCBmdW5jdGlvbk5hbWUocGx1Z2luKSk7XG4gICAgLy8gT2JqZWN0IGtleSB0byB1c2Ugd2hlbiBzdG9yaW5nIHRoZSBwbHVnaW4sIGFsc28gdXNlZCB0byBjcmVhdGUgdGhlIGlkZW50aWZ5aW5nIGRhdGEgYXR0cmlidXRlIGZvciB0aGUgcGx1Z2luXG4gICAgLy8gRXhhbXBsZXM6IGRhdGEtcmV2ZWFsLCBkYXRhLW9mZi1jYW52YXNcbiAgICB2YXIgYXR0ck5hbWUgID0gaHlwaGVuYXRlKGNsYXNzTmFtZSk7XG5cbiAgICAvLyBBZGQgdG8gdGhlIEZvdW5kYXRpb24gb2JqZWN0IGFuZCB0aGUgcGx1Z2lucyBsaXN0IChmb3IgcmVmbG93aW5nKVxuICAgIHRoaXMuX3BsdWdpbnNbYXR0ck5hbWVdID0gdGhpc1tjbGFzc05hbWVdID0gcGx1Z2luO1xuICB9LFxuICAvKipcbiAgICogQGZ1bmN0aW9uXG4gICAqIENyZWF0ZXMgYSBwb2ludGVyIHRvIGFuIGluc3RhbmNlIG9mIGEgUGx1Z2luIHdpdGhpbiB0aGUgRm91bmRhdGlvbi5fYWN0aXZlUGx1Z2lucyBvYmplY3QuXG4gICAqIFNldHMgdGhlIGBbZGF0YS1wbHVnaW5OYW1lPVwidW5pcXVlSWRIZXJlXCJdYCwgYWxsb3dpbmcgZWFzeSBhY2Nlc3MgdG8gYW55IHBsdWdpbidzIGludGVybmFsIG1ldGhvZHMuXG4gICAqIEFsc28gZmlyZXMgdGhlIGluaXRpYWxpemF0aW9uIGV2ZW50IGZvciBlYWNoIHBsdWdpbiwgY29uc29saWRhdGluZyByZXBlZGl0aXZlIGNvZGUuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwbHVnaW4gLSBhbiBpbnN0YW5jZSBvZiBhIHBsdWdpbiwgdXN1YWxseSBgdGhpc2AgaW4gY29udGV4dC5cbiAgICogQGZpcmVzIFBsdWdpbiNpbml0XG4gICAqL1xuICByZWdpc3RlclBsdWdpbjogZnVuY3Rpb24ocGx1Z2luKXtcbiAgICB2YXIgcGx1Z2luTmFtZSA9IGZ1bmN0aW9uTmFtZShwbHVnaW4uY29uc3RydWN0b3IpLnRvTG93ZXJDYXNlKCk7XG5cbiAgICBwbHVnaW4udXVpZCA9IHRoaXMuR2V0WW9EaWdpdHMoNiwgcGx1Z2luTmFtZSk7XG4gICAgcGx1Z2luLiRlbGVtZW50LmF0dHIoJ2RhdGEtJyArIHBsdWdpbk5hbWUsIHBsdWdpbi51dWlkKVxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEZpcmVzIHdoZW4gdGhlIHBsdWdpbiBoYXMgaW5pdGlhbGl6ZWQuXG4gICAgICAgICAgICogQGV2ZW50IFBsdWdpbiNpbml0XG4gICAgICAgICAgICovXG4gICAgICAgICAgLnRyaWdnZXIoJ2luaXQuemYuJyArIHBsdWdpbk5hbWUpO1xuXG4gICAgdGhpcy5fYWN0aXZlUGx1Z2luc1twbHVnaW4udXVpZF0gPSBwbHVnaW47XG5cbiAgICByZXR1cm47XG4gIH0sXG4gIC8qKlxuICAgKiBAZnVuY3Rpb25cbiAgICogUmVtb3ZlcyB0aGUgcG9pbnRlciBmb3IgYW4gaW5zdGFuY2Ugb2YgYSBQbHVnaW4gZnJvbSB0aGUgRm91bmRhdGlvbi5fYWN0aXZlUGx1Z2lucyBvYmouXG4gICAqIEFsc28gZmlyZXMgdGhlIGRlc3Ryb3llZCBldmVudCBmb3IgdGhlIHBsdWdpbiwgY29uc29saWRhdGluZyByZXBlZGl0aXZlIGNvZGUuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwbHVnaW4gLSBhbiBpbnN0YW5jZSBvZiBhIHBsdWdpbiwgdXN1YWxseSBgdGhpc2AgaW4gY29udGV4dC5cbiAgICogQGZpcmVzIFBsdWdpbiNkZXN0cm95ZWRcbiAgICovXG4gIHVucmVnaXN0ZXJQbHVnaW46IGZ1bmN0aW9uKHBsdWdpbil7XG4gICAgdmFyIHBsdWdpbk5hbWUgPSBmdW5jdGlvbk5hbWUocGx1Z2luLmNvbnN0cnVjdG9yKS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgZGVsZXRlIHRoaXMuX2FjdGl2ZVBsdWdpbnNbcGx1Z2luLnV1aWRdO1xuICAgIHBsdWdpbi4kZWxlbWVudC5yZW1vdmVBdHRyKCdkYXRhLScgKyBwbHVnaW5OYW1lKVxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEZpcmVzIHdoZW4gdGhlIHBsdWdpbiBoYXMgYmVlbiBkZXN0cm95ZWQuXG4gICAgICAgICAgICogQGV2ZW50IFBsdWdpbiNkZXN0cm95ZWRcbiAgICAgICAgICAgKi9cbiAgICAgICAgICAudHJpZ2dlcignZGVzdHJveWVkLnpmLicgKyBwbHVnaW5OYW1lKTtcblxuICAgIHJldHVybjtcbiAgfSxcblxuICAvKipcbiAgICogQGZ1bmN0aW9uXG4gICAqIENhdXNlcyBvbmUgb3IgbW9yZSBhY3RpdmUgcGx1Z2lucyB0byByZS1pbml0aWFsaXplLCByZXNldHRpbmcgZXZlbnQgbGlzdGVuZXJzLCByZWNhbGN1bGF0aW5nIHBvc2l0aW9ucywgZXRjLlxuICAgKiBAcGFyYW0ge1N0cmluZ30gcGx1Z2lucyAtIG9wdGlvbmFsIHN0cmluZyBvZiBhbiBpbmRpdmlkdWFsIHBsdWdpbiBrZXksIGF0dGFpbmVkIGJ5IGNhbGxpbmcgYCQoZWxlbWVudCkuZGF0YSgncGx1Z2luTmFtZScpYCwgb3Igc3RyaW5nIG9mIGEgcGx1Z2luIGNsYXNzIGkuZS4gYCdkcm9wZG93bidgXG4gICAqIEBkZWZhdWx0IElmIG5vIGFyZ3VtZW50IGlzIHBhc3NlZCwgcmVmbG93IGFsbCBjdXJyZW50bHkgYWN0aXZlIHBsdWdpbnMuXG4gICAqL1xuICBfcmVmbG93OiBmdW5jdGlvbihwbHVnaW5zKXtcbiAgICB2YXIgYWN0dlBsdWdpbnMgPSBPYmplY3Qua2V5cyh0aGlzLl9hY3RpdmVQbHVnaW5zKTtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgaWYoIXBsdWdpbnMpe1xuICAgICAgYWN0dlBsdWdpbnMuZm9yRWFjaChmdW5jdGlvbihwKXtcbiAgICAgICAgX3RoaXMuX2FjdGl2ZVBsdWdpbnNbcF0uX2luaXQoKTtcbiAgICAgIH0pO1xuXG4gICAgfWVsc2UgaWYodHlwZW9mIHBsdWdpbnMgPT09ICdzdHJpbmcnKXtcbiAgICAgIHZhciBuYW1lc3BhY2UgPSBwbHVnaW5zLnNwbGl0KCctJylbMV07XG5cbiAgICAgIGlmKG5hbWVzcGFjZSl7XG5cbiAgICAgICAgdGhpcy5fYWN0aXZlUGx1Z2luc1twbHVnaW5zXS5faW5pdCgpO1xuXG4gICAgICB9ZWxzZXtcbiAgICAgICAgbmFtZXNwYWNlID0gbmV3IFJlZ0V4cChwbHVnaW5zLCAnaScpO1xuXG4gICAgICAgIGFjdHZQbHVnaW5zLmZpbHRlcihmdW5jdGlvbihwKXtcbiAgICAgICAgICByZXR1cm4gbmFtZXNwYWNlLnRlc3QocCk7XG4gICAgICAgIH0pLmZvckVhY2goZnVuY3Rpb24ocCl7XG4gICAgICAgICAgX3RoaXMuX2FjdGl2ZVBsdWdpbnNbcF0uX2luaXQoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gIH0sXG5cbiAgLyoqXG4gICAqIHJldHVybnMgYSByYW5kb20gYmFzZS0zNiB1aWQgd2l0aCBuYW1lc3BhY2luZ1xuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtOdW1iZXJ9IGxlbmd0aCAtIG51bWJlciBvZiByYW5kb20gYmFzZS0zNiBkaWdpdHMgZGVzaXJlZC4gSW5jcmVhc2UgZm9yIG1vcmUgcmFuZG9tIHN0cmluZ3MuXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2UgLSBuYW1lIG9mIHBsdWdpbiB0byBiZSBpbmNvcnBvcmF0ZWQgaW4gdWlkLCBvcHRpb25hbC5cbiAgICogQGRlZmF1bHQge1N0cmluZ30gJycgLSBpZiBubyBwbHVnaW4gbmFtZSBpcyBwcm92aWRlZCwgbm90aGluZyBpcyBhcHBlbmRlZCB0byB0aGUgdWlkLlxuICAgKiBAcmV0dXJucyB7U3RyaW5nfSAtIHVuaXF1ZSBpZFxuICAgKi9cbiAgR2V0WW9EaWdpdHM6IGZ1bmN0aW9uKGxlbmd0aCwgbmFtZXNwYWNlKXtcbiAgICBsZW5ndGggPSBsZW5ndGggfHwgNjtcbiAgICByZXR1cm4gTWF0aC5yb3VuZCgoTWF0aC5wb3coMzYsIGxlbmd0aCArIDEpIC0gTWF0aC5yYW5kb20oKSAqIE1hdGgucG93KDM2LCBsZW5ndGgpKSkudG9TdHJpbmcoMzYpLnNsaWNlKDEpICsgKG5hbWVzcGFjZSA/ICctJyArIG5hbWVzcGFjZSA6ICcnKTtcbiAgfSxcbiAgLyoqXG4gICAqIEluaXRpYWxpemUgcGx1Z2lucyBvbiBhbnkgZWxlbWVudHMgd2l0aGluIGBlbGVtYCAoYW5kIGBlbGVtYCBpdHNlbGYpIHRoYXQgYXJlbid0IGFscmVhZHkgaW5pdGlhbGl6ZWQuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBlbGVtIC0galF1ZXJ5IG9iamVjdCBjb250YWluaW5nIHRoZSBlbGVtZW50IHRvIGNoZWNrIGluc2lkZS4gQWxzbyBjaGVja3MgdGhlIGVsZW1lbnQgaXRzZWxmLCB1bmxlc3MgaXQncyB0aGUgYGRvY3VtZW50YCBvYmplY3QuXG4gICAqIEBwYXJhbSB7U3RyaW5nfEFycmF5fSBwbHVnaW5zIC0gQSBsaXN0IG9mIHBsdWdpbnMgdG8gaW5pdGlhbGl6ZS4gTGVhdmUgdGhpcyBvdXQgdG8gaW5pdGlhbGl6ZSBldmVyeXRoaW5nLlxuICAgKi9cbiAgcmVmbG93OiBmdW5jdGlvbihlbGVtLCBwbHVnaW5zKSB7XG4gICAgLy8gSWYgcGx1Z2lucyBpcyB1bmRlZmluZWQsIGp1c3QgZ3JhYiBldmVyeXRoaW5nXG4gICAgaWYgKHR5cGVvZiBwbHVnaW5zID09PSAndW5kZWZpbmVkJykge1xuICAgICAgcGx1Z2lucyA9IE9iamVjdC5rZXlzKHRoaXMuX3BsdWdpbnMpO1xuICAgIH1cbiAgICAvLyBJZiBwbHVnaW5zIGlzIGEgc3RyaW5nLCBjb252ZXJ0IGl0IHRvIGFuIGFycmF5IHdpdGggb25lIGl0ZW1cbiAgICBlbHNlIGlmICh0eXBlb2YgcGx1Z2lucyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHBsdWdpbnMgPSBbcGx1Z2luc107XG4gICAgfVxuXG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIC8vIEl0ZXJhdGUgdGhyb3VnaCBlYWNoIHBsdWdpblxuICAgICQuZWFjaChwbHVnaW5zLCBmdW5jdGlvbihpLCBuYW1lKSB7XG4gICAgICAvLyBHZXQgdGhlIGN1cnJlbnQgcGx1Z2luXG4gICAgICB2YXIgcGx1Z2luID0gX3RoaXMuX3BsdWdpbnNbbmFtZV07XG5cbiAgICAgIC8vIExvY2FsaXplIHRoZSBzZWFyY2ggdG8gYWxsIGVsZW1lbnRzIGluc2lkZSBlbGVtLCBhcyB3ZWxsIGFzIGVsZW0gaXRzZWxmLCB1bmxlc3MgZWxlbSA9PT0gZG9jdW1lbnRcbiAgICAgIHZhciAkZWxlbSA9ICQoZWxlbSkuZmluZCgnW2RhdGEtJytuYW1lKyddJykuYWRkQmFjaygnKicpO1xuXG4gICAgICAvLyBGb3IgZWFjaCBwbHVnaW4gZm91bmQsIGluaXRpYWxpemUgaXRcbiAgICAgICRlbGVtLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciAkZWwgPSAkKHRoaXMpLFxuICAgICAgICAgICAgb3B0cyA9IHt9O1xuICAgICAgICAvLyBEb24ndCBkb3VibGUtZGlwIG9uIHBsdWdpbnNcbiAgICAgICAgaWYgKCRlbC5hdHRyKCd6Zi1wbHVnaW4nKSkge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcIlRyaWVkIHRvIGluaXRpYWxpemUgXCIrbmFtZStcIiBvbiBhbiBlbGVtZW50IHRoYXQgYWxyZWFkeSBoYXMgYSBGb3VuZGF0aW9uIHBsdWdpbi5cIik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYoJGVsLmF0dHIoJ2RhdGEtb3B0aW9ucycpKXtcbiAgICAgICAgICB2YXIgdGhpbmcgPSAkZWwuYXR0cignZGF0YS1vcHRpb25zJykuc3BsaXQoJzsnKS5mb3JFYWNoKGZ1bmN0aW9uKGUsIGkpe1xuICAgICAgICAgICAgdmFyIG9wdCA9IGUuc3BsaXQoJzonKS5tYXAoZnVuY3Rpb24oZWwpeyByZXR1cm4gZWwudHJpbSgpOyB9KTtcbiAgICAgICAgICAgIGlmKG9wdFswXSkgb3B0c1tvcHRbMF1dID0gcGFyc2VWYWx1ZShvcHRbMV0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgICRlbC5kYXRhKCd6Zi1wbHVnaW4nLCBuZXcgcGx1Z2luKCQodGhpcyksIG9wdHMpKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9LFxuICBnZXRGbk5hbWU6IGZ1bmN0aW9uTmFtZSxcbiAgdHJhbnNpdGlvbmVuZDogZnVuY3Rpb24oJGVsZW0pe1xuICAgIHZhciB0cmFuc2l0aW9ucyA9IHtcbiAgICAgICd0cmFuc2l0aW9uJzogJ3RyYW5zaXRpb25lbmQnLFxuICAgICAgJ1dlYmtpdFRyYW5zaXRpb24nOiAnd2Via2l0VHJhbnNpdGlvbkVuZCcsXG4gICAgICAnTW96VHJhbnNpdGlvbic6ICd0cmFuc2l0aW9uZW5kJyxcbiAgICAgICdPVHJhbnNpdGlvbic6ICdvdHJhbnNpdGlvbmVuZCdcbiAgICB9O1xuICAgIHZhciBlbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXG4gICAgICAgIGVuZDtcblxuICAgIGZvciAodmFyIHQgaW4gdHJhbnNpdGlvbnMpe1xuICAgICAgaWYgKHR5cGVvZiBlbGVtLnN0eWxlW3RdICE9PSAndW5kZWZpbmVkJyl7XG4gICAgICAgIGVuZCA9IHRyYW5zaXRpb25zW3RdO1xuICAgICAgfVxuICAgIH1cbiAgICBpZihlbmQpe1xuICAgICAgcmV0dXJuIGVuZDtcbiAgICB9ZWxzZXtcbiAgICAgIGVuZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgJGVsZW0udHJpZ2dlckhhbmRsZXIoJ3RyYW5zaXRpb25lbmQnLCBbJGVsZW1dKTtcbiAgICAgIH0sIDEpO1xuICAgICAgcmV0dXJuICd0cmFuc2l0aW9uZW5kJztcbiAgICB9XG4gIH1cbn07XG5cblxuRm91bmRhdGlvbi51dGlsID0ge1xuICAvKipcbiAgICogRnVuY3Rpb24gZm9yIGFwcGx5aW5nIGEgZGVib3VuY2UgZWZmZWN0IHRvIGEgZnVuY3Rpb24gY2FsbC5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgLSBGdW5jdGlvbiB0byBiZSBjYWxsZWQgYXQgZW5kIG9mIHRpbWVvdXQuXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBkZWxheSAtIFRpbWUgaW4gbXMgdG8gZGVsYXkgdGhlIGNhbGwgb2YgYGZ1bmNgLlxuICAgKiBAcmV0dXJucyBmdW5jdGlvblxuICAgKi9cbiAgdGhyb3R0bGU6IGZ1bmN0aW9uIChmdW5jLCBkZWxheSkge1xuICAgIHZhciB0aW1lciA9IG51bGw7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLCBhcmdzID0gYXJndW1lbnRzO1xuXG4gICAgICBpZiAodGltZXIgPT09IG51bGwpIHtcbiAgICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgICAgICAgIHRpbWVyID0gbnVsbDtcbiAgICAgICAgfSwgZGVsYXkpO1xuICAgICAgfVxuICAgIH07XG4gIH1cbn07XG5cbi8vIFRPRE86IGNvbnNpZGVyIG5vdCBtYWtpbmcgdGhpcyBhIGpRdWVyeSBmdW5jdGlvblxuLy8gVE9ETzogbmVlZCB3YXkgdG8gcmVmbG93IHZzLiByZS1pbml0aWFsaXplXG4vKipcbiAqIFRoZSBGb3VuZGF0aW9uIGpRdWVyeSBtZXRob2QuXG4gKiBAcGFyYW0ge1N0cmluZ3xBcnJheX0gbWV0aG9kIC0gQW4gYWN0aW9uIHRvIHBlcmZvcm0gb24gdGhlIGN1cnJlbnQgalF1ZXJ5IG9iamVjdC5cbiAqL1xudmFyIGZvdW5kYXRpb24gPSBmdW5jdGlvbihtZXRob2QpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgbWV0aG9kLFxuICAgICAgJG1ldGEgPSAkKCdtZXRhLmZvdW5kYXRpb24tbXEnKSxcbiAgICAgICRub0pTID0gJCgnLm5vLWpzJyk7XG5cbiAgaWYoISRtZXRhLmxlbmd0aCl7XG4gICAgJCgnPG1ldGEgY2xhc3M9XCJmb3VuZGF0aW9uLW1xXCI+JykuYXBwZW5kVG8oZG9jdW1lbnQuaGVhZCk7XG4gIH1cbiAgaWYoJG5vSlMubGVuZ3RoKXtcbiAgICAkbm9KUy5yZW1vdmVDbGFzcygnbm8tanMnKTtcbiAgfVxuXG4gIGlmKHR5cGUgPT09ICd1bmRlZmluZWQnKXsvL25lZWRzIHRvIGluaXRpYWxpemUgdGhlIEZvdW5kYXRpb24gb2JqZWN0LCBvciBhbiBpbmRpdmlkdWFsIHBsdWdpbi5cbiAgICBGb3VuZGF0aW9uLk1lZGlhUXVlcnkuX2luaXQoKTtcbiAgICBGb3VuZGF0aW9uLnJlZmxvdyh0aGlzKTtcbiAgfWVsc2UgaWYodHlwZSA9PT0gJ3N0cmluZycpey8vYW4gaW5kaXZpZHVhbCBtZXRob2QgdG8gaW52b2tlIG9uIGEgcGx1Z2luIG9yIGdyb3VwIG9mIHBsdWdpbnNcbiAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7Ly9jb2xsZWN0IGFsbCB0aGUgYXJndW1lbnRzLCBpZiBuZWNlc3NhcnlcbiAgICB2YXIgcGx1Z0NsYXNzID0gdGhpcy5kYXRhKCd6ZlBsdWdpbicpOy8vZGV0ZXJtaW5lIHRoZSBjbGFzcyBvZiBwbHVnaW5cblxuICAgIGlmKHBsdWdDbGFzcyAhPT0gdW5kZWZpbmVkICYmIHBsdWdDbGFzc1ttZXRob2RdICE9PSB1bmRlZmluZWQpey8vbWFrZSBzdXJlIGJvdGggdGhlIGNsYXNzIGFuZCBtZXRob2QgZXhpc3RcbiAgICAgIGlmKHRoaXMubGVuZ3RoID09PSAxKXsvL2lmIHRoZXJlJ3Mgb25seSBvbmUsIGNhbGwgaXQgZGlyZWN0bHkuXG4gICAgICAgICAgcGx1Z0NsYXNzW21ldGhvZF0uYXBwbHkocGx1Z0NsYXNzLCBhcmdzKTtcbiAgICAgIH1lbHNle1xuICAgICAgICB0aGlzLmVhY2goZnVuY3Rpb24oaSwgZWwpey8vb3RoZXJ3aXNlIGxvb3AgdGhyb3VnaCB0aGUgalF1ZXJ5IGNvbGxlY3Rpb24gYW5kIGludm9rZSB0aGUgbWV0aG9kIG9uIGVhY2hcbiAgICAgICAgICBwbHVnQ2xhc3NbbWV0aG9kXS5hcHBseSgkKGVsKS5kYXRhKCd6ZlBsdWdpbicpLCBhcmdzKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfWVsc2V7Ly9lcnJvciBmb3Igbm8gY2xhc3Mgb3Igbm8gbWV0aG9kXG4gICAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJXZSdyZSBzb3JyeSwgJ1wiICsgbWV0aG9kICsgXCInIGlzIG5vdCBhbiBhdmFpbGFibGUgbWV0aG9kIGZvciBcIiArIChwbHVnQ2xhc3MgPyBmdW5jdGlvbk5hbWUocGx1Z0NsYXNzKSA6ICd0aGlzIGVsZW1lbnQnKSArICcuJyk7XG4gICAgfVxuICB9ZWxzZXsvL2Vycm9yIGZvciBpbnZhbGlkIGFyZ3VtZW50IHR5cGVcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiV2UncmUgc29ycnksICdcIiArIHR5cGUgKyBcIicgaXMgbm90IGEgdmFsaWQgcGFyYW1ldGVyLiBZb3UgbXVzdCB1c2UgYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBtZXRob2QgeW91IHdpc2ggdG8gaW52b2tlLlwiKTtcbiAgfVxuICByZXR1cm4gdGhpcztcbn07XG5cbndpbmRvdy5Gb3VuZGF0aW9uID0gRm91bmRhdGlvbjtcbiQuZm4uZm91bmRhdGlvbiA9IGZvdW5kYXRpb247XG5cbi8vIFBvbHlmaWxsIGZvciByZXF1ZXN0QW5pbWF0aW9uRnJhbWVcbihmdW5jdGlvbigpIHtcbiAgaWYgKCFEYXRlLm5vdyB8fCAhd2luZG93LkRhdGUubm93KVxuICAgIHdpbmRvdy5EYXRlLm5vdyA9IERhdGUubm93ID0gZnVuY3Rpb24oKSB7IHJldHVybiBuZXcgRGF0ZSgpLmdldFRpbWUoKTsgfTtcblxuICB2YXIgdmVuZG9ycyA9IFsnd2Via2l0JywgJ21veiddO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHZlbmRvcnMubGVuZ3RoICYmICF3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lOyArK2kpIHtcbiAgICAgIHZhciB2cCA9IHZlbmRvcnNbaV07XG4gICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gd2luZG93W3ZwKydSZXF1ZXN0QW5pbWF0aW9uRnJhbWUnXTtcbiAgICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSA9ICh3aW5kb3dbdnArJ0NhbmNlbEFuaW1hdGlvbkZyYW1lJ11cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IHdpbmRvd1t2cCsnQ2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lJ10pO1xuICB9XG4gIGlmICgvaVAoYWR8aG9uZXxvZCkuKk9TIDYvLnRlc3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpXG4gICAgfHwgIXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgIXdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSkge1xuICAgIHZhciBsYXN0VGltZSA9IDA7XG4gICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBub3cgPSBEYXRlLm5vdygpO1xuICAgICAgICB2YXIgbmV4dFRpbWUgPSBNYXRoLm1heChsYXN0VGltZSArIDE2LCBub3cpO1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpIHsgY2FsbGJhY2sobGFzdFRpbWUgPSBuZXh0VGltZSk7IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRUaW1lIC0gbm93KTtcbiAgICB9O1xuICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSA9IGNsZWFyVGltZW91dDtcbiAgfVxuICAvKipcbiAgICogUG9seWZpbGwgZm9yIHBlcmZvcm1hbmNlLm5vdywgcmVxdWlyZWQgYnkgckFGXG4gICAqL1xuICBpZighd2luZG93LnBlcmZvcm1hbmNlIHx8ICF3aW5kb3cucGVyZm9ybWFuY2Uubm93KXtcbiAgICB3aW5kb3cucGVyZm9ybWFuY2UgPSB7XG4gICAgICBzdGFydDogRGF0ZS5ub3coKSxcbiAgICAgIG5vdzogZnVuY3Rpb24oKXsgcmV0dXJuIERhdGUubm93KCkgLSB0aGlzLnN0YXJ0OyB9XG4gICAgfTtcbiAgfVxufSkoKTtcbmlmICghRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQpIHtcbiAgRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbihvVGhpcykge1xuICAgIGlmICh0eXBlb2YgdGhpcyAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgLy8gY2xvc2VzdCB0aGluZyBwb3NzaWJsZSB0byB0aGUgRUNNQVNjcmlwdCA1XG4gICAgICAvLyBpbnRlcm5hbCBJc0NhbGxhYmxlIGZ1bmN0aW9uXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGdW5jdGlvbi5wcm90b3R5cGUuYmluZCAtIHdoYXQgaXMgdHJ5aW5nIHRvIGJlIGJvdW5kIGlzIG5vdCBjYWxsYWJsZScpO1xuICAgIH1cblxuICAgIHZhciBhQXJncyAgID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSxcbiAgICAgICAgZlRvQmluZCA9IHRoaXMsXG4gICAgICAgIGZOT1AgICAgPSBmdW5jdGlvbigpIHt9LFxuICAgICAgICBmQm91bmQgID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIGZUb0JpbmQuYXBwbHkodGhpcyBpbnN0YW5jZW9mIGZOT1BcbiAgICAgICAgICAgICAgICAgPyB0aGlzXG4gICAgICAgICAgICAgICAgIDogb1RoaXMsXG4gICAgICAgICAgICAgICAgIGFBcmdzLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKSk7XG4gICAgICAgIH07XG5cbiAgICBpZiAodGhpcy5wcm90b3R5cGUpIHtcbiAgICAgIC8vIG5hdGl2ZSBmdW5jdGlvbnMgZG9uJ3QgaGF2ZSBhIHByb3RvdHlwZVxuICAgICAgZk5PUC5wcm90b3R5cGUgPSB0aGlzLnByb3RvdHlwZTtcbiAgICB9XG4gICAgZkJvdW5kLnByb3RvdHlwZSA9IG5ldyBmTk9QKCk7XG5cbiAgICByZXR1cm4gZkJvdW5kO1xuICB9O1xufVxuLy8gUG9seWZpbGwgdG8gZ2V0IHRoZSBuYW1lIG9mIGEgZnVuY3Rpb24gaW4gSUU5XG5mdW5jdGlvbiBmdW5jdGlvbk5hbWUoZm4pIHtcbiAgaWYgKEZ1bmN0aW9uLnByb3RvdHlwZS5uYW1lID09PSB1bmRlZmluZWQpIHtcbiAgICB2YXIgZnVuY05hbWVSZWdleCA9IC9mdW5jdGlvblxccyhbXihdezEsfSlcXCgvO1xuICAgIHZhciByZXN1bHRzID0gKGZ1bmNOYW1lUmVnZXgpLmV4ZWMoKGZuKS50b1N0cmluZygpKTtcbiAgICByZXR1cm4gKHJlc3VsdHMgJiYgcmVzdWx0cy5sZW5ndGggPiAxKSA/IHJlc3VsdHNbMV0udHJpbSgpIDogXCJcIjtcbiAgfVxuICBlbHNlIGlmIChmbi5wcm90b3R5cGUgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBmbi5jb25zdHJ1Y3Rvci5uYW1lO1xuICB9XG4gIGVsc2Uge1xuICAgIHJldHVybiBmbi5wcm90b3R5cGUuY29uc3RydWN0b3IubmFtZTtcbiAgfVxufVxuZnVuY3Rpb24gcGFyc2VWYWx1ZShzdHIpe1xuICBpZigvdHJ1ZS8udGVzdChzdHIpKSByZXR1cm4gdHJ1ZTtcbiAgZWxzZSBpZigvZmFsc2UvLnRlc3Qoc3RyKSkgcmV0dXJuIGZhbHNlO1xuICBlbHNlIGlmKCFpc05hTihzdHIgKiAxKS8qICYmIHR5cGVvZiAoc3RyICogMSkgPT09IFwibnVtYmVyXCIqLykgcmV0dXJuIHBhcnNlRmxvYXQoc3RyKTtcbiAgcmV0dXJuIHN0cjtcbn1cbi8vIENvbnZlcnQgUGFzY2FsQ2FzZSB0byBrZWJhYi1jYXNlXG4vLyBUaGFuayB5b3U6IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzg5NTU1ODBcbmZ1bmN0aW9uIGh5cGhlbmF0ZShzdHIpIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC8oW2Etel0pKFtBLVpdKS9nLCAnJDEtJDInKS50b0xvd2VyQ2FzZSgpO1xufVxuXG59KGpRdWVyeSk7XG5cbiFmdW5jdGlvbihGb3VuZGF0aW9uLCB3aW5kb3cpe1xuICAvKipcbiAgICogQ29tcGFyZXMgdGhlIGRpbWVuc2lvbnMgb2YgYW4gZWxlbWVudCB0byBhIGNvbnRhaW5lciBhbmQgZGV0ZXJtaW5lcyBjb2xsaXNpb24gZXZlbnRzIHdpdGggY29udGFpbmVyLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtqUXVlcnl9IGVsZW1lbnQgLSBqUXVlcnkgb2JqZWN0IHRvIHRlc3QgZm9yIGNvbGxpc2lvbnMuXG4gICAqIEBwYXJhbSB7alF1ZXJ5fSBwYXJlbnQgLSBqUXVlcnkgb2JqZWN0IHRvIHVzZSBhcyBib3VuZGluZyBjb250YWluZXIuXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gbHJPbmx5IC0gc2V0IHRvIHRydWUgdG8gY2hlY2sgbGVmdCBhbmQgcmlnaHQgdmFsdWVzIG9ubHkuXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gdGJPbmx5IC0gc2V0IHRvIHRydWUgdG8gY2hlY2sgdG9wIGFuZCBib3R0b20gdmFsdWVzIG9ubHkuXG4gICAqIEBkZWZhdWx0IGlmIG5vIHBhcmVudCBvYmplY3QgcGFzc2VkLCBkZXRlY3RzIGNvbGxpc2lvbnMgd2l0aCBgd2luZG93YC5cbiAgICogQHJldHVybnMge0Jvb2xlYW59IC0gdHJ1ZSBpZiBjb2xsaXNpb24gZnJlZSwgZmFsc2UgaWYgYSBjb2xsaXNpb24gaW4gYW55IGRpcmVjdGlvbi5cbiAgICovXG4gIHZhciBJbU5vdFRvdWNoaW5nWW91ID0gZnVuY3Rpb24oZWxlbWVudCwgcGFyZW50LCBsck9ubHksIHRiT25seSl7XG4gICAgdmFyIGVsZURpbXMgPSBHZXREaW1lbnNpb25zKGVsZW1lbnQpLFxuICAgICAgICB0b3AsIGJvdHRvbSwgbGVmdCwgcmlnaHQ7XG5cbiAgICBpZihwYXJlbnQpe1xuICAgICAgdmFyIHBhckRpbXMgPSBHZXREaW1lbnNpb25zKHBhcmVudCk7XG5cbiAgICAgIGJvdHRvbSA9IChlbGVEaW1zLm9mZnNldC50b3AgKyBlbGVEaW1zLmhlaWdodCA8PSBwYXJEaW1zLmhlaWdodCArIHBhckRpbXMub2Zmc2V0LnRvcCk7XG4gICAgICB0b3AgICAgPSAoZWxlRGltcy5vZmZzZXQudG9wID49IHBhckRpbXMub2Zmc2V0LnRvcCk7XG4gICAgICBsZWZ0ICAgPSAoZWxlRGltcy5vZmZzZXQubGVmdCA+PSBwYXJEaW1zLm9mZnNldC5sZWZ0KTtcbiAgICAgIHJpZ2h0ICA9IChlbGVEaW1zLm9mZnNldC5sZWZ0ICsgZWxlRGltcy53aWR0aCA8PSBwYXJEaW1zLndpZHRoKTtcbiAgICB9ZWxzZXtcbiAgICAgIGJvdHRvbSA9IChlbGVEaW1zLm9mZnNldC50b3AgKyBlbGVEaW1zLmhlaWdodCA8PSBlbGVEaW1zLndpbmRvd0RpbXMuaGVpZ2h0ICsgZWxlRGltcy53aW5kb3dEaW1zLm9mZnNldC50b3ApO1xuICAgICAgdG9wICAgID0gKGVsZURpbXMub2Zmc2V0LnRvcCA+PSBlbGVEaW1zLndpbmRvd0RpbXMub2Zmc2V0LnRvcCk7XG4gICAgICBsZWZ0ICAgPSAoZWxlRGltcy5vZmZzZXQubGVmdCA+PSBlbGVEaW1zLndpbmRvd0RpbXMub2Zmc2V0LmxlZnQpO1xuICAgICAgcmlnaHQgID0gKGVsZURpbXMub2Zmc2V0LmxlZnQgKyBlbGVEaW1zLndpZHRoIDw9IGVsZURpbXMud2luZG93RGltcy53aWR0aCk7XG4gICAgfVxuICAgIHZhciBhbGxEaXJzID0gW2JvdHRvbSwgdG9wLCBsZWZ0LCByaWdodF07XG5cbiAgICBpZihsck9ubHkpeyByZXR1cm4gbGVmdCA9PT0gcmlnaHQgPT09IHRydWU7IH1cbiAgICBpZih0Yk9ubHkpeyByZXR1cm4gdG9wID09PSBib3R0b20gPT09IHRydWU7IH1cblxuICAgIHJldHVybiBhbGxEaXJzLmluZGV4T2YoZmFsc2UpID09PSAtMTtcbiAgfTtcblxuICAvKipcbiAgICogVXNlcyBuYXRpdmUgbWV0aG9kcyB0byByZXR1cm4gYW4gb2JqZWN0IG9mIGRpbWVuc2lvbiB2YWx1ZXMuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcGFyYW0ge2pRdWVyeSB8fCBIVE1MfSBlbGVtZW50IC0galF1ZXJ5IG9iamVjdCBvciBET00gZWxlbWVudCBmb3Igd2hpY2ggdG8gZ2V0IHRoZSBkaW1lbnNpb25zLiBDYW4gYmUgYW55IGVsZW1lbnQgb3RoZXIgdGhhdCBkb2N1bWVudCBvciB3aW5kb3cuXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IC0gbmVzdGVkIG9iamVjdCBvZiBpbnRlZ2VyIHBpeGVsIHZhbHVlc1xuICAgKiBUT0RPIC0gaWYgZWxlbWVudCBpcyB3aW5kb3csIHJldHVybiBvbmx5IHRob3NlIHZhbHVlcy5cbiAgICovXG4gIHZhciBHZXREaW1lbnNpb25zID0gZnVuY3Rpb24oZWxlbSwgdGVzdCl7XG4gICAgZWxlbSA9IGVsZW0ubGVuZ3RoID8gZWxlbVswXSA6IGVsZW07XG5cbiAgICBpZihlbGVtID09PSB3aW5kb3cgfHwgZWxlbSA9PT0gZG9jdW1lbnQpeyB0aHJvdyBuZXcgRXJyb3IoXCJJJ20gc29ycnksIERhdmUuIEknbSBhZnJhaWQgSSBjYW4ndCBkbyB0aGF0LlwiKTsgfVxuXG4gICAgdmFyIHJlY3QgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgICBwYXJSZWN0ID0gZWxlbS5wYXJlbnROb2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgICB3aW5SZWN0ID0gZG9jdW1lbnQuYm9keS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgICAgd2luWSA9IHdpbmRvdy5wYWdlWU9mZnNldCxcbiAgICAgICAgd2luWCA9IHdpbmRvdy5wYWdlWE9mZnNldDtcblxuICAgIHJldHVybiB7XG4gICAgICB3aWR0aDogcmVjdC53aWR0aCxcbiAgICAgIGhlaWdodDogcmVjdC5oZWlnaHQsXG4gICAgICBvZmZzZXQ6IHtcbiAgICAgICAgdG9wOiByZWN0LnRvcCArIHdpblksXG4gICAgICAgIGxlZnQ6IHJlY3QubGVmdCArIHdpblhcbiAgICAgIH0sXG4gICAgICBwYXJlbnREaW1zOiB7XG4gICAgICAgIHdpZHRoOiBwYXJSZWN0LndpZHRoLFxuICAgICAgICBoZWlnaHQ6IHBhclJlY3QuaGVpZ2h0LFxuICAgICAgICBvZmZzZXQ6IHtcbiAgICAgICAgICB0b3A6IHBhclJlY3QudG9wICsgd2luWSxcbiAgICAgICAgICBsZWZ0OiBwYXJSZWN0LmxlZnQgKyB3aW5YXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB3aW5kb3dEaW1zOiB7XG4gICAgICAgIHdpZHRoOiB3aW5SZWN0LndpZHRoLFxuICAgICAgICBoZWlnaHQ6IHdpblJlY3QuaGVpZ2h0LFxuICAgICAgICBvZmZzZXQ6IHtcbiAgICAgICAgICB0b3A6IHdpblksXG4gICAgICAgICAgbGVmdDogd2luWFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfTtcbiAgLyoqXG4gICAqIFJldHVybnMgYW4gb2JqZWN0IG9mIHRvcCBhbmQgbGVmdCBpbnRlZ2VyIHBpeGVsIHZhbHVlcyBmb3IgZHluYW1pY2FsbHkgcmVuZGVyZWQgZWxlbWVudHMsXG4gICAqIHN1Y2ggYXM6IFRvb2x0aXAsIFJldmVhbCwgYW5kIERyb3Bkb3duXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcGFyYW0ge2pRdWVyeX0gZWxlbWVudCAtIGpRdWVyeSBvYmplY3QgZm9yIHRoZSBlbGVtZW50IGJlaW5nIHBvc2l0aW9uZWQuXG4gICAqIEBwYXJhbSB7alF1ZXJ5fSBhbmNob3IgLSBqUXVlcnkgb2JqZWN0IGZvciB0aGUgZWxlbWVudCdzIGFuY2hvciBwb2ludC5cbiAgICogQHBhcmFtIHtTdHJpbmd9IHBvc2l0aW9uIC0gYSBzdHJpbmcgcmVsYXRpbmcgdG8gdGhlIGRlc2lyZWQgcG9zaXRpb24gb2YgdGhlIGVsZW1lbnQsIHJlbGF0aXZlIHRvIGl0J3MgYW5jaG9yXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB2T2Zmc2V0IC0gaW50ZWdlciBwaXhlbCB2YWx1ZSBvZiBkZXNpcmVkIHZlcnRpY2FsIHNlcGFyYXRpb24gYmV0d2VlbiBhbmNob3IgYW5kIGVsZW1lbnQuXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBoT2Zmc2V0IC0gaW50ZWdlciBwaXhlbCB2YWx1ZSBvZiBkZXNpcmVkIGhvcml6b250YWwgc2VwYXJhdGlvbiBiZXR3ZWVuIGFuY2hvciBhbmQgZWxlbWVudC5cbiAgICogQHBhcmFtIHtCb29sZWFufSBpc092ZXJmbG93IC0gaWYgYSBjb2xsaXNpb24gZXZlbnQgaXMgZGV0ZWN0ZWQsIHNldHMgdG8gdHJ1ZSB0byBkZWZhdWx0IHRoZSBlbGVtZW50IHRvIGZ1bGwgd2lkdGggLSBhbnkgZGVzaXJlZCBvZmZzZXQuXG4gICAqIFRPRE8gYWx0ZXIvcmV3cml0ZSB0byB3b3JrIHdpdGggYGVtYCB2YWx1ZXMgYXMgd2VsbC9pbnN0ZWFkIG9mIHBpeGVsc1xuICAgKi9cbiAgdmFyIEdldE9mZnNldHMgPSBmdW5jdGlvbihlbGVtZW50LCBhbmNob3IsIHBvc2l0aW9uLCB2T2Zmc2V0LCBoT2Zmc2V0LCBpc092ZXJmbG93KXtcbiAgICB2YXIgJGVsZURpbXMgPSBHZXREaW1lbnNpb25zKGVsZW1lbnQpLFxuICAgIC8vIHZhciAkZWxlRGltcyA9IEdldERpbWVuc2lvbnMoZWxlbWVudCksXG4gICAgICAgICRhbmNob3JEaW1zID0gYW5jaG9yID8gR2V0RGltZW5zaW9ucyhhbmNob3IpIDogbnVsbDtcbiAgICAgICAgLy8gJGFuY2hvckRpbXMgPSBhbmNob3IgPyBHZXREaW1lbnNpb25zKGFuY2hvcikgOiBudWxsO1xuICAgIHN3aXRjaChwb3NpdGlvbil7XG4gICAgICBjYXNlICd0b3AnOlxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGxlZnQ6ICRhbmNob3JEaW1zLm9mZnNldC5sZWZ0LFxuICAgICAgICAgIHRvcDogJGFuY2hvckRpbXMub2Zmc2V0LnRvcCAtICgkZWxlRGltcy5oZWlnaHQgKyB2T2Zmc2V0KVxuICAgICAgICB9O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGxlZnQ6ICRhbmNob3JEaW1zLm9mZnNldC5sZWZ0IC0gKCRlbGVEaW1zLndpZHRoICsgaE9mZnNldCksXG4gICAgICAgICAgdG9wOiAkYW5jaG9yRGltcy5vZmZzZXQudG9wXG4gICAgICAgIH07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncmlnaHQnOlxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGxlZnQ6ICRhbmNob3JEaW1zLm9mZnNldC5sZWZ0ICsgJGFuY2hvckRpbXMud2lkdGggKyBoT2Zmc2V0LFxuICAgICAgICAgIHRvcDogJGFuY2hvckRpbXMub2Zmc2V0LnRvcFxuICAgICAgICB9O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2NlbnRlciB0b3AnOlxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGxlZnQ6ICgkYW5jaG9yRGltcy5vZmZzZXQubGVmdCArICgkYW5jaG9yRGltcy53aWR0aCAvIDIpKSAtICgkZWxlRGltcy53aWR0aCAvIDIpLFxuICAgICAgICAgIHRvcDogJGFuY2hvckRpbXMub2Zmc2V0LnRvcCAtICgkZWxlRGltcy5oZWlnaHQgKyB2T2Zmc2V0KVxuICAgICAgICB9O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2NlbnRlciBib3R0b20nOlxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGxlZnQ6IGlzT3ZlcmZsb3cgPyBoT2Zmc2V0IDogKCgkYW5jaG9yRGltcy5vZmZzZXQubGVmdCArICgkYW5jaG9yRGltcy53aWR0aCAvIDIpKSAtICgkZWxlRGltcy53aWR0aCAvIDIpKSxcbiAgICAgICAgICB0b3A6ICRhbmNob3JEaW1zLm9mZnNldC50b3AgKyAkYW5jaG9yRGltcy5oZWlnaHQgKyB2T2Zmc2V0XG4gICAgICAgIH07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnY2VudGVyIGxlZnQnOlxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGxlZnQ6ICRhbmNob3JEaW1zLm9mZnNldC5sZWZ0IC0gKCRlbGVEaW1zLndpZHRoICsgaE9mZnNldCksXG4gICAgICAgICAgdG9wOiAoJGFuY2hvckRpbXMub2Zmc2V0LnRvcCArICgkYW5jaG9yRGltcy5oZWlnaHQgLyAyKSkgLSAoJGVsZURpbXMuaGVpZ2h0IC8gMilcbiAgICAgICAgfTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdjZW50ZXIgcmlnaHQnOlxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGxlZnQ6ICRhbmNob3JEaW1zLm9mZnNldC5sZWZ0ICsgJGFuY2hvckRpbXMud2lkdGggKyBoT2Zmc2V0ICsgMSxcbiAgICAgICAgICB0b3A6ICgkYW5jaG9yRGltcy5vZmZzZXQudG9wICsgKCRhbmNob3JEaW1zLmhlaWdodCAvIDIpKSAtICgkZWxlRGltcy5oZWlnaHQgLyAyKVxuICAgICAgICB9O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2NlbnRlcic6XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbGVmdDogKCRlbGVEaW1zLndpbmRvd0RpbXMub2Zmc2V0LmxlZnQgKyAoJGVsZURpbXMud2luZG93RGltcy53aWR0aCAvIDIpKSAtICgkZWxlRGltcy53aWR0aCAvIDIpLFxuICAgICAgICAgIHRvcDogKCRlbGVEaW1zLndpbmRvd0RpbXMub2Zmc2V0LnRvcCArICgkZWxlRGltcy53aW5kb3dEaW1zLmhlaWdodCAvIDIpKSAtICgkZWxlRGltcy5oZWlnaHQgLyAyKVxuICAgICAgICB9O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3JldmVhbCc6XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbGVmdDogKCRlbGVEaW1zLndpbmRvd0RpbXMud2lkdGggLSAkZWxlRGltcy53aWR0aCkgLyAyLFxuICAgICAgICAgIHRvcDogJGVsZURpbXMud2luZG93RGltcy5vZmZzZXQudG9wICsgdk9mZnNldFxuICAgICAgICB9O1xuICAgICAgY2FzZSAncmV2ZWFsIGZ1bGwnOlxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGxlZnQ6ICRlbGVEaW1zLndpbmRvd0RpbXMub2Zmc2V0LmxlZnQsXG4gICAgICAgICAgdG9wOiAkZWxlRGltcy53aW5kb3dEaW1zLm9mZnNldC50b3BcbiAgICAgICAgfTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGxlZnQ6ICRhbmNob3JEaW1zLm9mZnNldC5sZWZ0LFxuICAgICAgICAgIHRvcDogJGFuY2hvckRpbXMub2Zmc2V0LnRvcCArICRhbmNob3JEaW1zLmhlaWdodCArIHZPZmZzZXRcbiAgICAgICAgfTtcbiAgICB9XG4gIH07XG4gIEZvdW5kYXRpb24uQm94ID0ge1xuICAgIEltTm90VG91Y2hpbmdZb3U6IEltTm90VG91Y2hpbmdZb3UsXG4gICAgR2V0RGltZW5zaW9uczogR2V0RGltZW5zaW9ucyxcbiAgICBHZXRPZmZzZXRzOiBHZXRPZmZzZXRzXG4gIH07XG59KHdpbmRvdy5Gb3VuZGF0aW9uLCB3aW5kb3cpO1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcbiAqIFRoaXMgdXRpbCB3YXMgY3JlYXRlZCBieSBNYXJpdXMgT2xiZXJ0eiAqXG4gKiBQbGVhc2UgdGhhbmsgTWFyaXVzIG9uIEdpdEh1YiAvb3dsYmVydHogKlxuICogb3IgdGhlIHdlYiBodHRwOi8vd3d3Lm1hcml1c29sYmVydHouZGUvICpcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuIWZ1bmN0aW9uKCQsIEZvdW5kYXRpb24pe1xuICAndXNlIHN0cmljdCc7XG4gIEZvdW5kYXRpb24uS2V5Ym9hcmQgPSB7fTtcblxuICB2YXIga2V5Q29kZXMgPSB7XG4gICAgOTogJ1RBQicsXG4gICAgMTM6ICdFTlRFUicsXG4gICAgMjc6ICdFU0NBUEUnLFxuICAgIDMyOiAnU1BBQ0UnLFxuICAgIDM3OiAnQVJST1dfTEVGVCcsXG4gICAgMzg6ICdBUlJPV19VUCcsXG4gICAgMzk6ICdBUlJPV19SSUdIVCcsXG4gICAgNDA6ICdBUlJPV19ET1dOJ1xuICB9O1xuXG4gIC8vIGNvbnN0YW50cyBmb3IgZWFzaWVyIGNvbXBhcmluZyBDYW4gYmUgdXNlZCBsaWtlIEZvdW5kYXRpb24ucGFyc2VLZXkoZXZlbnQpID09PSBGb3VuZGF0aW9uLmtleXMuU1BBQ0VcbiAgdmFyIGtleXMgPSAoZnVuY3Rpb24oa2NzKSB7XG4gICAgdmFyIGsgPSB7fTtcbiAgICBmb3IgKHZhciBrYyBpbiBrY3MpIGtba2NzW2tjXV0gPSBrY3Nba2NdO1xuICAgIHJldHVybiBrO1xuICB9KShrZXlDb2Rlcyk7XG5cbiAgRm91bmRhdGlvbi5LZXlib2FyZC5rZXlzID0ga2V5cztcblxuICAvKipcbiAgICogUGFyc2VzIHRoZSAoa2V5Ym9hcmQpIGV2ZW50IGFuZCByZXR1cm5zIGEgU3RyaW5nIHRoYXQgcmVwcmVzZW50cyBpdHMga2V5XG4gICAqIENhbiBiZSB1c2VkIGxpa2UgRm91bmRhdGlvbi5wYXJzZUtleShldmVudCkgPT09IEZvdW5kYXRpb24ua2V5cy5TUEFDRVxuICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudCAtIHRoZSBldmVudCBnZW5lcmF0ZWQgYnkgdGhlIGV2ZW50IGhhbmRsZXJcbiAgICogQHJldHVybiBTdHJpbmcga2V5IC0gU3RyaW5nIHRoYXQgcmVwcmVzZW50cyB0aGUga2V5IHByZXNzZWRcbiAgICovXG4gIHZhciBwYXJzZUtleSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGtleSA9IGtleUNvZGVzW2V2ZW50LndoaWNoIHx8IGV2ZW50LmtleUNvZGVdIHx8IFN0cmluZy5mcm9tQ2hhckNvZGUoZXZlbnQud2hpY2gpLnRvVXBwZXJDYXNlKCk7XG4gICAgaWYgKGV2ZW50LnNoaWZ0S2V5KSBrZXkgPSAnU0hJRlRfJyArIGtleTtcbiAgICBpZiAoZXZlbnQuY3RybEtleSkga2V5ID0gJ0NUUkxfJyArIGtleTtcbiAgICBpZiAoZXZlbnQuYWx0S2V5KSBrZXkgPSAnQUxUXycgKyBrZXk7XG4gICAgcmV0dXJuIGtleTtcbiAgfTtcbiAgRm91bmRhdGlvbi5LZXlib2FyZC5wYXJzZUtleSA9IHBhcnNlS2V5O1xuXG5cbiAgLy8gcGxhaW4gY29tbWFuZHMgcGVyIGNvbXBvbmVudCBnbyBoZXJlLCBsdHIgYW5kIHJ0bCBhcmUgbWVyZ2VkIGJhc2VkIG9uIG9yaWVudGF0aW9uXG4gIHZhciBjb21tYW5kcyA9IHt9O1xuXG4gIC8qKlxuICAgKiBIYW5kbGVzIHRoZSBnaXZlbiAoa2V5Ym9hcmQpIGV2ZW50XG4gICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IC0gdGhlIGV2ZW50IGdlbmVyYXRlZCBieSB0aGUgZXZlbnQgaGFuZGxlclxuICAgKiBAcGFyYW0ge09iamVjdH0gY29tcG9uZW50IC0gRm91bmRhdGlvbiBjb21wb25lbnQsIGUuZy4gU2xpZGVyIG9yIFJldmVhbFxuICAgKiBAcGFyYW0ge09iamVjdHN9IGZ1bmN0aW9ucyAtIGNvbGxlY3Rpb24gb2YgZnVuY3Rpb25zIHRoYXQgYXJlIHRvIGJlIGV4ZWN1dGVkXG4gICAqL1xuICB2YXIgaGFuZGxlS2V5ID0gZnVuY3Rpb24oZXZlbnQsIGNvbXBvbmVudCwgZnVuY3Rpb25zKSB7XG4gICAgdmFyIGNvbW1hbmRMaXN0ID0gY29tbWFuZHNbRm91bmRhdGlvbi5nZXRGbk5hbWUoY29tcG9uZW50KV0sXG4gICAgICBrZXlDb2RlID0gcGFyc2VLZXkoZXZlbnQpLFxuICAgICAgY21kcyxcbiAgICAgIGNvbW1hbmQsXG4gICAgICBmbjtcbiAgICBpZiAoIWNvbW1hbmRMaXN0KSByZXR1cm4gY29uc29sZS53YXJuKCdDb21wb25lbnQgbm90IGRlZmluZWQhJyk7XG5cbiAgICBpZiAodHlwZW9mIGNvbW1hbmRMaXN0Lmx0ciA9PT0gJ3VuZGVmaW5lZCcpIHsgLy8gdGhpcyBjb21wb25lbnQgZG9lcyBub3QgZGlmZmVyZW50aWF0ZSBiZXR3ZWVuIGx0ciBhbmQgcnRsXG4gICAgICAgIGNtZHMgPSBjb21tYW5kTGlzdDsgLy8gdXNlIHBsYWluIGxpc3RcbiAgICB9IGVsc2UgeyAvLyBtZXJnZSBsdHIgYW5kIHJ0bDogaWYgZG9jdW1lbnQgaXMgcnRsLCBydGwgb3ZlcndyaXRlcyBsdHIgYW5kIHZpY2UgdmVyc2FcbiAgICAgICAgaWYgKEZvdW5kYXRpb24ucnRsKCkpIGNtZHMgPSAkLmV4dGVuZCh7fSwgY29tbWFuZExpc3QubHRyLCBjb21tYW5kTGlzdC5ydGwpO1xuXG4gICAgICAgIGVsc2UgY21kcyA9ICQuZXh0ZW5kKHt9LCBjb21tYW5kTGlzdC5ydGwsIGNvbW1hbmRMaXN0Lmx0cik7XG4gICAgfVxuICAgIGNvbW1hbmQgPSBjbWRzW2tleUNvZGVdO1xuXG5cbiAgICBmbiA9IGZ1bmN0aW9uc1tjb21tYW5kXTtcbiAgICBpZiAoZm4gJiYgdHlwZW9mIGZuID09PSAnZnVuY3Rpb24nKSB7IC8vIGV4ZWN1dGUgZnVuY3Rpb24gd2l0aCBjb250ZXh0IG9mIHRoZSBjb21wb25lbnQgaWYgZXhpc3RzXG4gICAgICAgIGZuLmFwcGx5KGNvbXBvbmVudCk7XG4gICAgICAgIGlmIChmdW5jdGlvbnMuaGFuZGxlZCB8fCB0eXBlb2YgZnVuY3Rpb25zLmhhbmRsZWQgPT09ICdmdW5jdGlvbicpIHsgLy8gZXhlY3V0ZSBmdW5jdGlvbiB3aGVuIGV2ZW50IHdhcyBoYW5kbGVkXG4gICAgICAgICAgICBmdW5jdGlvbnMuaGFuZGxlZC5hcHBseShjb21wb25lbnQpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGZ1bmN0aW9ucy51bmhhbmRsZWQgfHwgdHlwZW9mIGZ1bmN0aW9ucy51bmhhbmRsZWQgPT09ICdmdW5jdGlvbicpIHsgLy8gZXhlY3V0ZSBmdW5jdGlvbiB3aGVuIGV2ZW50IHdhcyBub3QgaGFuZGxlZFxuICAgICAgICAgICAgZnVuY3Rpb25zLnVuaGFuZGxlZC5hcHBseShjb21wb25lbnQpO1xuICAgICAgICB9XG4gICAgfVxuICB9O1xuICBGb3VuZGF0aW9uLktleWJvYXJkLmhhbmRsZUtleSA9IGhhbmRsZUtleTtcblxuICAvKipcbiAgICogRmluZHMgYWxsIGZvY3VzYWJsZSBlbGVtZW50cyB3aXRoaW4gdGhlIGdpdmVuIGAkZWxlbWVudGBcbiAgICogQHBhcmFtIHtqUXVlcnl9ICRlbGVtZW50IC0galF1ZXJ5IG9iamVjdCB0byBzZWFyY2ggd2l0aGluXG4gICAqIEByZXR1cm4ge2pRdWVyeX0gJGZvY3VzYWJsZSAtIGFsbCBmb2N1c2FibGUgZWxlbWVudHMgd2l0aGluIGAkZWxlbWVudGBcbiAgICovXG4gIHZhciBmaW5kRm9jdXNhYmxlID0gZnVuY3Rpb24oJGVsZW1lbnQpIHtcbiAgICByZXR1cm4gJGVsZW1lbnQuZmluZCgnYVtocmVmXSwgYXJlYVtocmVmXSwgaW5wdXQ6bm90KFtkaXNhYmxlZF0pLCBzZWxlY3Q6bm90KFtkaXNhYmxlZF0pLCB0ZXh0YXJlYTpub3QoW2Rpc2FibGVkXSksIGJ1dHRvbjpub3QoW2Rpc2FibGVkXSksIGlmcmFtZSwgb2JqZWN0LCBlbWJlZCwgKlt0YWJpbmRleF0sICpbY29udGVudGVkaXRhYmxlXScpLmZpbHRlcihmdW5jdGlvbigpIHtcbiAgICAgIGlmICghJCh0aGlzKS5pcygnOnZpc2libGUnKSB8fCAkKHRoaXMpLmF0dHIoJ3RhYmluZGV4JykgPCAwKSB7IHJldHVybiBmYWxzZTsgfSAvL29ubHkgaGF2ZSB2aXNpYmxlIGVsZW1lbnRzIGFuZCB0aG9zZSB0aGF0IGhhdmUgYSB0YWJpbmRleCBncmVhdGVyIG9yIGVxdWFsIDBcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0pO1xuICB9O1xuICBGb3VuZGF0aW9uLktleWJvYXJkLmZpbmRGb2N1c2FibGUgPSBmaW5kRm9jdXNhYmxlO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBjb21wb25lbnQgbmFtZSBuYW1lXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjb21wb25lbnQgLSBGb3VuZGF0aW9uIGNvbXBvbmVudCwgZS5nLiBTbGlkZXIgb3IgUmV2ZWFsXG4gICAqIEByZXR1cm4gU3RyaW5nIGNvbXBvbmVudE5hbWVcbiAgICovXG5cbiAgdmFyIHJlZ2lzdGVyID0gZnVuY3Rpb24oY29tcG9uZW50TmFtZSwgY21kcykge1xuICAgIGNvbW1hbmRzW2NvbXBvbmVudE5hbWVdID0gY21kcztcbiAgfTtcbiAgRm91bmRhdGlvbi5LZXlib2FyZC5yZWdpc3RlciA9IHJlZ2lzdGVyO1xufShqUXVlcnksIHdpbmRvdy5Gb3VuZGF0aW9uKTtcblxuIWZ1bmN0aW9uKCQsIEZvdW5kYXRpb24pIHtcblxuLy8gRGVmYXVsdCBzZXQgb2YgbWVkaWEgcXVlcmllc1xudmFyIGRlZmF1bHRRdWVyaWVzID0ge1xuICAnZGVmYXVsdCcgOiAnb25seSBzY3JlZW4nLFxuICBsYW5kc2NhcGUgOiAnb25seSBzY3JlZW4gYW5kIChvcmllbnRhdGlvbjogbGFuZHNjYXBlKScsXG4gIHBvcnRyYWl0IDogJ29ubHkgc2NyZWVuIGFuZCAob3JpZW50YXRpb246IHBvcnRyYWl0KScsXG4gIHJldGluYSA6ICdvbmx5IHNjcmVlbiBhbmQgKC13ZWJraXQtbWluLWRldmljZS1waXhlbC1yYXRpbzogMiksJyArXG4gICAgJ29ubHkgc2NyZWVuIGFuZCAobWluLS1tb3otZGV2aWNlLXBpeGVsLXJhdGlvOiAyKSwnICtcbiAgICAnb25seSBzY3JlZW4gYW5kICgtby1taW4tZGV2aWNlLXBpeGVsLXJhdGlvOiAyLzEpLCcgK1xuICAgICdvbmx5IHNjcmVlbiBhbmQgKG1pbi1kZXZpY2UtcGl4ZWwtcmF0aW86IDIpLCcgK1xuICAgICdvbmx5IHNjcmVlbiBhbmQgKG1pbi1yZXNvbHV0aW9uOiAxOTJkcGkpLCcgK1xuICAgICdvbmx5IHNjcmVlbiBhbmQgKG1pbi1yZXNvbHV0aW9uOiAyZHBweCknXG59O1xuXG52YXIgTWVkaWFRdWVyeSA9IHtcbiAgcXVlcmllczogW10sXG4gIGN1cnJlbnQ6ICcnLFxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgdGhlIHNjcmVlbiBpcyBhdCBsZWFzdCBhcyB3aWRlIGFzIGEgYnJlYWtwb2ludC5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzaXplIC0gTmFtZSBvZiB0aGUgYnJlYWtwb2ludCB0byBjaGVjay5cbiAgICogQHJldHVybnMge0Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgYnJlYWtwb2ludCBtYXRjaGVzLCBgZmFsc2VgIGlmIGl0J3Mgc21hbGxlci5cbiAgICovXG4gIGF0TGVhc3Q6IGZ1bmN0aW9uKHNpemUpIHtcbiAgICB2YXIgcXVlcnkgPSB0aGlzLmdldChzaXplKTtcblxuICAgIGlmIChxdWVyeSkge1xuICAgICAgcmV0dXJuIHdpbmRvdy5tYXRjaE1lZGlhKHF1ZXJ5KS5tYXRjaGVzO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcblxuICAvKipcbiAgICogR2V0cyB0aGUgbWVkaWEgcXVlcnkgb2YgYSBicmVha3BvaW50LlxuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtTdHJpbmd9IHNpemUgLSBOYW1lIG9mIHRoZSBicmVha3BvaW50IHRvIGdldC5cbiAgICogQHJldHVybnMge1N0cmluZ3xudWxsfSAtIFRoZSBtZWRpYSBxdWVyeSBvZiB0aGUgYnJlYWtwb2ludCwgb3IgYG51bGxgIGlmIHRoZSBicmVha3BvaW50IGRvZXNuJ3QgZXhpc3QuXG4gICAqL1xuICBnZXQ6IGZ1bmN0aW9uKHNpemUpIHtcbiAgICBmb3IgKHZhciBpIGluIHRoaXMucXVlcmllcykge1xuICAgICAgdmFyIHF1ZXJ5ID0gdGhpcy5xdWVyaWVzW2ldO1xuICAgICAgaWYgKHNpemUgPT09IHF1ZXJ5Lm5hbWUpIHJldHVybiBxdWVyeS52YWx1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfSxcblxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgdGhlIG1lZGlhIHF1ZXJ5IGhlbHBlciwgYnkgZXh0cmFjdGluZyB0aGUgYnJlYWtwb2ludCBsaXN0IGZyb20gdGhlIENTUyBhbmQgYWN0aXZhdGluZyB0aGUgYnJlYWtwb2ludCB3YXRjaGVyLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9pbml0OiBmdW5jdGlvbigpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIGV4dHJhY3RlZFN0eWxlcyA9ICQoJy5mb3VuZGF0aW9uLW1xJykuY3NzKCdmb250LWZhbWlseScpO1xuICAgIHZhciBuYW1lZFF1ZXJpZXM7XG5cbiAgICBuYW1lZFF1ZXJpZXMgPSBwYXJzZVN0eWxlVG9PYmplY3QoZXh0cmFjdGVkU3R5bGVzKTtcblxuICAgIGZvciAodmFyIGtleSBpbiBuYW1lZFF1ZXJpZXMpIHtcbiAgICAgIHNlbGYucXVlcmllcy5wdXNoKHtcbiAgICAgICAgbmFtZToga2V5LFxuICAgICAgICB2YWx1ZTogJ29ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOiAnICsgbmFtZWRRdWVyaWVzW2tleV0gKyAnKSdcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHRoaXMuY3VycmVudCA9IHRoaXMuX2dldEN1cnJlbnRTaXplKCk7XG5cbiAgICB0aGlzLl93YXRjaGVyKCk7XG5cbiAgICAvLyBFeHRlbmQgZGVmYXVsdCBxdWVyaWVzXG4gICAgLy8gbmFtZWRRdWVyaWVzID0gJC5leHRlbmQoZGVmYXVsdFF1ZXJpZXMsIG5hbWVkUXVlcmllcyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGN1cnJlbnQgYnJlYWtwb2ludCBuYW1lIGJ5IHRlc3RpbmcgZXZlcnkgYnJlYWtwb2ludCBhbmQgcmV0dXJuaW5nIHRoZSBsYXN0IG9uZSB0byBtYXRjaCAodGhlIGJpZ2dlc3Qgb25lKS5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwcml2YXRlXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9IE5hbWUgb2YgdGhlIGN1cnJlbnQgYnJlYWtwb2ludC5cbiAgICovXG4gIF9nZXRDdXJyZW50U2l6ZTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIG1hdGNoZWQ7XG5cbiAgICBmb3IgKHZhciBpIGluIHRoaXMucXVlcmllcykge1xuICAgICAgdmFyIHF1ZXJ5ID0gdGhpcy5xdWVyaWVzW2ldO1xuXG4gICAgICBpZiAod2luZG93Lm1hdGNoTWVkaWEocXVlcnkudmFsdWUpLm1hdGNoZXMpIHtcbiAgICAgICAgbWF0Y2hlZCA9IHF1ZXJ5O1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmKHR5cGVvZiBtYXRjaGVkID09PSAnb2JqZWN0Jykge1xuICAgICAgcmV0dXJuIG1hdGNoZWQubmFtZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG1hdGNoZWQ7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBBY3RpdmF0ZXMgdGhlIGJyZWFrcG9pbnQgd2F0Y2hlciwgd2hpY2ggZmlyZXMgYW4gZXZlbnQgb24gdGhlIHdpbmRvdyB3aGVuZXZlciB0aGUgYnJlYWtwb2ludCBjaGFuZ2VzLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF93YXRjaGVyOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgJCh3aW5kb3cpLm9uKCdyZXNpemUuemYubWVkaWFxdWVyeScsIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG5ld1NpemUgPSBfdGhpcy5fZ2V0Q3VycmVudFNpemUoKTtcblxuICAgICAgaWYgKG5ld1NpemUgIT09IF90aGlzLmN1cnJlbnQpIHtcbiAgICAgICAgLy8gQnJvYWRjYXN0IHRoZSBtZWRpYSBxdWVyeSBjaGFuZ2Ugb24gdGhlIHdpbmRvd1xuICAgICAgICAkKHdpbmRvdykudHJpZ2dlcignY2hhbmdlZC56Zi5tZWRpYXF1ZXJ5JywgW25ld1NpemUsIF90aGlzLmN1cnJlbnRdKTtcblxuICAgICAgICAvLyBDaGFuZ2UgdGhlIGN1cnJlbnQgbWVkaWEgcXVlcnlcbiAgICAgICAgX3RoaXMuY3VycmVudCA9IG5ld1NpemU7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn07XG5cbkZvdW5kYXRpb24uTWVkaWFRdWVyeSA9IE1lZGlhUXVlcnk7XG5cbi8vIG1hdGNoTWVkaWEoKSBwb2x5ZmlsbCAtIFRlc3QgYSBDU1MgbWVkaWEgdHlwZS9xdWVyeSBpbiBKUy5cbi8vIEF1dGhvcnMgJiBjb3B5cmlnaHQgKGMpIDIwMTI6IFNjb3R0IEplaGwsIFBhdWwgSXJpc2gsIE5pY2hvbGFzIFpha2FzLCBEYXZpZCBLbmlnaHQuIER1YWwgTUlUL0JTRCBsaWNlbnNlXG53aW5kb3cubWF0Y2hNZWRpYSB8fCAod2luZG93Lm1hdGNoTWVkaWEgPSBmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIEZvciBicm93c2VycyB0aGF0IHN1cHBvcnQgbWF0Y2hNZWRpdW0gYXBpIHN1Y2ggYXMgSUUgOSBhbmQgd2Via2l0XG4gIHZhciBzdHlsZU1lZGlhID0gKHdpbmRvdy5zdHlsZU1lZGlhIHx8IHdpbmRvdy5tZWRpYSk7XG5cbiAgLy8gRm9yIHRob3NlIHRoYXQgZG9uJ3Qgc3VwcG9ydCBtYXRjaE1lZGl1bVxuICBpZiAoIXN0eWxlTWVkaWEpIHtcbiAgICB2YXIgc3R5bGUgICA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyksXG4gICAgc2NyaXB0ICAgICAgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0JylbMF0sXG4gICAgaW5mbyAgICAgICAgPSBudWxsO1xuXG4gICAgc3R5bGUudHlwZSAgPSAndGV4dC9jc3MnO1xuICAgIHN0eWxlLmlkICAgID0gJ21hdGNobWVkaWFqcy10ZXN0JztcblxuICAgIHNjcmlwdC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShzdHlsZSwgc2NyaXB0KTtcblxuICAgIC8vICdzdHlsZS5jdXJyZW50U3R5bGUnIGlzIHVzZWQgYnkgSUUgPD0gOCBhbmQgJ3dpbmRvdy5nZXRDb21wdXRlZFN0eWxlJyBmb3IgYWxsIG90aGVyIGJyb3dzZXJzXG4gICAgaW5mbyA9ICgnZ2V0Q29tcHV0ZWRTdHlsZScgaW4gd2luZG93KSAmJiB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShzdHlsZSwgbnVsbCkgfHwgc3R5bGUuY3VycmVudFN0eWxlO1xuXG4gICAgc3R5bGVNZWRpYSA9IHtcbiAgICAgIG1hdGNoTWVkaXVtOiBmdW5jdGlvbihtZWRpYSkge1xuICAgICAgICB2YXIgdGV4dCA9ICdAbWVkaWEgJyArIG1lZGlhICsgJ3sgI21hdGNobWVkaWFqcy10ZXN0IHsgd2lkdGg6IDFweDsgfSB9JztcblxuICAgICAgICAvLyAnc3R5bGUuc3R5bGVTaGVldCcgaXMgdXNlZCBieSBJRSA8PSA4IGFuZCAnc3R5bGUudGV4dENvbnRlbnQnIGZvciBhbGwgb3RoZXIgYnJvd3NlcnNcbiAgICAgICAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICAgICAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSB0ZXh0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0eWxlLnRleHRDb250ZW50ID0gdGV4dDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRlc3QgaWYgbWVkaWEgcXVlcnkgaXMgdHJ1ZSBvciBmYWxzZVxuICAgICAgICByZXR1cm4gaW5mby53aWR0aCA9PT0gJzFweCc7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbihtZWRpYSkge1xuICAgIHJldHVybiB7XG4gICAgICBtYXRjaGVzOiBzdHlsZU1lZGlhLm1hdGNoTWVkaXVtKG1lZGlhIHx8ICdhbGwnKSxcbiAgICAgIG1lZGlhOiBtZWRpYSB8fCAnYWxsJ1xuICAgIH07XG4gIH07XG59KCkpO1xuXG4vLyBUaGFuayB5b3U6IGh0dHBzOi8vZ2l0aHViLmNvbS9zaW5kcmVzb3JodXMvcXVlcnktc3RyaW5nXG5mdW5jdGlvbiBwYXJzZVN0eWxlVG9PYmplY3Qoc3RyKSB7XG4gIHZhciBzdHlsZU9iamVjdCA9IHt9O1xuXG4gIGlmICh0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBzdHlsZU9iamVjdDtcbiAgfVxuXG4gIHN0ciA9IHN0ci50cmltKCkuc2xpY2UoMSwgLTEpOyAvLyBicm93c2VycyByZS1xdW90ZSBzdHJpbmcgc3R5bGUgdmFsdWVzXG5cbiAgaWYgKCFzdHIpIHtcbiAgICByZXR1cm4gc3R5bGVPYmplY3Q7XG4gIH1cblxuICBzdHlsZU9iamVjdCA9IHN0ci5zcGxpdCgnJicpLnJlZHVjZShmdW5jdGlvbihyZXQsIHBhcmFtKSB7XG4gICAgdmFyIHBhcnRzID0gcGFyYW0ucmVwbGFjZSgvXFwrL2csICcgJykuc3BsaXQoJz0nKTtcbiAgICB2YXIga2V5ID0gcGFydHNbMF07XG4gICAgdmFyIHZhbCA9IHBhcnRzWzFdO1xuICAgIGtleSA9IGRlY29kZVVSSUNvbXBvbmVudChrZXkpO1xuXG4gICAgLy8gbWlzc2luZyBgPWAgc2hvdWxkIGJlIGBudWxsYDpcbiAgICAvLyBodHRwOi8vdzMub3JnL1RSLzIwMTIvV0QtdXJsLTIwMTIwNTI0LyNjb2xsZWN0LXVybC1wYXJhbWV0ZXJzXG4gICAgdmFsID0gdmFsID09PSB1bmRlZmluZWQgPyBudWxsIDogZGVjb2RlVVJJQ29tcG9uZW50KHZhbCk7XG5cbiAgICBpZiAoIXJldC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICByZXRba2V5XSA9IHZhbDtcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkocmV0W2tleV0pKSB7XG4gICAgICByZXRba2V5XS5wdXNoKHZhbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldFtrZXldID0gW3JldFtrZXldLCB2YWxdO1xuICAgIH1cbiAgICByZXR1cm4gcmV0O1xuICB9LCB7fSk7XG5cbiAgcmV0dXJuIHN0eWxlT2JqZWN0O1xufVxuXG59KGpRdWVyeSwgRm91bmRhdGlvbilcblxuLyoqXG4gKiBNb3Rpb24gbW9kdWxlLlxuICogQG1vZHVsZSBmb3VuZGF0aW9uLm1vdGlvblxuICovXG4hZnVuY3Rpb24oJCwgRm91bmRhdGlvbikge1xuXG52YXIgaW5pdENsYXNzZXMgICA9IFsnbXVpLWVudGVyJywgJ211aS1sZWF2ZSddO1xudmFyIGFjdGl2ZUNsYXNzZXMgPSBbJ211aS1lbnRlci1hY3RpdmUnLCAnbXVpLWxlYXZlLWFjdGl2ZSddO1xuXG5mdW5jdGlvbiBhbmltYXRlKGlzSW4sIGVsZW1lbnQsIGFuaW1hdGlvbiwgY2IpIHtcbiAgZWxlbWVudCA9ICQoZWxlbWVudCkuZXEoMCk7XG5cbiAgaWYgKCFlbGVtZW50Lmxlbmd0aCkgcmV0dXJuO1xuXG4gIHZhciBpbml0Q2xhc3MgPSBpc0luID8gaW5pdENsYXNzZXNbMF0gOiBpbml0Q2xhc3Nlc1sxXTtcbiAgdmFyIGFjdGl2ZUNsYXNzID0gaXNJbiA/IGFjdGl2ZUNsYXNzZXNbMF0gOiBhY3RpdmVDbGFzc2VzWzFdO1xuXG4gIC8vIFNldCB1cCB0aGUgYW5pbWF0aW9uXG4gIHJlc2V0KCk7XG4gIGVsZW1lbnQuYWRkQ2xhc3MoYW5pbWF0aW9uKVxuICAgICAgICAgLmNzcygndHJhbnNpdGlvbicsICdub25lJyk7XG4gICAgICAgIC8vICAuYWRkQ2xhc3MoaW5pdENsYXNzKTtcbiAgLy8gaWYoaXNJbikgZWxlbWVudC5zaG93KCk7XG4gIHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbigpIHtcbiAgICBlbGVtZW50LmFkZENsYXNzKGluaXRDbGFzcyk7XG4gICAgaWYgKGlzSW4pIGVsZW1lbnQuc2hvdygpO1xuICB9KTtcbiAgLy8gU3RhcnQgdGhlIGFuaW1hdGlvblxuICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24oKSB7XG4gICAgZWxlbWVudFswXS5vZmZzZXRXaWR0aDtcbiAgICBlbGVtZW50LmNzcygndHJhbnNpdGlvbicsICcnKTtcbiAgICBlbGVtZW50LmFkZENsYXNzKGFjdGl2ZUNsYXNzKTtcbiAgfSk7XG4gIC8vIE1vdmUoNTAwLCBlbGVtZW50LCBmdW5jdGlvbigpe1xuICAvLyAgIC8vIGVsZW1lbnRbMF0ub2Zmc2V0V2lkdGg7XG4gIC8vICAgZWxlbWVudC5jc3MoJ3RyYW5zaXRpb24nLCAnJyk7XG4gIC8vICAgZWxlbWVudC5hZGRDbGFzcyhhY3RpdmVDbGFzcyk7XG4gIC8vIH0pO1xuXG4gIC8vIENsZWFuIHVwIHRoZSBhbmltYXRpb24gd2hlbiBpdCBmaW5pc2hlc1xuICBlbGVtZW50Lm9uZShGb3VuZGF0aW9uLnRyYW5zaXRpb25lbmQoZWxlbWVudCksIGZpbmlzaCk7Ly8ub25lKCdmaW5pc2hlZC56Zi5hbmltYXRlJywgZmluaXNoKTtcblxuICAvLyBIaWRlcyB0aGUgZWxlbWVudCAoZm9yIG91dCBhbmltYXRpb25zKSwgcmVzZXRzIHRoZSBlbGVtZW50LCBhbmQgcnVucyBhIGNhbGxiYWNrXG4gIGZ1bmN0aW9uIGZpbmlzaCgpIHtcbiAgICBpZiAoIWlzSW4pIGVsZW1lbnQuaGlkZSgpO1xuICAgIHJlc2V0KCk7XG4gICAgaWYgKGNiKSBjYi5hcHBseShlbGVtZW50KTtcbiAgfVxuXG4gIC8vIFJlc2V0cyB0cmFuc2l0aW9ucyBhbmQgcmVtb3ZlcyBtb3Rpb24tc3BlY2lmaWMgY2xhc3Nlc1xuICBmdW5jdGlvbiByZXNldCgpIHtcbiAgICBlbGVtZW50WzBdLnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbiA9IDA7XG4gICAgZWxlbWVudC5yZW1vdmVDbGFzcyhpbml0Q2xhc3MgKyAnICcgKyBhY3RpdmVDbGFzcyArICcgJyArIGFuaW1hdGlvbik7XG4gIH1cbn1cblxudmFyIE1vdGlvbiA9IHtcbiAgYW5pbWF0ZUluOiBmdW5jdGlvbihlbGVtZW50LCBhbmltYXRpb24sIC8qZHVyYXRpb24sKi8gY2IpIHtcbiAgICBhbmltYXRlKHRydWUsIGVsZW1lbnQsIGFuaW1hdGlvbiwgY2IpO1xuICB9LFxuXG4gIGFuaW1hdGVPdXQ6IGZ1bmN0aW9uKGVsZW1lbnQsIGFuaW1hdGlvbiwgLypkdXJhdGlvbiwqLyBjYikge1xuICAgIGFuaW1hdGUoZmFsc2UsIGVsZW1lbnQsIGFuaW1hdGlvbiwgY2IpO1xuICB9XG59O1xuXG52YXIgTW92ZSA9IGZ1bmN0aW9uKGR1cmF0aW9uLCBlbGVtLCBmbil7XG4gIHZhciBhbmltLCBwcm9nLCBzdGFydCA9IG51bGw7XG4gIC8vIGNvbnNvbGUubG9nKCdjYWxsZWQnKTtcblxuICBmdW5jdGlvbiBtb3ZlKHRzKXtcbiAgICBpZighc3RhcnQpIHN0YXJ0ID0gd2luZG93LnBlcmZvcm1hbmNlLm5vdygpO1xuICAgIC8vIGNvbnNvbGUubG9nKHN0YXJ0LCB0cyk7XG4gICAgcHJvZyA9IHRzIC0gc3RhcnQ7XG4gICAgZm4uYXBwbHkoZWxlbSk7XG5cbiAgICBpZihwcm9nIDwgZHVyYXRpb24peyBhbmltID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShtb3ZlLCBlbGVtKTsgfVxuICAgIGVsc2V7XG4gICAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUoYW5pbSk7XG4gICAgICBlbGVtLnRyaWdnZXIoJ2ZpbmlzaGVkLnpmLmFuaW1hdGUnLCBbZWxlbV0pLnRyaWdnZXJIYW5kbGVyKCdmaW5pc2hlZC56Zi5hbmltYXRlJywgW2VsZW1dKTtcbiAgICB9XG4gIH1cbiAgYW5pbSA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUobW92ZSk7XG59O1xuXG5Gb3VuZGF0aW9uLk1vdmUgPSBNb3ZlO1xuRm91bmRhdGlvbi5Nb3Rpb24gPSBNb3Rpb247XG5cbn0oalF1ZXJ5LCBGb3VuZGF0aW9uKTtcblxuIWZ1bmN0aW9uKCQsIEZvdW5kYXRpb24pe1xuICAndXNlIHN0cmljdCc7XG4gIEZvdW5kYXRpb24uTmVzdCA9IHtcbiAgICBGZWF0aGVyOiBmdW5jdGlvbihtZW51LCB0eXBlKXtcbiAgICAgIG1lbnUuYXR0cigncm9sZScsICdtZW51YmFyJyk7XG4gICAgICB0eXBlID0gdHlwZSB8fCAnemYnO1xuICAgICAgdmFyIGl0ZW1zID0gbWVudS5maW5kKCdsaScpLmF0dHIoeydyb2xlJzogJ21lbnVpdGVtJ30pLFxuICAgICAgICAgIHN1Yk1lbnVDbGFzcyA9ICdpcy0nICsgdHlwZSArICctc3VibWVudScsXG4gICAgICAgICAgc3ViSXRlbUNsYXNzID0gc3ViTWVudUNsYXNzICsgJy1pdGVtJyxcbiAgICAgICAgICBoYXNTdWJDbGFzcyA9ICdpcy0nICsgdHlwZSArICctc3VibWVudS1wYXJlbnQnO1xuICAgICAgbWVudS5maW5kKCdhOmZpcnN0JykuYXR0cigndGFiaW5kZXgnLCAwKTtcbiAgICAgIGl0ZW1zLmVhY2goZnVuY3Rpb24oKXtcbiAgICAgICAgdmFyICRpdGVtID0gJCh0aGlzKSxcbiAgICAgICAgICAgICRzdWIgPSAkaXRlbS5jaGlsZHJlbigndWwnKTtcbiAgICAgICAgaWYoJHN1Yi5sZW5ndGgpe1xuICAgICAgICAgICRpdGVtLmFkZENsYXNzKCdoYXMtc3VibWVudSAnICsgaGFzU3ViQ2xhc3MpXG4gICAgICAgICAgICAgICAuYXR0cih7XG4gICAgICAgICAgICAgICAgICdhcmlhLWhhc3BvcHVwJzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgJ2FyaWEtc2VsZWN0ZWQnOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgJ2FyaWEtZXhwYW5kZWQnOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgJ2FyaWEtbGFiZWwnOiAkaXRlbS5jaGlsZHJlbignYTpmaXJzdCcpLnRleHQoKVxuICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgJHN1Yi5hZGRDbGFzcygnc3VibWVudSAnICsgc3ViTWVudUNsYXNzKVxuICAgICAgICAgICAgICAuYXR0cih7XG4gICAgICAgICAgICAgICAgJ2RhdGEtc3VibWVudSc6ICcnLFxuICAgICAgICAgICAgICAgICdhcmlhLWhpZGRlbic6IHRydWUsXG4gICAgICAgICAgICAgICAgJ3JvbGUnOiAnbWVudSdcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYoJGl0ZW0ucGFyZW50KCdbZGF0YS1zdWJtZW51XScpLmxlbmd0aCl7XG4gICAgICAgICAgJGl0ZW0uYWRkQ2xhc3MoJ2lzLXN1Ym1lbnUtaXRlbSAnICsgc3ViSXRlbUNsYXNzKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfSxcbiAgICBCdXJuOiBmdW5jdGlvbihtZW51LCB0eXBlKXtcbiAgICAgIHZhciBpdGVtcyA9IG1lbnUuZmluZCgnbGknKS5yZW1vdmVBdHRyKCd0YWJpbmRleCcpLFxuICAgICAgICAgIHN1Yk1lbnVDbGFzcyA9ICdpcy0nICsgdHlwZSArICctc3VibWVudScsXG4gICAgICAgICAgc3ViSXRlbUNsYXNzID0gc3ViTWVudUNsYXNzICsgJy1pdGVtJyxcbiAgICAgICAgICBoYXNTdWJDbGFzcyA9ICdpcy0nICsgdHlwZSArICctc3VibWVudS1wYXJlbnQnO1xuXG4gICAgICAvLyBtZW51LmZpbmQoJy5pcy1hY3RpdmUnKS5yZW1vdmVDbGFzcygnaXMtYWN0aXZlJyk7XG4gICAgICBtZW51LmZpbmQoJyonKVxuICAgICAgLy8gbWVudS5maW5kKCcuJyArIHN1Yk1lbnVDbGFzcyArICcsIC4nICsgc3ViSXRlbUNsYXNzICsgJywgLmlzLWFjdGl2ZSwgLmhhcy1zdWJtZW51LCAuaXMtc3VibWVudS1pdGVtLCAuc3VibWVudSwgW2RhdGEtc3VibWVudV0nKVxuICAgICAgICAgIC5yZW1vdmVDbGFzcyhzdWJNZW51Q2xhc3MgKyAnICcgKyBzdWJJdGVtQ2xhc3MgKyAnICcgKyBoYXNTdWJDbGFzcyArICcgaGFzLXN1Ym1lbnUgaXMtc3VibWVudS1pdGVtIHN1Ym1lbnUgaXMtYWN0aXZlJylcbiAgICAgICAgICAucmVtb3ZlQXR0cignZGF0YS1zdWJtZW51JykuY3NzKCdkaXNwbGF5JywgJycpO1xuXG4gICAgICAvLyBjb25zb2xlLmxvZyggICAgICBtZW51LmZpbmQoJy4nICsgc3ViTWVudUNsYXNzICsgJywgLicgKyBzdWJJdGVtQ2xhc3MgKyAnLCAuaGFzLXN1Ym1lbnUsIC5pcy1zdWJtZW51LWl0ZW0sIC5zdWJtZW51LCBbZGF0YS1zdWJtZW51XScpXG4gICAgICAvLyAgICAgICAgICAgLnJlbW92ZUNsYXNzKHN1Yk1lbnVDbGFzcyArICcgJyArIHN1Ykl0ZW1DbGFzcyArICcgaGFzLXN1Ym1lbnUgaXMtc3VibWVudS1pdGVtIHN1Ym1lbnUnKVxuICAgICAgLy8gICAgICAgICAgIC5yZW1vdmVBdHRyKCdkYXRhLXN1Ym1lbnUnKSk7XG4gICAgICAvLyBpdGVtcy5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICAvLyAgIHZhciAkaXRlbSA9ICQodGhpcyksXG4gICAgICAvLyAgICAgICAkc3ViID0gJGl0ZW0uY2hpbGRyZW4oJ3VsJyk7XG4gICAgICAvLyAgIGlmKCRpdGVtLnBhcmVudCgnW2RhdGEtc3VibWVudV0nKS5sZW5ndGgpe1xuICAgICAgLy8gICAgICRpdGVtLnJlbW92ZUNsYXNzKCdpcy1zdWJtZW51LWl0ZW0gJyArIHN1Ykl0ZW1DbGFzcyk7XG4gICAgICAvLyAgIH1cbiAgICAgIC8vICAgaWYoJHN1Yi5sZW5ndGgpe1xuICAgICAgLy8gICAgICRpdGVtLnJlbW92ZUNsYXNzKCdoYXMtc3VibWVudScpO1xuICAgICAgLy8gICAgICRzdWIucmVtb3ZlQ2xhc3MoJ3N1Ym1lbnUgJyArIHN1Yk1lbnVDbGFzcykucmVtb3ZlQXR0cignZGF0YS1zdWJtZW51Jyk7XG4gICAgICAvLyAgIH1cbiAgICAgIC8vIH0pO1xuICAgIH1cbiAgfTtcbn0oalF1ZXJ5LCB3aW5kb3cuRm91bmRhdGlvbik7XG5cbiFmdW5jdGlvbigkLCBGb3VuZGF0aW9uKXtcbiAgJ3VzZSBzdHJpY3QnO1xuICB2YXIgVGltZXIgPSBmdW5jdGlvbihlbGVtLCBvcHRpb25zLCBjYil7XG4gICAgdmFyIF90aGlzID0gdGhpcyxcbiAgICAgICAgZHVyYXRpb24gPSBvcHRpb25zLmR1cmF0aW9uLC8vb3B0aW9ucyBpcyBhbiBvYmplY3QgZm9yIGVhc2lseSBhZGRpbmcgZmVhdHVyZXMgbGF0ZXIuXG4gICAgICAgIG5hbWVTcGFjZSA9IE9iamVjdC5rZXlzKGVsZW0uZGF0YSgpKVswXSB8fCAndGltZXInLFxuICAgICAgICByZW1haW4gPSAtMSxcbiAgICAgICAgc3RhcnQsXG4gICAgICAgIHRpbWVyO1xuXG4gICAgdGhpcy5yZXN0YXJ0ID0gZnVuY3Rpb24oKXtcbiAgICAgIHJlbWFpbiA9IC0xO1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgIHRoaXMuc3RhcnQoKTtcbiAgICB9O1xuXG4gICAgdGhpcy5zdGFydCA9IGZ1bmN0aW9uKCl7XG4gICAgICAvLyBpZighZWxlbS5kYXRhKCdwYXVzZWQnKSl7IHJldHVybiBmYWxzZTsgfS8vbWF5YmUgaW1wbGVtZW50IHRoaXMgc2FuaXR5IGNoZWNrIGlmIHVzZWQgZm9yIG90aGVyIHRoaW5ncy5cbiAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICByZW1haW4gPSByZW1haW4gPD0gMCA/IGR1cmF0aW9uIDogcmVtYWluO1xuICAgICAgZWxlbS5kYXRhKCdwYXVzZWQnLCBmYWxzZSk7XG4gICAgICBzdGFydCA9IERhdGUubm93KCk7XG4gICAgICB0aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgaWYob3B0aW9ucy5pbmZpbml0ZSl7XG4gICAgICAgICAgX3RoaXMucmVzdGFydCgpOy8vcmVydW4gdGhlIHRpbWVyLlxuICAgICAgICB9XG4gICAgICAgIGNiKCk7XG4gICAgICB9LCByZW1haW4pO1xuICAgICAgZWxlbS50cmlnZ2VyKCd0aW1lcnN0YXJ0LnpmLicgKyBuYW1lU3BhY2UpO1xuICAgIH07XG5cbiAgICB0aGlzLnBhdXNlID0gZnVuY3Rpb24oKXtcbiAgICAgIC8vaWYoZWxlbS5kYXRhKCdwYXVzZWQnKSl7IHJldHVybiBmYWxzZTsgfS8vbWF5YmUgaW1wbGVtZW50IHRoaXMgc2FuaXR5IGNoZWNrIGlmIHVzZWQgZm9yIG90aGVyIHRoaW5ncy5cbiAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICBlbGVtLmRhdGEoJ3BhdXNlZCcsIHRydWUpO1xuICAgICAgdmFyIGVuZCA9IERhdGUubm93KCk7XG4gICAgICByZW1haW4gPSByZW1haW4gLSAoZW5kIC0gc3RhcnQpO1xuICAgICAgZWxlbS50cmlnZ2VyKCd0aW1lcnBhdXNlZC56Zi4nICsgbmFtZVNwYWNlKTtcbiAgICB9O1xuICB9O1xuICAvKipcbiAgICogUnVucyBhIGNhbGxiYWNrIGZ1bmN0aW9uIHdoZW4gaW1hZ2VzIGFyZSBmdWxseSBsb2FkZWQuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBpbWFnZXMgLSBJbWFnZShzKSB0byBjaGVjayBpZiBsb2FkZWQuXG4gICAqIEBwYXJhbSB7RnVuY30gY2FsbGJhY2sgLSBGdW5jdGlvbiB0byBleGVjdXRlIHdoZW4gaW1hZ2UgaXMgZnVsbHkgbG9hZGVkLlxuICAgKi9cbiAgdmFyIG9uSW1hZ2VzTG9hZGVkID0gZnVuY3Rpb24oaW1hZ2VzLCBjYWxsYmFjayl7XG4gICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICB1bmxvYWRlZCA9IGltYWdlcy5sZW5ndGg7XG5cbiAgICBpZiAodW5sb2FkZWQgPT09IDApIHtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxuXG4gICAgdmFyIHNpbmdsZUltYWdlTG9hZGVkID0gZnVuY3Rpb24oKSB7XG4gICAgICB1bmxvYWRlZC0tO1xuICAgICAgaWYgKHVubG9hZGVkID09PSAwKSB7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGltYWdlcy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMuY29tcGxldGUpIHtcbiAgICAgICAgc2luZ2xlSW1hZ2VMb2FkZWQoKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHR5cGVvZiB0aGlzLm5hdHVyYWxXaWR0aCAhPT0gJ3VuZGVmaW5lZCcgJiYgdGhpcy5uYXR1cmFsV2lkdGggPiAwKSB7XG4gICAgICAgIHNpbmdsZUltYWdlTG9hZGVkKCk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgJCh0aGlzKS5vbmUoJ2xvYWQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzaW5nbGVJbWFnZUxvYWRlZCgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICBGb3VuZGF0aW9uLlRpbWVyID0gVGltZXI7XG4gIEZvdW5kYXRpb24ub25JbWFnZXNMb2FkZWQgPSBvbkltYWdlc0xvYWRlZDtcbn0oalF1ZXJ5LCB3aW5kb3cuRm91bmRhdGlvbik7XG5cbi8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbi8vKipXb3JrIGluc3BpcmVkIGJ5IG11bHRpcGxlIGpxdWVyeSBzd2lwZSBwbHVnaW5zKipcbi8vKipEb25lIGJ5IFlvaGFpIEFyYXJhdCAqKioqKioqKioqKioqKioqKioqKioqKioqKipcbi8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbihmdW5jdGlvbigkKSB7XG5cbiAgJC5zcG90U3dpcGUgPSB7XG4gICAgdmVyc2lvbjogJzEuMC4wJyxcbiAgICBlbmFibGVkOiAnb250b3VjaHN0YXJ0JyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsXG4gICAgcHJldmVudERlZmF1bHQ6IHRydWUsXG4gICAgbW92ZVRocmVzaG9sZDogNzUsXG4gICAgdGltZVRocmVzaG9sZDogMjAwXG4gIH07XG5cbiAgdmFyICAgc3RhcnRQb3NYLFxuICAgICAgICBzdGFydFBvc1ksXG4gICAgICAgIHN0YXJ0VGltZSxcbiAgICAgICAgZWxhcHNlZFRpbWUsXG4gICAgICAgIGlzTW92aW5nID0gZmFsc2U7XG5cbiAgZnVuY3Rpb24gb25Ub3VjaEVuZCgpIHtcbiAgICAvLyAgYWxlcnQodGhpcyk7XG4gICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBvblRvdWNoTW92ZSk7XG4gICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIG9uVG91Y2hFbmQpO1xuICAgIGlzTW92aW5nID0gZmFsc2U7XG4gIH1cblxuICBmdW5jdGlvbiBvblRvdWNoTW92ZShlKSB7XG4gICAgaWYgKCQuc3BvdFN3aXBlLnByZXZlbnREZWZhdWx0KSB7IGUucHJldmVudERlZmF1bHQoKTsgfVxuICAgIGlmKGlzTW92aW5nKSB7XG4gICAgICB2YXIgeCA9IGUudG91Y2hlc1swXS5wYWdlWDtcbiAgICAgIHZhciB5ID0gZS50b3VjaGVzWzBdLnBhZ2VZO1xuICAgICAgdmFyIGR4ID0gc3RhcnRQb3NYIC0geDtcbiAgICAgIHZhciBkeSA9IHN0YXJ0UG9zWSAtIHk7XG4gICAgICB2YXIgZGlyO1xuICAgICAgZWxhcHNlZFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIHN0YXJ0VGltZTtcbiAgICAgIGlmKE1hdGguYWJzKGR4KSA+PSAkLnNwb3RTd2lwZS5tb3ZlVGhyZXNob2xkICYmIGVsYXBzZWRUaW1lIDw9ICQuc3BvdFN3aXBlLnRpbWVUaHJlc2hvbGQpIHtcbiAgICAgICAgZGlyID0gZHggPiAwID8gJ2xlZnQnIDogJ3JpZ2h0JztcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYoTWF0aC5hYnMoZHkpID49ICQuc3BvdFN3aXBlLm1vdmVUaHJlc2hvbGQgJiYgZWxhcHNlZFRpbWUgPD0gJC5zcG90U3dpcGUudGltZVRocmVzaG9sZCkge1xuICAgICAgICBkaXIgPSBkeSA+IDAgPyAnZG93bicgOiAndXAnO1xuICAgICAgfVxuICAgICAgaWYoZGlyKSB7XG4gICAgICAgIG9uVG91Y2hFbmQuY2FsbCh0aGlzKTtcbiAgICAgICAgJCh0aGlzKS50cmlnZ2VyKCdzd2lwZScsIGRpcikudHJpZ2dlcignc3dpcGUnICsgZGlyKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvblRvdWNoU3RhcnQoZSkge1xuICAgIGlmIChlLnRvdWNoZXMubGVuZ3RoID09IDEpIHtcbiAgICAgIHN0YXJ0UG9zWCA9IGUudG91Y2hlc1swXS5wYWdlWDtcbiAgICAgIHN0YXJ0UG9zWSA9IGUudG91Y2hlc1swXS5wYWdlWTtcbiAgICAgIGlzTW92aW5nID0gdHJ1ZTtcbiAgICAgIHN0YXJ0VGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBvblRvdWNoTW92ZSwgZmFsc2UpO1xuICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIG9uVG91Y2hFbmQsIGZhbHNlKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpbml0KCkge1xuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lciAmJiB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBvblRvdWNoU3RhcnQsIGZhbHNlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRlYXJkb3duKCkge1xuICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIG9uVG91Y2hTdGFydCk7XG4gIH1cblxuICAkLmV2ZW50LnNwZWNpYWwuc3dpcGUgPSB7IHNldHVwOiBpbml0IH07XG5cbiAgJC5lYWNoKFsnbGVmdCcsICd1cCcsICdkb3duJywgJ3JpZ2h0J10sIGZ1bmN0aW9uICgpIHtcbiAgICAkLmV2ZW50LnNwZWNpYWxbJ3N3aXBlJyArIHRoaXNdID0geyBzZXR1cDogZnVuY3Rpb24oKXtcbiAgICAgICQodGhpcykub24oJ3N3aXBlJywgJC5ub29wKTtcbiAgICB9IH07XG4gIH0pO1xufSkoalF1ZXJ5KTtcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKiBNZXRob2QgZm9yIGFkZGluZyBwc3VlZG8gZHJhZyBldmVudHMgdG8gZWxlbWVudHMgKlxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiFmdW5jdGlvbigkKXtcbiAgJC5mbi5hZGRUb3VjaCA9IGZ1bmN0aW9uKCl7XG4gICAgdGhpcy5lYWNoKGZ1bmN0aW9uKGksZWwpe1xuICAgICAgJChlbCkuYmluZCgndG91Y2hzdGFydCB0b3VjaG1vdmUgdG91Y2hlbmQgdG91Y2hjYW5jZWwnLGZ1bmN0aW9uKCl7XG4gICAgICAgIC8vd2UgcGFzcyB0aGUgb3JpZ2luYWwgZXZlbnQgb2JqZWN0IGJlY2F1c2UgdGhlIGpRdWVyeSBldmVudFxuICAgICAgICAvL29iamVjdCBpcyBub3JtYWxpemVkIHRvIHczYyBzcGVjcyBhbmQgZG9lcyBub3QgcHJvdmlkZSB0aGUgVG91Y2hMaXN0XG4gICAgICAgIGhhbmRsZVRvdWNoKGV2ZW50KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgdmFyIGhhbmRsZVRvdWNoID0gZnVuY3Rpb24oZXZlbnQpe1xuICAgICAgdmFyIHRvdWNoZXMgPSBldmVudC5jaGFuZ2VkVG91Y2hlcyxcbiAgICAgICAgICBmaXJzdCA9IHRvdWNoZXNbMF0sXG4gICAgICAgICAgZXZlbnRUeXBlcyA9IHtcbiAgICAgICAgICAgIHRvdWNoc3RhcnQ6ICdtb3VzZWRvd24nLFxuICAgICAgICAgICAgdG91Y2htb3ZlOiAnbW91c2Vtb3ZlJyxcbiAgICAgICAgICAgIHRvdWNoZW5kOiAnbW91c2V1cCdcbiAgICAgICAgICB9LFxuICAgICAgICAgIHR5cGUgPSBldmVudFR5cGVzW2V2ZW50LnR5cGVdO1xuXG4gICAgICB2YXIgc2ltdWxhdGVkRXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnTW91c2VFdmVudCcpO1xuICAgICAgc2ltdWxhdGVkRXZlbnQuaW5pdE1vdXNlRXZlbnQodHlwZSwgdHJ1ZSwgdHJ1ZSwgd2luZG93LCAxLCBmaXJzdC5zY3JlZW5YLCBmaXJzdC5zY3JlZW5ZLCBmaXJzdC5jbGllbnRYLCBmaXJzdC5jbGllbnRZLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgMC8qbGVmdCovLCBudWxsKTtcbiAgICAgIGZpcnN0LnRhcmdldC5kaXNwYXRjaEV2ZW50KHNpbXVsYXRlZEV2ZW50KTtcbiAgICB9O1xuICB9O1xufShqUXVlcnkpO1xuXG5cbi8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuLy8qKkZyb20gdGhlIGpRdWVyeSBNb2JpbGUgTGlicmFyeSoqXG4vLyoqbmVlZCB0byByZWNyZWF0ZSBmdW5jdGlvbmFsaXR5Kipcbi8vKiphbmQgdHJ5IHRvIGltcHJvdmUgaWYgcG9zc2libGUqKlxuLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbi8qIFJlbW92aW5nIHRoZSBqUXVlcnkgZnVuY3Rpb24gKioqKlxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbihmdW5jdGlvbiggJCwgd2luZG93LCB1bmRlZmluZWQgKSB7XG5cblx0dmFyICRkb2N1bWVudCA9ICQoIGRvY3VtZW50ICksXG5cdFx0Ly8gc3VwcG9ydFRvdWNoID0gJC5tb2JpbGUuc3VwcG9ydC50b3VjaCxcblx0XHR0b3VjaFN0YXJ0RXZlbnQgPSAndG91Y2hzdGFydCcvL3N1cHBvcnRUb3VjaCA/IFwidG91Y2hzdGFydFwiIDogXCJtb3VzZWRvd25cIixcblx0XHR0b3VjaFN0b3BFdmVudCA9ICd0b3VjaGVuZCcvL3N1cHBvcnRUb3VjaCA/IFwidG91Y2hlbmRcIiA6IFwibW91c2V1cFwiLFxuXHRcdHRvdWNoTW92ZUV2ZW50ID0gJ3RvdWNobW92ZScvL3N1cHBvcnRUb3VjaCA/IFwidG91Y2htb3ZlXCIgOiBcIm1vdXNlbW92ZVwiO1xuXG5cdC8vIHNldHVwIG5ldyBldmVudCBzaG9ydGN1dHNcblx0JC5lYWNoKCAoIFwidG91Y2hzdGFydCB0b3VjaG1vdmUgdG91Y2hlbmQgXCIgK1xuXHRcdFwic3dpcGUgc3dpcGVsZWZ0IHN3aXBlcmlnaHRcIiApLnNwbGl0KCBcIiBcIiApLCBmdW5jdGlvbiggaSwgbmFtZSApIHtcblxuXHRcdCQuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCBmbiApIHtcblx0XHRcdHJldHVybiBmbiA/IHRoaXMuYmluZCggbmFtZSwgZm4gKSA6IHRoaXMudHJpZ2dlciggbmFtZSApO1xuXHRcdH07XG5cblx0XHQvLyBqUXVlcnkgPCAxLjhcblx0XHRpZiAoICQuYXR0ckZuICkge1xuXHRcdFx0JC5hdHRyRm5bIG5hbWUgXSA9IHRydWU7XG5cdFx0fVxuXHR9KTtcblxuXHRmdW5jdGlvbiB0cmlnZ2VyQ3VzdG9tRXZlbnQoIG9iaiwgZXZlbnRUeXBlLCBldmVudCwgYnViYmxlICkge1xuXHRcdHZhciBvcmlnaW5hbFR5cGUgPSBldmVudC50eXBlO1xuXHRcdGV2ZW50LnR5cGUgPSBldmVudFR5cGU7XG5cdFx0aWYgKCBidWJibGUgKSB7XG5cdFx0XHQkLmV2ZW50LnRyaWdnZXIoIGV2ZW50LCB1bmRlZmluZWQsIG9iaiApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQkLmV2ZW50LmRpc3BhdGNoLmNhbGwoIG9iaiwgZXZlbnQgKTtcblx0XHR9XG5cdFx0ZXZlbnQudHlwZSA9IG9yaWdpbmFsVHlwZTtcblx0fVxuXG5cdC8vIGFsc28gaGFuZGxlcyB0YXBob2xkXG5cblx0Ly8gQWxzbyBoYW5kbGVzIHN3aXBlbGVmdCwgc3dpcGVyaWdodFxuXHQkLmV2ZW50LnNwZWNpYWwuc3dpcGUgPSB7XG5cblx0XHQvLyBNb3JlIHRoYW4gdGhpcyBob3Jpem9udGFsIGRpc3BsYWNlbWVudCwgYW5kIHdlIHdpbGwgc3VwcHJlc3Mgc2Nyb2xsaW5nLlxuXHRcdHNjcm9sbFN1cHJlc3Npb25UaHJlc2hvbGQ6IDMwLFxuXG5cdFx0Ly8gTW9yZSB0aW1lIHRoYW4gdGhpcywgYW5kIGl0IGlzbid0IGEgc3dpcGUuXG5cdFx0ZHVyYXRpb25UaHJlc2hvbGQ6IDEwMDAsXG5cblx0XHQvLyBTd2lwZSBob3Jpem9udGFsIGRpc3BsYWNlbWVudCBtdXN0IGJlIG1vcmUgdGhhbiB0aGlzLlxuXHRcdGhvcml6b250YWxEaXN0YW5jZVRocmVzaG9sZDogd2luZG93LmRldmljZVBpeGVsUmF0aW8gPj0gMiA/IDE1IDogMzAsXG5cblx0XHQvLyBTd2lwZSB2ZXJ0aWNhbCBkaXNwbGFjZW1lbnQgbXVzdCBiZSBsZXNzIHRoYW4gdGhpcy5cblx0XHR2ZXJ0aWNhbERpc3RhbmNlVGhyZXNob2xkOiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyA+PSAyID8gMTUgOiAzMCxcblxuXHRcdGdldExvY2F0aW9uOiBmdW5jdGlvbiAoIGV2ZW50ICkge1xuXHRcdFx0dmFyIHdpblBhZ2VYID0gd2luZG93LnBhZ2VYT2Zmc2V0LFxuXHRcdFx0XHR3aW5QYWdlWSA9IHdpbmRvdy5wYWdlWU9mZnNldCxcblx0XHRcdFx0eCA9IGV2ZW50LmNsaWVudFgsXG5cdFx0XHRcdHkgPSBldmVudC5jbGllbnRZO1xuXG5cdFx0XHRpZiAoIGV2ZW50LnBhZ2VZID09PSAwICYmIE1hdGguZmxvb3IoIHkgKSA+IE1hdGguZmxvb3IoIGV2ZW50LnBhZ2VZICkgfHxcblx0XHRcdFx0ZXZlbnQucGFnZVggPT09IDAgJiYgTWF0aC5mbG9vciggeCApID4gTWF0aC5mbG9vciggZXZlbnQucGFnZVggKSApIHtcblxuXHRcdFx0XHQvLyBpT1M0IGNsaWVudFgvY2xpZW50WSBoYXZlIHRoZSB2YWx1ZSB0aGF0IHNob3VsZCBoYXZlIGJlZW5cblx0XHRcdFx0Ly8gaW4gcGFnZVgvcGFnZVkuIFdoaWxlIHBhZ2VYL3BhZ2UvIGhhdmUgdGhlIHZhbHVlIDBcblx0XHRcdFx0eCA9IHggLSB3aW5QYWdlWDtcblx0XHRcdFx0eSA9IHkgLSB3aW5QYWdlWTtcblx0XHRcdH0gZWxzZSBpZiAoIHkgPCAoIGV2ZW50LnBhZ2VZIC0gd2luUGFnZVkpIHx8IHggPCAoIGV2ZW50LnBhZ2VYIC0gd2luUGFnZVggKSApIHtcblxuXHRcdFx0XHQvLyBTb21lIEFuZHJvaWQgYnJvd3NlcnMgaGF2ZSB0b3RhbGx5IGJvZ3VzIHZhbHVlcyBmb3IgY2xpZW50WC9ZXG5cdFx0XHRcdC8vIHdoZW4gc2Nyb2xsaW5nL3pvb21pbmcgYSBwYWdlLiBEZXRlY3RhYmxlIHNpbmNlIGNsaWVudFgvY2xpZW50WVxuXHRcdFx0XHQvLyBzaG91bGQgbmV2ZXIgYmUgc21hbGxlciB0aGFuIHBhZ2VYL3BhZ2VZIG1pbnVzIHBhZ2Ugc2Nyb2xsXG5cdFx0XHRcdHggPSBldmVudC5wYWdlWCAtIHdpblBhZ2VYO1xuXHRcdFx0XHR5ID0gZXZlbnQucGFnZVkgLSB3aW5QYWdlWTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0eDogeCxcblx0XHRcdFx0eTogeVxuXHRcdFx0fTtcblx0XHR9LFxuXG5cdFx0c3RhcnQ6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdHZhciBkYXRhID0gZXZlbnQub3JpZ2luYWxFdmVudC50b3VjaGVzID9cblx0XHRcdFx0XHRldmVudC5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbIDAgXSA6IGV2ZW50LFxuXHRcdFx0XHRsb2NhdGlvbiA9ICQuZXZlbnQuc3BlY2lhbC5zd2lwZS5nZXRMb2NhdGlvbiggZGF0YSApO1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRcdHRpbWU6ICggbmV3IERhdGUoKSApLmdldFRpbWUoKSxcblx0XHRcdFx0XHRcdGNvb3JkczogWyBsb2NhdGlvbi54LCBsb2NhdGlvbi55IF0sXG5cdFx0XHRcdFx0XHRvcmlnaW46ICQoIGV2ZW50LnRhcmdldCApXG5cdFx0XHRcdFx0fTtcblx0XHR9LFxuXG5cdFx0c3RvcDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0dmFyIGRhdGEgPSBldmVudC5vcmlnaW5hbEV2ZW50LnRvdWNoZXMgP1xuXHRcdFx0XHRcdGV2ZW50Lm9yaWdpbmFsRXZlbnQudG91Y2hlc1sgMCBdIDogZXZlbnQsXG5cdFx0XHRcdGxvY2F0aW9uID0gJC5ldmVudC5zcGVjaWFsLnN3aXBlLmdldExvY2F0aW9uKCBkYXRhICk7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0dGltZTogKCBuZXcgRGF0ZSgpICkuZ2V0VGltZSgpLFxuXHRcdFx0XHRcdFx0Y29vcmRzOiBbIGxvY2F0aW9uLngsIGxvY2F0aW9uLnkgXVxuXHRcdFx0XHRcdH07XG5cdFx0fSxcblxuXHRcdGhhbmRsZVN3aXBlOiBmdW5jdGlvbiggc3RhcnQsIHN0b3AsIHRoaXNPYmplY3QsIG9yaWdUYXJnZXQgKSB7XG5cdFx0XHRpZiAoIHN0b3AudGltZSAtIHN0YXJ0LnRpbWUgPCAkLmV2ZW50LnNwZWNpYWwuc3dpcGUuZHVyYXRpb25UaHJlc2hvbGQgJiZcblx0XHRcdFx0TWF0aC5hYnMoIHN0YXJ0LmNvb3Jkc1sgMCBdIC0gc3RvcC5jb29yZHNbIDAgXSApID4gJC5ldmVudC5zcGVjaWFsLnN3aXBlLmhvcml6b250YWxEaXN0YW5jZVRocmVzaG9sZCAmJlxuXHRcdFx0XHRNYXRoLmFicyggc3RhcnQuY29vcmRzWyAxIF0gLSBzdG9wLmNvb3Jkc1sgMSBdICkgPCAkLmV2ZW50LnNwZWNpYWwuc3dpcGUudmVydGljYWxEaXN0YW5jZVRocmVzaG9sZCApIHtcblx0XHRcdFx0dmFyIGRpcmVjdGlvbiA9IHN0YXJ0LmNvb3Jkc1swXSA+IHN0b3AuY29vcmRzWyAwIF0gPyBcInN3aXBlbGVmdFwiIDogXCJzd2lwZXJpZ2h0XCI7XG5cblx0XHRcdFx0dHJpZ2dlckN1c3RvbUV2ZW50KCB0aGlzT2JqZWN0LCBcInN3aXBlXCIsICQuRXZlbnQoIFwic3dpcGVcIiwgeyB0YXJnZXQ6IG9yaWdUYXJnZXQsIHN3aXBlc3RhcnQ6IHN0YXJ0LCBzd2lwZXN0b3A6IHN0b3AgfSksIHRydWUgKTtcblx0XHRcdFx0dHJpZ2dlckN1c3RvbUV2ZW50KCB0aGlzT2JqZWN0LCBkaXJlY3Rpb24sJC5FdmVudCggZGlyZWN0aW9uLCB7IHRhcmdldDogb3JpZ1RhcmdldCwgc3dpcGVzdGFydDogc3RhcnQsIHN3aXBlc3RvcDogc3RvcCB9ICksIHRydWUgKTtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cblx0XHR9LFxuXG5cdFx0Ly8gVGhpcyBzZXJ2ZXMgYXMgYSBmbGFnIHRvIGVuc3VyZSB0aGF0IGF0IG1vc3Qgb25lIHN3aXBlIGV2ZW50IGV2ZW50IGlzXG5cdFx0Ly8gaW4gd29yayBhdCBhbnkgZ2l2ZW4gdGltZVxuXHRcdGV2ZW50SW5Qcm9ncmVzczogZmFsc2UsXG5cblx0XHRzZXR1cDogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgZXZlbnRzLFxuXHRcdFx0XHR0aGlzT2JqZWN0ID0gdGhpcyxcblx0XHRcdFx0JHRoaXMgPSAkKCB0aGlzT2JqZWN0ICksXG5cdFx0XHRcdGNvbnRleHQgPSB7fTtcblxuXHRcdFx0Ly8gUmV0cmlldmUgdGhlIGV2ZW50cyBkYXRhIGZvciB0aGlzIGVsZW1lbnQgYW5kIGFkZCB0aGUgc3dpcGUgY29udGV4dFxuXHRcdFx0ZXZlbnRzID0gJC5kYXRhKCB0aGlzLCBcIm1vYmlsZS1ldmVudHNcIiApO1xuXHRcdFx0aWYgKCAhZXZlbnRzICkge1xuXHRcdFx0XHRldmVudHMgPSB7IGxlbmd0aDogMCB9O1xuXHRcdFx0XHQkLmRhdGEoIHRoaXMsIFwibW9iaWxlLWV2ZW50c1wiLCBldmVudHMgKTtcblx0XHRcdH1cblx0XHRcdGV2ZW50cy5sZW5ndGgrKztcblx0XHRcdGV2ZW50cy5zd2lwZSA9IGNvbnRleHQ7XG5cblx0XHRcdGNvbnRleHQuc3RhcnQgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG5cblx0XHRcdFx0Ly8gQmFpbCBpZiB3ZSdyZSBhbHJlYWR5IHdvcmtpbmcgb24gYSBzd2lwZSBldmVudFxuXHRcdFx0XHRpZiAoICQuZXZlbnQuc3BlY2lhbC5zd2lwZS5ldmVudEluUHJvZ3Jlc3MgKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHRcdCQuZXZlbnQuc3BlY2lhbC5zd2lwZS5ldmVudEluUHJvZ3Jlc3MgPSB0cnVlO1xuXG5cdFx0XHRcdHZhciBzdG9wLFxuXHRcdFx0XHRcdHN0YXJ0ID0gJC5ldmVudC5zcGVjaWFsLnN3aXBlLnN0YXJ0KCBldmVudCApLFxuXHRcdFx0XHRcdG9yaWdUYXJnZXQgPSBldmVudC50YXJnZXQsXG5cdFx0XHRcdFx0ZW1pdHRlZCA9IGZhbHNlO1xuXG5cdFx0XHRcdGNvbnRleHQubW92ZSA9IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0XHRpZiAoICFzdGFydCB8fCBldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSApIHtcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRzdG9wID0gJC5ldmVudC5zcGVjaWFsLnN3aXBlLnN0b3AoIGV2ZW50ICk7XG5cdFx0XHRcdFx0aWYgKCAhZW1pdHRlZCApIHtcblx0XHRcdFx0XHRcdGVtaXR0ZWQgPSAkLmV2ZW50LnNwZWNpYWwuc3dpcGUuaGFuZGxlU3dpcGUoIHN0YXJ0LCBzdG9wLCB0aGlzT2JqZWN0LCBvcmlnVGFyZ2V0ICk7XG5cdFx0XHRcdFx0XHRpZiAoIGVtaXR0ZWQgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gUmVzZXQgdGhlIGNvbnRleHQgdG8gbWFrZSB3YXkgZm9yIHRoZSBuZXh0IHN3aXBlIGV2ZW50XG5cdFx0XHRcdFx0XHRcdCQuZXZlbnQuc3BlY2lhbC5zd2lwZS5ldmVudEluUHJvZ3Jlc3MgPSBmYWxzZTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Ly8gcHJldmVudCBzY3JvbGxpbmdcblx0XHRcdFx0XHRpZiAoIE1hdGguYWJzKCBzdGFydC5jb29yZHNbIDAgXSAtIHN0b3AuY29vcmRzWyAwIF0gKSA+ICQuZXZlbnQuc3BlY2lhbC5zd2lwZS5zY3JvbGxTdXByZXNzaW9uVGhyZXNob2xkICkge1xuXHRcdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH07XG5cblx0XHRcdFx0Y29udGV4dC5zdG9wID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRlbWl0dGVkID0gdHJ1ZTtcblxuXHRcdFx0XHRcdFx0Ly8gUmVzZXQgdGhlIGNvbnRleHQgdG8gbWFrZSB3YXkgZm9yIHRoZSBuZXh0IHN3aXBlIGV2ZW50XG5cdFx0XHRcdFx0XHQkLmV2ZW50LnNwZWNpYWwuc3dpcGUuZXZlbnRJblByb2dyZXNzID0gZmFsc2U7XG5cdFx0XHRcdFx0XHQkZG9jdW1lbnQub2ZmKCB0b3VjaE1vdmVFdmVudCwgY29udGV4dC5tb3ZlICk7XG5cdFx0XHRcdFx0XHRjb250ZXh0Lm1vdmUgPSBudWxsO1xuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdCRkb2N1bWVudC5vbiggdG91Y2hNb3ZlRXZlbnQsIGNvbnRleHQubW92ZSApXG5cdFx0XHRcdFx0Lm9uZSggdG91Y2hTdG9wRXZlbnQsIGNvbnRleHQuc3RvcCApO1xuXHRcdFx0fTtcblx0XHRcdCR0aGlzLm9uKCB0b3VjaFN0YXJ0RXZlbnQsIGNvbnRleHQuc3RhcnQgKTtcblx0XHR9LFxuXG5cdFx0dGVhcmRvd246IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGV2ZW50cywgY29udGV4dDtcblxuXHRcdFx0ZXZlbnRzID0gJC5kYXRhKCB0aGlzLCBcIm1vYmlsZS1ldmVudHNcIiApO1xuXHRcdFx0aWYgKCBldmVudHMgKSB7XG5cdFx0XHRcdGNvbnRleHQgPSBldmVudHMuc3dpcGU7XG5cdFx0XHRcdGRlbGV0ZSBldmVudHMuc3dpcGU7XG5cdFx0XHRcdGV2ZW50cy5sZW5ndGgtLTtcblx0XHRcdFx0aWYgKCBldmVudHMubGVuZ3RoID09PSAwICkge1xuXHRcdFx0XHRcdCQucmVtb3ZlRGF0YSggdGhpcywgXCJtb2JpbGUtZXZlbnRzXCIgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIGNvbnRleHQgKSB7XG5cdFx0XHRcdGlmICggY29udGV4dC5zdGFydCApIHtcblx0XHRcdFx0XHQkKCB0aGlzICkub2ZmKCB0b3VjaFN0YXJ0RXZlbnQsIGNvbnRleHQuc3RhcnQgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoIGNvbnRleHQubW92ZSApIHtcblx0XHRcdFx0XHQkZG9jdW1lbnQub2ZmKCB0b3VjaE1vdmVFdmVudCwgY29udGV4dC5tb3ZlICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCBjb250ZXh0LnN0b3AgKSB7XG5cdFx0XHRcdFx0JGRvY3VtZW50Lm9mZiggdG91Y2hTdG9wRXZlbnQsIGNvbnRleHQuc3RvcCApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXHQkLmVhY2goe1xuXHRcdHN3aXBlbGVmdDogXCJzd2lwZS5sZWZ0XCIsXG5cdFx0c3dpcGVyaWdodDogXCJzd2lwZS5yaWdodFwiXG5cdH0sIGZ1bmN0aW9uKCBldmVudCwgc291cmNlRXZlbnQgKSB7XG5cblx0XHQkLmV2ZW50LnNwZWNpYWxbIGV2ZW50IF0gPSB7XG5cdFx0XHRzZXR1cDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdCQoIHRoaXMgKS5iaW5kKCBzb3VyY2VFdmVudCwgJC5ub29wICk7XG5cdFx0XHR9LFxuXHRcdFx0dGVhcmRvd246IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHQkKCB0aGlzICkudW5iaW5kKCBzb3VyY2VFdmVudCApO1xuXHRcdFx0fVxuXHRcdH07XG5cdH0pO1xufSkoIGpRdWVyeSwgdGhpcyApO1xuKi9cblxuIWZ1bmN0aW9uKEZvdW5kYXRpb24sICQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICAvLyBFbGVtZW50cyB3aXRoIFtkYXRhLW9wZW5dIHdpbGwgcmV2ZWFsIGEgcGx1Z2luIHRoYXQgc3VwcG9ydHMgaXQgd2hlbiBjbGlja2VkLlxuICAkKGRvY3VtZW50KS5vbignY2xpY2suemYudHJpZ2dlcicsICdbZGF0YS1vcGVuXScsIGZ1bmN0aW9uKCkge1xuICAgIHZhciBpZCA9ICQodGhpcykuZGF0YSgnb3BlbicpO1xuICAgICQoJyMnICsgaWQpLnRyaWdnZXJIYW5kbGVyKCdvcGVuLnpmLnRyaWdnZXInLCBbJCh0aGlzKV0pO1xuICB9KTtcblxuICAvLyBFbGVtZW50cyB3aXRoIFtkYXRhLWNsb3NlXSB3aWxsIGNsb3NlIGEgcGx1Z2luIHRoYXQgc3VwcG9ydHMgaXQgd2hlbiBjbGlja2VkLlxuICAvLyBJZiB1c2VkIHdpdGhvdXQgYSB2YWx1ZSBvbiBbZGF0YS1jbG9zZV0sIHRoZSBldmVudCB3aWxsIGJ1YmJsZSwgYWxsb3dpbmcgaXQgdG8gY2xvc2UgYSBwYXJlbnQgY29tcG9uZW50LlxuICAkKGRvY3VtZW50KS5vbignY2xpY2suemYudHJpZ2dlcicsICdbZGF0YS1jbG9zZV0nLCBmdW5jdGlvbigpIHtcbiAgICB2YXIgaWQgPSAkKHRoaXMpLmRhdGEoJ2Nsb3NlJyk7XG4gICAgaWYgKGlkKSB7XG4gICAgICAkKCcjJyArIGlkKS50cmlnZ2VySGFuZGxlcignY2xvc2UuemYudHJpZ2dlcicsIFskKHRoaXMpXSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgJCh0aGlzKS50cmlnZ2VyKCdjbG9zZS56Zi50cmlnZ2VyJyk7XG4gICAgfVxuICB9KTtcblxuICAvLyBFbGVtZW50cyB3aXRoIFtkYXRhLXRvZ2dsZV0gd2lsbCB0b2dnbGUgYSBwbHVnaW4gdGhhdCBzdXBwb3J0cyBpdCB3aGVuIGNsaWNrZWQuXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljay56Zi50cmlnZ2VyJywgJ1tkYXRhLXRvZ2dsZV0nLCBmdW5jdGlvbigpIHtcbiAgICB2YXIgaWQgPSAkKHRoaXMpLmRhdGEoJ3RvZ2dsZScpO1xuICAgICQoJyMnICsgaWQpLnRyaWdnZXJIYW5kbGVyKCd0b2dnbGUuemYudHJpZ2dlcicsIFskKHRoaXMpXSk7XG4gIH0pO1xuXG4gIC8vIEVsZW1lbnRzIHdpdGggW2RhdGEtY2xvc2FibGVdIHdpbGwgcmVzcG9uZCB0byBjbG9zZS56Zi50cmlnZ2VyIGV2ZW50cy5cbiAgJChkb2N1bWVudCkub24oJ2Nsb3NlLnpmLnRyaWdnZXInLCAnW2RhdGEtY2xvc2FibGVdJywgZnVuY3Rpb24oKSB7XG4gICAgdmFyIGFuaW1hdGlvbiA9ICQodGhpcykuZGF0YSgnY2xvc2FibGUnKSB8fCAnZmFkZS1vdXQnO1xuICAgIGlmKEZvdW5kYXRpb24uTW90aW9uKXtcbiAgICAgIEZvdW5kYXRpb24uTW90aW9uLmFuaW1hdGVPdXQoJCh0aGlzKSwgYW5pbWF0aW9uLCBmdW5jdGlvbigpIHtcbiAgICAgICAgJCh0aGlzKS50cmlnZ2VyKCdjbG9zZWQuemYnKTtcbiAgICAgIH0pO1xuICAgIH1lbHNle1xuICAgICAgJCh0aGlzKS5mYWRlT3V0KCkudHJpZ2dlcignY2xvc2VkLnpmJyk7XG4gICAgfVxuICB9KTtcblxuICB2YXIgTXV0YXRpb25PYnNlcnZlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHByZWZpeGVzID0gWydXZWJLaXQnLCAnTW96JywgJ08nLCAnTXMnLCAnJ107XG4gICAgZm9yICh2YXIgaT0wOyBpIDwgcHJlZml4ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChwcmVmaXhlc1tpXSArICdNdXRhdGlvbk9ic2VydmVyJyBpbiB3aW5kb3cpIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvd1twcmVmaXhlc1tpXSArICdNdXRhdGlvbk9ic2VydmVyJ107XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSgpKTtcblxuXG4gIHZhciBjaGVja0xpc3RlbmVycyA9IGZ1bmN0aW9uKCl7XG4gICAgZXZlbnRzTGlzdGVuZXIoKTtcbiAgICByZXNpemVMaXN0ZW5lcigpO1xuICAgIHNjcm9sbExpc3RlbmVyKCk7XG4gICAgY2xvc2VtZUxpc3RlbmVyKCk7XG4gIH07XG4gIC8qKlxuICAqIEZpcmVzIG9uY2UgYWZ0ZXIgYWxsIG90aGVyIHNjcmlwdHMgaGF2ZSBsb2FkZWRcbiAgKiBAZnVuY3Rpb25cbiAgKiBAcHJpdmF0ZVxuICAqL1xuICAkKHdpbmRvdykubG9hZChmdW5jdGlvbigpe1xuICAgIGNoZWNrTGlzdGVuZXJzKCk7XG4gIH0pO1xuXG4gIC8vKioqKioqKiogb25seSBmaXJlcyB0aGlzIGZ1bmN0aW9uIG9uY2Ugb24gbG9hZCwgaWYgdGhlcmUncyBzb21ldGhpbmcgdG8gd2F0Y2ggKioqKioqKipcbiAgdmFyIGNsb3NlbWVMaXN0ZW5lciA9IGZ1bmN0aW9uKHBsdWdpbk5hbWUpe1xuICAgIHZhciB5ZXRpQm94ZXMgPSAkKCdbZGF0YS15ZXRpLWJveF0nKSxcbiAgICAgICAgcGx1Z05hbWVzID0gWydkcm9wZG93bicsICd0b29sdGlwJywgJ3JldmVhbCddO1xuXG4gICAgaWYocGx1Z2luTmFtZSl7XG4gICAgICBpZih0eXBlb2YgcGx1Z2luTmFtZSA9PT0gJ3N0cmluZycpe1xuICAgICAgICBwbHVnTmFtZXMucHVzaChwbHVnaW5OYW1lKTtcbiAgICAgIH1lbHNlIGlmKHR5cGVvZiBwbHVnaW5OYW1lID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgcGx1Z2luTmFtZVswXSA9PT0gJ3N0cmluZycpe1xuICAgICAgICBwbHVnTmFtZXMuY29uY2F0KHBsdWdpbk5hbWUpO1xuICAgICAgfWVsc2V7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1BsdWdpbiBuYW1lcyBtdXN0IGJlIHN0cmluZ3MnKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYoeWV0aUJveGVzLmxlbmd0aCl7XG4gICAgICB2YXIgbGlzdGVuZXJzID0gcGx1Z05hbWVzLm1hcChmdW5jdGlvbihuYW1lKXtcbiAgICAgICAgcmV0dXJuICdjbG9zZW1lLnpmLicgKyBuYW1lO1xuICAgICAgfSkuam9pbignICcpO1xuXG4gICAgICAkKHdpbmRvdykub2ZmKGxpc3RlbmVycykub24obGlzdGVuZXJzLCBmdW5jdGlvbihlLCBwbHVnaW5JZCl7XG4gICAgICAgIHZhciBwbHVnaW4gPSBlLm5hbWVzcGFjZS5zcGxpdCgnLicpWzBdO1xuICAgICAgICB2YXIgcGx1Z2lucyA9ICQoJ1tkYXRhLScgKyBwbHVnaW4gKyAnXScpLm5vdCgnW2RhdGEteWV0aS1ib3g9XCInICsgcGx1Z2luSWQgKyAnXCJdJyk7XG5cbiAgICAgICAgcGx1Z2lucy5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgdmFyIF90aGlzID0gJCh0aGlzKTtcblxuICAgICAgICAgIF90aGlzLnRyaWdnZXJIYW5kbGVyKCdjbG9zZS56Zi50cmlnZ2VyJywgW190aGlzXSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuICB2YXIgcmVzaXplTGlzdGVuZXIgPSBmdW5jdGlvbihkZWJvdW5jZSl7XG4gICAgdmFyIHRpbWVyLFxuICAgICAgICAkbm9kZXMgPSAkKCdbZGF0YS1yZXNpemVdJyk7XG4gICAgaWYoJG5vZGVzLmxlbmd0aCl7XG4gICAgICAkKHdpbmRvdykub2ZmKCdyZXNpemUuemYudHJpZ2dlcicpXG4gICAgICAub24oJ3Jlc2l6ZS56Zi50cmlnZ2VyJywgZnVuY3Rpb24oZSkge1xuICAgICAgICBpZiAodGltZXIpIHsgY2xlYXJUaW1lb3V0KHRpbWVyKTsgfVxuXG4gICAgICAgIHRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpe1xuXG4gICAgICAgICAgaWYoIU11dGF0aW9uT2JzZXJ2ZXIpey8vZmFsbGJhY2sgZm9yIElFIDlcbiAgICAgICAgICAgICRub2Rlcy5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICQodGhpcykudHJpZ2dlckhhbmRsZXIoJ3Jlc2l6ZW1lLnpmLnRyaWdnZXInKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvL3RyaWdnZXIgYWxsIGxpc3RlbmluZyBlbGVtZW50cyBhbmQgc2lnbmFsIGEgcmVzaXplIGV2ZW50XG4gICAgICAgICAgJG5vZGVzLmF0dHIoJ2RhdGEtZXZlbnRzJywgXCJyZXNpemVcIik7XG4gICAgICAgIH0sIGRlYm91bmNlIHx8IDEwKTsvL2RlZmF1bHQgdGltZSB0byBlbWl0IHJlc2l6ZSBldmVudFxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuICB2YXIgc2Nyb2xsTGlzdGVuZXIgPSBmdW5jdGlvbihkZWJvdW5jZSl7XG4gICAgdmFyIHRpbWVyLFxuICAgICAgICAkbm9kZXMgPSAkKCdbZGF0YS1zY3JvbGxdJyk7XG4gICAgaWYoJG5vZGVzLmxlbmd0aCl7XG4gICAgICAkKHdpbmRvdykub2ZmKCdzY3JvbGwuemYudHJpZ2dlcicpXG4gICAgICAub24oJ3Njcm9sbC56Zi50cmlnZ2VyJywgZnVuY3Rpb24oZSl7XG4gICAgICAgIGlmKHRpbWVyKXsgY2xlYXJUaW1lb3V0KHRpbWVyKTsgfVxuXG4gICAgICAgIHRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpe1xuXG4gICAgICAgICAgaWYoIU11dGF0aW9uT2JzZXJ2ZXIpey8vZmFsbGJhY2sgZm9yIElFIDlcbiAgICAgICAgICAgICRub2Rlcy5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICQodGhpcykudHJpZ2dlckhhbmRsZXIoJ3Njcm9sbG1lLnpmLnRyaWdnZXInKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvL3RyaWdnZXIgYWxsIGxpc3RlbmluZyBlbGVtZW50cyBhbmQgc2lnbmFsIGEgc2Nyb2xsIGV2ZW50XG4gICAgICAgICAgJG5vZGVzLmF0dHIoJ2RhdGEtZXZlbnRzJywgXCJzY3JvbGxcIik7XG4gICAgICAgIH0sIGRlYm91bmNlIHx8IDEwKTsvL2RlZmF1bHQgdGltZSB0byBlbWl0IHNjcm9sbCBldmVudFxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuICAvLyBmdW5jdGlvbiBkb21NdXRhdGlvbk9ic2VydmVyKGRlYm91bmNlKSB7XG4gIC8vICAgLy8gISEhIFRoaXMgaXMgY29taW5nIHNvb24gYW5kIG5lZWRzIG1vcmUgd29yazsgbm90IGFjdGl2ZSAgISEhIC8vXG4gIC8vICAgdmFyIHRpbWVyLFxuICAvLyAgIG5vZGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtbXV0YXRlXScpO1xuICAvLyAgIC8vXG4gIC8vICAgaWYgKG5vZGVzLmxlbmd0aCkge1xuICAvLyAgICAgLy8gdmFyIE11dGF0aW9uT2JzZXJ2ZXIgPSAoZnVuY3Rpb24gKCkge1xuICAvLyAgICAgLy8gICB2YXIgcHJlZml4ZXMgPSBbJ1dlYktpdCcsICdNb3onLCAnTycsICdNcycsICcnXTtcbiAgLy8gICAgIC8vICAgZm9yICh2YXIgaT0wOyBpIDwgcHJlZml4ZXMubGVuZ3RoOyBpKyspIHtcbiAgLy8gICAgIC8vICAgICBpZiAocHJlZml4ZXNbaV0gKyAnTXV0YXRpb25PYnNlcnZlcicgaW4gd2luZG93KSB7XG4gIC8vICAgICAvLyAgICAgICByZXR1cm4gd2luZG93W3ByZWZpeGVzW2ldICsgJ011dGF0aW9uT2JzZXJ2ZXInXTtcbiAgLy8gICAgIC8vICAgICB9XG4gIC8vICAgICAvLyAgIH1cbiAgLy8gICAgIC8vICAgcmV0dXJuIGZhbHNlO1xuICAvLyAgICAgLy8gfSgpKTtcbiAgLy9cbiAgLy9cbiAgLy8gICAgIC8vZm9yIHRoZSBib2R5LCB3ZSBuZWVkIHRvIGxpc3RlbiBmb3IgYWxsIGNoYW5nZXMgZWZmZWN0aW5nIHRoZSBzdHlsZSBhbmQgY2xhc3MgYXR0cmlidXRlc1xuICAvLyAgICAgdmFyIGJvZHlPYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGJvZHlNdXRhdGlvbik7XG4gIC8vICAgICBib2R5T2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5ib2R5LCB7IGF0dHJpYnV0ZXM6IHRydWUsIGNoaWxkTGlzdDogdHJ1ZSwgY2hhcmFjdGVyRGF0YTogZmFsc2UsIHN1YnRyZWU6dHJ1ZSwgYXR0cmlidXRlRmlsdGVyOltcInN0eWxlXCIsIFwiY2xhc3NcIl19KTtcbiAgLy9cbiAgLy9cbiAgLy8gICAgIC8vYm9keSBjYWxsYmFja1xuICAvLyAgICAgZnVuY3Rpb24gYm9keU11dGF0aW9uKG11dGF0ZSkge1xuICAvLyAgICAgICAvL3RyaWdnZXIgYWxsIGxpc3RlbmluZyBlbGVtZW50cyBhbmQgc2lnbmFsIGEgbXV0YXRpb24gZXZlbnRcbiAgLy8gICAgICAgaWYgKHRpbWVyKSB7IGNsZWFyVGltZW91dCh0aW1lcik7IH1cbiAgLy9cbiAgLy8gICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAvLyAgICAgICAgIGJvZHlPYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gIC8vICAgICAgICAgJCgnW2RhdGEtbXV0YXRlXScpLmF0dHIoJ2RhdGEtZXZlbnRzJyxcIm11dGF0ZVwiKTtcbiAgLy8gICAgICAgfSwgZGVib3VuY2UgfHwgMTUwKTtcbiAgLy8gICAgIH1cbiAgLy8gICB9XG4gIC8vIH1cbiAgdmFyIGV2ZW50c0xpc3RlbmVyID0gZnVuY3Rpb24oKSB7XG4gICAgaWYoIU11dGF0aW9uT2JzZXJ2ZXIpeyByZXR1cm4gZmFsc2U7IH1cbiAgICB2YXIgbm9kZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1yZXNpemVdLCBbZGF0YS1zY3JvbGxdLCBbZGF0YS1tdXRhdGVdJyk7XG5cbiAgICAvL2VsZW1lbnQgY2FsbGJhY2tcbiAgICB2YXIgbGlzdGVuaW5nRWxlbWVudHNNdXRhdGlvbiA9IGZ1bmN0aW9uKG11dGF0aW9uUmVjb3Jkc0xpc3QpIHtcbiAgICAgIHZhciAkdGFyZ2V0ID0gJChtdXRhdGlvblJlY29yZHNMaXN0WzBdLnRhcmdldCk7XG4gICAgICAvL3RyaWdnZXIgdGhlIGV2ZW50IGhhbmRsZXIgZm9yIHRoZSBlbGVtZW50IGRlcGVuZGluZyBvbiB0eXBlXG4gICAgICBzd2l0Y2ggKCR0YXJnZXQuYXR0cihcImRhdGEtZXZlbnRzXCIpKSB7XG5cbiAgICAgICAgY2FzZSBcInJlc2l6ZVwiIDpcbiAgICAgICAgJHRhcmdldC50cmlnZ2VySGFuZGxlcigncmVzaXplbWUuemYudHJpZ2dlcicsIFskdGFyZ2V0XSk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgXCJzY3JvbGxcIiA6XG4gICAgICAgICR0YXJnZXQudHJpZ2dlckhhbmRsZXIoJ3Njcm9sbG1lLnpmLnRyaWdnZXInLCBbJHRhcmdldCwgd2luZG93LnBhZ2VZT2Zmc2V0XSk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICAgIC8vIGNhc2UgXCJtdXRhdGVcIiA6XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdtdXRhdGUnLCAkdGFyZ2V0KTtcbiAgICAgICAgLy8gJHRhcmdldC50cmlnZ2VySGFuZGxlcignbXV0YXRlLnpmLnRyaWdnZXInKTtcbiAgICAgICAgLy9cbiAgICAgICAgLy8gLy9tYWtlIHN1cmUgd2UgZG9uJ3QgZ2V0IHN0dWNrIGluIGFuIGluZmluaXRlIGxvb3AgZnJvbSBzbG9wcHkgY29kZWluZ1xuICAgICAgICAvLyBpZiAoJHRhcmdldC5pbmRleCgnW2RhdGEtbXV0YXRlXScpID09ICQoXCJbZGF0YS1tdXRhdGVdXCIpLmxlbmd0aC0xKSB7XG4gICAgICAgIC8vICAgZG9tTXV0YXRpb25PYnNlcnZlcigpO1xuICAgICAgICAvLyB9XG4gICAgICAgIC8vIGJyZWFrO1xuXG4gICAgICAgIGRlZmF1bHQgOlxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIC8vbm90aGluZ1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmKG5vZGVzLmxlbmd0aCl7XG4gICAgICAvL2ZvciBlYWNoIGVsZW1lbnQgdGhhdCBuZWVkcyB0byBsaXN0ZW4gZm9yIHJlc2l6aW5nLCBzY3JvbGxpbmcsIChvciBjb21pbmcgc29vbiBtdXRhdGlvbikgYWRkIGEgc2luZ2xlIG9ic2VydmVyXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8PSBub2Rlcy5sZW5ndGgtMTsgaSsrKSB7XG4gICAgICAgIHZhciBlbGVtZW50T2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihsaXN0ZW5pbmdFbGVtZW50c011dGF0aW9uKTtcbiAgICAgICAgZWxlbWVudE9ic2VydmVyLm9ic2VydmUobm9kZXNbaV0sIHsgYXR0cmlidXRlczogdHJ1ZSwgY2hpbGRMaXN0OiBmYWxzZSwgY2hhcmFjdGVyRGF0YTogZmFsc2UsIHN1YnRyZWU6ZmFsc2UsIGF0dHJpYnV0ZUZpbHRlcjpbXCJkYXRhLWV2ZW50c1wiXX0pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gW1BIXVxuICAvLyBGb3VuZGF0aW9uLkNoZWNrV2F0Y2hlcnMgPSBjaGVja1dhdGNoZXJzO1xuICBGb3VuZGF0aW9uLklIZWFyWW91ID0gY2hlY2tMaXN0ZW5lcnM7XG4gIC8vIEZvdW5kYXRpb24uSVNlZVlvdSA9IHNjcm9sbExpc3RlbmVyO1xuICAvLyBGb3VuZGF0aW9uLklGZWVsWW91ID0gY2xvc2VtZUxpc3RlbmVyO1xuXG59KHdpbmRvdy5Gb3VuZGF0aW9uLCB3aW5kb3cualF1ZXJ5KTtcblxuIWZ1bmN0aW9uKEZvdW5kYXRpb24sICQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IGluc3RhbmNlIG9mIEFiaWRlLlxuICAgKiBAY2xhc3NcbiAgICogQGZpcmVzIEFiaWRlI2luaXRcbiAgICogQHBhcmFtIHtPYmplY3R9IGVsZW1lbnQgLSBqUXVlcnkgb2JqZWN0IHRvIGFkZCB0aGUgdHJpZ2dlciB0by5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBPdmVycmlkZXMgdG8gdGhlIGRlZmF1bHQgcGx1Z2luIHNldHRpbmdzLlxuICAgKi9cbiAgZnVuY3Rpb24gQWJpZGUoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHRoaXMuJGVsZW1lbnQgPSBlbGVtZW50O1xuICAgIHRoaXMub3B0aW9ucyAgPSAkLmV4dGVuZCh7fSwgQWJpZGUuZGVmYXVsdHMsIHRoaXMuJGVsZW1lbnQuZGF0YSgpLCBvcHRpb25zKTtcbiAgICB0aGlzLiR3aW5kb3cgID0gJCh3aW5kb3cpO1xuICAgIHRoaXMubmFtZSAgICAgPSAnQWJpZGUnO1xuICAgIHRoaXMuYXR0ciAgICAgPSAnZGF0YS1hYmlkZSc7XG5cbiAgICB0aGlzLl9pbml0KCk7XG4gICAgdGhpcy5fZXZlbnRzKCk7XG5cbiAgICBGb3VuZGF0aW9uLnJlZ2lzdGVyUGx1Z2luKHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIERlZmF1bHQgc2V0dGluZ3MgZm9yIHBsdWdpblxuICAgKi9cbiAgQWJpZGUuZGVmYXVsdHMgPSB7XG4gICAgdmFsaWRhdGVPbjogJ2ZpZWxkQ2hhbmdlJywgLy8gb3B0aW9uczogZmllbGRDaGFuZ2UsIG1hbnVhbCwgc3VibWl0XG4gICAgbGFiZWxFcnJvckNsYXNzOiAnaXMtaW52YWxpZC1sYWJlbCcsXG4gICAgaW5wdXRFcnJvckNsYXNzOiAnaXMtaW52YWxpZC1pbnB1dCcsXG4gICAgZm9ybUVycm9yU2VsZWN0b3I6ICcuZm9ybS1lcnJvcicsXG4gICAgZm9ybUVycm9yQ2xhc3M6ICdpcy12aXNpYmxlJyxcbiAgICBwYXR0ZXJuczoge1xuICAgICAgYWxwaGEgOiAvXlthLXpBLVpdKyQvLFxuICAgICAgYWxwaGFfbnVtZXJpYyA6IC9eW2EtekEtWjAtOV0rJC8sXG4gICAgICBpbnRlZ2VyIDogL15bLStdP1xcZCskLyxcbiAgICAgIG51bWJlciA6IC9eWy0rXT9cXGQqKD86W1xcLlxcLF1cXGQrKT8kLyxcblxuICAgICAgLy8gYW1leCwgdmlzYSwgZGluZXJzXG4gICAgICBjYXJkIDogL14oPzo0WzAtOV17MTJ9KD86WzAtOV17M30pP3w1WzEtNV1bMC05XXsxNH18Nig/OjAxMXw1WzAtOV1bMC05XSlbMC05XXsxMn18M1s0N11bMC05XXsxM318Myg/OjBbMC01XXxbNjhdWzAtOV0pWzAtOV17MTF9fCg/OjIxMzF8MTgwMHwzNVxcZHszfSlcXGR7MTF9KSQvLFxuICAgICAgY3Z2IDogL14oWzAtOV0pezMsNH0kLyxcblxuICAgICAgLy8gaHR0cDovL3d3dy53aGF0d2cub3JnL3NwZWNzL3dlYi1hcHBzL2N1cnJlbnQtd29yay9tdWx0aXBhZ2Uvc3RhdGVzLW9mLXRoZS10eXBlLWF0dHJpYnV0ZS5odG1sI3ZhbGlkLWUtbWFpbC1hZGRyZXNzXG4gICAgICBlbWFpbCA6IC9eW2EtekEtWjAtOS4hIyQlJicqK1xcLz0/Xl9ge3x9fi1dK0BbYS16QS1aMC05XSg/OlthLXpBLVowLTktXXswLDYxfVthLXpBLVowLTldKT8oPzpcXC5bYS16QS1aMC05XSg/OlthLXpBLVowLTktXXswLDYxfVthLXpBLVowLTldKT8pKyQvLFxuXG4gICAgICB1cmwgOiAvXihodHRwcz98ZnRwfGZpbGV8c3NoKTpcXC9cXC8oKCgoW2EtekEtWl18XFxkfC18XFwufF98fnxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSl8KCVbXFxkYS1mXXsyfSl8WyFcXCQmJ1xcKFxcKVxcKlxcKyw7PV18OikqQCk/KCgoXFxkfFsxLTldXFxkfDFcXGRcXGR8MlswLTRdXFxkfDI1WzAtNV0pXFwuKFxcZHxbMS05XVxcZHwxXFxkXFxkfDJbMC00XVxcZHwyNVswLTVdKVxcLihcXGR8WzEtOV1cXGR8MVxcZFxcZHwyWzAtNF1cXGR8MjVbMC01XSlcXC4oXFxkfFsxLTldXFxkfDFcXGRcXGR8MlswLTRdXFxkfDI1WzAtNV0pKXwoKChbYS16QS1aXXxcXGR8W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pfCgoW2EtekEtWl18XFxkfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKShbYS16QS1aXXxcXGR8LXxcXC58X3x+fFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSooW2EtekEtWl18XFxkfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSkpXFwuKSsoKFthLXpBLVpdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKXwoKFthLXpBLVpdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKShbYS16QS1aXXxcXGR8LXxcXC58X3x+fFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSooW2EtekEtWl18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKSlcXC4/KSg6XFxkKik/KShcXC8oKChbYS16QS1aXXxcXGR8LXxcXC58X3x+fFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKXwoJVtcXGRhLWZdezJ9KXxbIVxcJCYnXFwoXFwpXFwqXFwrLDs9XXw6fEApKyhcXC8oKFthLXpBLVpdfFxcZHwtfFxcLnxffH58W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pfCglW1xcZGEtZl17Mn0pfFshXFwkJidcXChcXClcXCpcXCssOz1dfDp8QCkqKSopPyk/KFxcPygoKFthLXpBLVpdfFxcZHwtfFxcLnxffH58W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pfCglW1xcZGEtZl17Mn0pfFshXFwkJidcXChcXClcXCpcXCssOz1dfDp8QCl8W1xcdUUwMDAtXFx1RjhGRl18XFwvfFxcPykqKT8oXFwjKCgoW2EtekEtWl18XFxkfC18XFwufF98fnxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSl8KCVbXFxkYS1mXXsyfSl8WyFcXCQmJ1xcKFxcKVxcKlxcKyw7PV18OnxAKXxcXC98XFw/KSopPyQvLFxuICAgICAgLy8gYWJjLmRlXG4gICAgICBkb21haW4gOiAvXihbYS16QS1aMC05XShbYS16QS1aMC05XFwtXXswLDYxfVthLXpBLVowLTldKT9cXC4pK1thLXpBLVpdezIsOH0kLyxcblxuICAgICAgZGF0ZXRpbWUgOiAvXihbMC0yXVswLTldezN9KVxcLShbMC0xXVswLTldKVxcLShbMC0zXVswLTldKVQoWzAtNV1bMC05XSlcXDooWzAtNV1bMC05XSlcXDooWzAtNV1bMC05XSkoWnwoW1xcLVxcK10oWzAtMV1bMC05XSlcXDowMCkpJC8sXG4gICAgICAvLyBZWVlZLU1NLUREXG4gICAgICBkYXRlIDogLyg/OjE5fDIwKVswLTldezJ9LSg/Oig/OjBbMS05XXwxWzAtMl0pLSg/OjBbMS05XXwxWzAtOV18MlswLTldKXwoPzooPyEwMikoPzowWzEtOV18MVswLTJdKS0oPzozMCkpfCg/Oig/OjBbMTM1NzhdfDFbMDJdKS0zMSkpJC8sXG4gICAgICAvLyBISDpNTTpTU1xuICAgICAgdGltZSA6IC9eKDBbMC05XXwxWzAtOV18MlswLTNdKSg6WzAtNV1bMC05XSl7Mn0kLyxcbiAgICAgIGRhdGVJU08gOiAvXlxcZHs0fVtcXC9cXC1dXFxkezEsMn1bXFwvXFwtXVxcZHsxLDJ9JC8sXG4gICAgICAvLyBNTS9ERC9ZWVlZXG4gICAgICBtb250aF9kYXlfeWVhciA6IC9eKDBbMS05XXwxWzAxMl0pWy0gXFwvLl0oMFsxLTldfFsxMl1bMC05XXwzWzAxXSlbLSBcXC8uXVxcZHs0fSQvLFxuICAgICAgLy8gREQvTU0vWVlZWVxuICAgICAgZGF5X21vbnRoX3llYXIgOiAvXigwWzEtOV18WzEyXVswLTldfDNbMDFdKVstIFxcLy5dKDBbMS05XXwxWzAxMl0pWy0gXFwvLl1cXGR7NH0kLyxcblxuICAgICAgLy8gI0ZGRiBvciAjRkZGRkZGXG4gICAgICBjb2xvciA6IC9eIz8oW2EtZkEtRjAtOV17Nn18W2EtZkEtRjAtOV17M30pJC9cbiAgICB9LFxuICAgIHZhbGlkYXRvcnM6IHtcbiAgICAgIGVxdWFsVG86IGZ1bmN0aW9uIChlbCwgcmVxdWlyZWQsIHBhcmVudCkge1xuICAgICAgICB2YXIgZnJvbSAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbC5nZXRBdHRyaWJ1dGUodGhpcy5hZGRfbmFtZXNwYWNlKCdkYXRhLWVxdWFsdG8nKSkpLnZhbHVlLFxuICAgICAgICAgICAgdG8gICAgPSBlbC52YWx1ZSxcbiAgICAgICAgICAgIHZhbGlkID0gKGZyb20gPT09IHRvKTtcblxuICAgICAgICByZXR1cm4gdmFsaWQ7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIHRoZSBBYmlkZSBwbHVnaW4gYW5kIGNhbGxzIGZ1bmN0aW9ucyB0byBnZXQgQWJpZGUgZnVuY3Rpb25pbmcgb24gbG9hZC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIEFiaWRlLnByb3RvdHlwZS5faW5pdCA9IGZ1bmN0aW9uKCkge1xuICB9O1xuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyBldmVudHMgZm9yIEFiaWRlLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgQWJpZGUucHJvdG90eXBlLl9ldmVudHMgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdGhpcy4kZWxlbWVudFxuICAgICAgLm9mZignLmFiaWRlJylcbiAgICAgIC5vbigncmVzZXQuZm5kdG4uYWJpZGUnLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIHNlbGYucmVzZXRGb3JtKCQodGhpcykpO1xuICAgICAgfSlcbiAgICAgIC5vbignc3VibWl0LmZuZHRuLmFiaWRlJywgZnVuY3Rpb24oZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHNlbGYudmFsaWRhdGVGb3JtKHNlbGYuJGVsZW1lbnQpO1xuICAgICAgfSlcbiAgICAgIC5maW5kKCdpbnB1dCwgdGV4dGFyZWEsIHNlbGVjdCcpXG4gICAgICAgIC5vZmYoJy5hYmlkZScpXG4gICAgICAgIC5vbignYmx1ci5mbmR0bi5hYmlkZSBjaGFuZ2UuZm5kdG4uYWJpZGUnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIGlmIChzZWxmLm9wdGlvbnMudmFsaWRhdGVPbiA9PT0gJ2ZpZWxkQ2hhbmdlJykge1xuICAgICAgICAgICAgc2VsZi52YWxpZGF0ZUlucHV0KCQoZS50YXJnZXQpLCBzZWxmLiRlbGVtZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gc2VsZi52YWxpZGF0ZUZvcm0oc2VsZi4kZWxlbWVudCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5vbigna2V5ZG93bi5mbmR0bi5hYmlkZScsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgLy8gaWYgKHNldHRpbmdzLmxpdmVfdmFsaWRhdGUgPT09IHRydWUgJiYgZS53aGljaCAhPSA5KSB7XG4gICAgICAgICAgLy8gICBjbGVhclRpbWVvdXQoc2VsZi50aW1lcik7XG4gICAgICAgICAgLy8gICBzZWxmLnRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgLy8gICAgIHNlbGYudmFsaWRhdGUoW3RoaXNdLCBlKTtcbiAgICAgICAgICAvLyAgIH0uYmluZCh0aGlzKSwgc2V0dGluZ3MudGltZW91dCk7XG4gICAgICAgICAgLy8gfVxuICAgICAgICAgIC8vIHNlbGYudmFsaWRhdGVGb3JtKHNlbGYuJGVsZW1lbnQpO1xuICAgICAgICB9KTtcblxuICB9LFxuICAvKipcbiAgICogQ2FsbHMgbmVjZXNzYXJ5IGZ1bmN0aW9ucyB0byB1cGRhdGUgQWJpZGUgdXBvbiBET00gY2hhbmdlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBBYmlkZS5wcm90b3R5cGUuX3JlZmxvdyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgfTtcbiAgLyoqXG4gICAqIENoZWNrcyB3aGV0aGVyIG9yIG5vdCBhIGZvcm0gZWxlbWVudCBoYXMgdGhlIHJlcXVpcmVkIGF0dHJpYnV0ZSBhbmQgaWYgaXQncyBjaGVja2VkIG9yIG5vdFxuICAgKiBAcGFyYW0ge09iamVjdH0gZWxlbWVudCAtIGpRdWVyeSBvYmplY3QgdG8gY2hlY2sgZm9yIHJlcXVpcmVkIGF0dHJpYnV0ZVxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gQm9vbGVhbiB2YWx1ZSBkZXBlbmRzIG9uIHdoZXRoZXIgb3Igbm90IGF0dHJpYnV0ZSBpcyBjaGVja2VkIG9yIGVtcHR5XG4gICAqL1xuICBBYmlkZS5wcm90b3R5cGUucmVxdWlyZWRDaGVjayA9IGZ1bmN0aW9uKCRlbCkge1xuICAgIHN3aXRjaCAoJGVsWzBdLnR5cGUpIHtcbiAgICAgIGNhc2UgJ3RleHQnOlxuICAgICAgICBpZiAoJGVsLmF0dHIoJ3JlcXVpcmVkJykgJiYgISRlbC52YWwoKSkge1xuICAgICAgICAgIC8vIHJlcXVpcmVtZW50IGNoZWNrIGRvZXMgbm90IHBhc3NcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdjaGVja2JveCc6XG4gICAgICAgIGlmICgkZWwuYXR0cigncmVxdWlyZWQnKSAmJiAhJGVsLmlzKCc6Y2hlY2tlZCcpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncmFkaW8nOlxuICAgICAgICBpZiAoJGVsLmF0dHIoJ3JlcXVpcmVkJykgJiYgISRlbC5pcygnOmNoZWNrZWQnKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmICgkZWwuYXR0cigncmVxdWlyZWQnKSAmJiAoISRlbC52YWwoKSB8fCAhJGVsLnZhbCgpLmxlbmd0aCB8fCAkZWwuaXMoJzplbXB0eScpKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIENoZWNrcyB3aGV0aGVyIG9yIG5vdCBhIGZvcm0gZWxlbWVudCBoYXMgdGhlIHJlcXVpcmVkIGF0dHJpYnV0ZSBhbmQgaWYgaXQncyBjaGVja2VkIG9yIG5vdFxuICAgKiBAcGFyYW0ge09iamVjdH0gZWxlbWVudCAtIGpRdWVyeSBvYmplY3QgdG8gY2hlY2sgZm9yIHJlcXVpcmVkIGF0dHJpYnV0ZVxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gQm9vbGVhbiB2YWx1ZSBkZXBlbmRzIG9uIHdoZXRoZXIgb3Igbm90IGF0dHJpYnV0ZSBpcyBjaGVja2VkIG9yIGVtcHR5XG4gICAqL1xuICBBYmlkZS5wcm90b3R5cGUuZmluZExhYmVsID0gZnVuY3Rpb24oJGVsKSB7XG4gICAgaWYgKCRlbC5uZXh0KCdsYWJlbCcpLmxlbmd0aCkge1xuICAgICAgcmV0dXJuICRlbC5uZXh0KCdsYWJlbCcpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHJldHVybiAkZWwuY2xvc2VzdCgnbGFiZWwnKTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBBZGRzIHRoZSBDU1MgZXJyb3IgY2xhc3MgYXMgc3BlY2lmaWVkIGJ5IHRoZSBBYmlkZSBzZXR0aW5ncyB0byB0aGUgbGFiZWwsIGlucHV0LCBhbmQgdGhlIGZvcm1cbiAgICogQHBhcmFtIHtPYmplY3R9IGVsZW1lbnQgLSBqUXVlcnkgb2JqZWN0IHRvIGFkZCB0aGUgY2xhc3MgdG9cbiAgICovXG4gIEFiaWRlLnByb3RvdHlwZS5hZGRFcnJvckNsYXNzZXMgPSBmdW5jdGlvbigkZWwpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgICRsYWJlbCA9IHNlbGYuZmluZExhYmVsKCRlbCksXG4gICAgICAgICRmb3JtRXJyb3IgPSAkZWwubmV4dChzZWxmLm9wdGlvbnMuZm9ybUVycm9yU2VsZWN0b3IpIHx8ICRlbC5maW5kKHNlbGYub3B0aW9ucy5mb3JtRXJyb3JTZWxlY3Rvcik7XG5cbiAgICAvLyBsYWJlbFxuICAgIGlmICgkbGFiZWwpIHtcbiAgICAgICRsYWJlbC5hZGRDbGFzcyhzZWxmLm9wdGlvbnMubGFiZWxFcnJvckNsYXNzKTtcbiAgICB9XG4gICAgLy8gZm9ybSBlcnJvclxuICAgIGlmICgkZm9ybUVycm9yKSB7XG4gICAgICAkZm9ybUVycm9yLmFkZENsYXNzKHNlbGYub3B0aW9ucy5mb3JtRXJyb3JDbGFzcyk7XG4gICAgfVxuICAgIC8vIGlucHV0XG4gICAgJGVsLmFkZENsYXNzKHNlbGYub3B0aW9ucy5pbnB1dEVycm9yQ2xhc3MpO1xuICB9O1xuICAvKipcbiAgICogUmVtb3ZlcyBDU1MgZXJyb3IgY2xhc3MgYXMgc3BlY2lmaWVkIGJ5IHRoZSBBYmlkZSBzZXR0aW5ncyBmcm9tIHRoZSBsYWJlbCwgaW5wdXQsIGFuZCB0aGUgZm9ybVxuICAgKiBAcGFyYW0ge09iamVjdH0gZWxlbWVudCAtIGpRdWVyeSBvYmplY3QgdG8gcmVtb3ZlIHRoZSBjbGFzcyBmcm9tXG4gICAqL1xuICBBYmlkZS5wcm90b3R5cGUucmVtb3ZlRXJyb3JDbGFzc2VzID0gZnVuY3Rpb24oJGVsKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICAkbGFiZWwgPSBzZWxmLmZpbmRMYWJlbCgkZWwpLFxuICAgICAgICAkZm9ybUVycm9yID0gJGVsLm5leHQoc2VsZi5vcHRpb25zLmZvcm1FcnJvclNlbGVjdG9yKSB8fCAkZWwuZmluZChzZWxmLm9wdGlvbnMuZm9ybUVycm9yU2VsZWN0b3IpO1xuICAgIC8vIGxhYmVsXG4gICAgaWYgKCRsYWJlbCAmJiAkbGFiZWwuaGFzQ2xhc3Moc2VsZi5vcHRpb25zLmxhYmVsRXJyb3JDbGFzcykpIHtcbiAgICAgICRsYWJlbC5yZW1vdmVDbGFzcyhzZWxmLm9wdGlvbnMubGFiZWxFcnJvckNsYXNzKTtcbiAgICB9XG4gICAgLy8gZm9ybSBlcnJvclxuICAgIGlmICgkZm9ybUVycm9yICYmICRmb3JtRXJyb3IuaGFzQ2xhc3Moc2VsZi5vcHRpb25zLmZvcm1FcnJvckNsYXNzKSkge1xuICAgICAgJGZvcm1FcnJvci5yZW1vdmVDbGFzcyhzZWxmLm9wdGlvbnMuZm9ybUVycm9yQ2xhc3MpO1xuICAgIH1cbiAgICAvLyBpbnB1dFxuICAgIGlmICgkZWwuaGFzQ2xhc3Moc2VsZi5vcHRpb25zLmlucHV0RXJyb3JDbGFzcykpIHtcbiAgICAgICRlbC5yZW1vdmVDbGFzcyhzZWxmLm9wdGlvbnMuaW5wdXRFcnJvckNsYXNzKTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBHb2VzIHRocm91Z2ggYSBmb3JtIHRvIGZpbmQgaW5wdXRzIGFuZCBwcm9jZWVkcyB0byB2YWxpZGF0ZSB0aGVtIGluIHdheXMgc3BlY2lmaWMgdG8gdGhlaXIgdHlwZVxuICAgKiBAZmlyZXMgQWJpZGUjaW52YWxpZFxuICAgKiBAZmlyZXMgQWJpZGUjdmFsaWRcbiAgICogQHBhcmFtIHtPYmplY3R9IGVsZW1lbnQgLSBqUXVlcnkgb2JqZWN0IHRvIHZhbGlkYXRlLCBzaG91bGQgYmUgYW4gSFRNTCBpbnB1dFxuICAgKiBAcGFyYW0ge09iamVjdH0gZm9ybSAtIGpRdWVyeSBvYmplY3Qgb2YgdGhlIGVudGlyZSBmb3JtIHRvIGZpbmQgdGhlIHZhcmlvdXMgaW5wdXQgZWxlbWVudHNcbiAgICovXG4gIEFiaWRlLnByb3RvdHlwZS52YWxpZGF0ZUlucHV0ID0gZnVuY3Rpb24oJGVsLCAkZm9ybSkge1xuICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgdGV4dElucHV0ID0gJGZvcm0uZmluZCgnaW5wdXRbdHlwZT1cInRleHRcIl0nKSxcbiAgICAgICAgY2hlY2tJbnB1dCA9ICRmb3JtLmZpbmQoJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXScpLFxuICAgICAgICBsYWJlbCxcbiAgICAgICAgcmFkaW9Hcm91cE5hbWU7XG5cbiAgICBpZiAoJGVsWzBdLnR5cGUgPT09ICd0ZXh0Jykge1xuICAgICAgaWYgKCFzZWxmLnJlcXVpcmVkQ2hlY2soJGVsKSB8fCAhc2VsZi52YWxpZGF0ZVRleHQoJGVsKSkge1xuICAgICAgICBzZWxmLmFkZEVycm9yQ2xhc3NlcygkZWwpO1xuICAgICAgICAkZWwudHJpZ2dlcignaW52YWxpZC5mbmR0bi5hYmlkZScsICRlbFswXSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgc2VsZi5yZW1vdmVFcnJvckNsYXNzZXMoJGVsKTtcbiAgICAgICAgJGVsLnRyaWdnZXIoJ3ZhbGlkLmZuZHRuLmFiaWRlJywgJGVsWzBdKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoJGVsWzBdLnR5cGUgPT09ICdyYWRpbycpIHtcbiAgICAgIHJhZGlvR3JvdXBOYW1lID0gJGVsLmF0dHIoJ25hbWUnKTtcbiAgICAgIGxhYmVsID0gJGVsLnNpYmxpbmdzKCdsYWJlbCcpO1xuXG4gICAgICBpZiAoc2VsZi52YWxpZGF0ZVJhZGlvKHJhZGlvR3JvdXBOYW1lKSkge1xuICAgICAgICAkKGxhYmVsKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKHNlbGYub3B0aW9ucy5sYWJlbEVycm9yQ2xhc3MpKSB7XG4gICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKHNlbGYub3B0aW9ucy5sYWJlbEVycm9yQ2xhc3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgICRlbC50cmlnZ2VyKCd2YWxpZC5mbmR0bi5hYmlkZScsICRlbFswXSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgJChsYWJlbCkuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKHNlbGYub3B0aW9ucy5sYWJlbEVycm9yQ2xhc3MpO1xuICAgICAgICB9KTtcbiAgICAgICAgJGVsLnRyaWdnZXIoJ2ludmFsaWQuZm5kdG4uYWJpZGUnLCAkZWxbMF0pO1xuICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAoJGVsWzBdLnR5cGUgPT09ICdjaGVja2JveCcpIHtcbiAgICAgIGlmICghc2VsZi5yZXF1aXJlZENoZWNrKCRlbCkpIHtcbiAgICAgICAgc2VsZi5hZGRFcnJvckNsYXNzZXMoJGVsKTtcbiAgICAgICAgJGVsLnRyaWdnZXIoJ2ludmFsaWQuZm5kdG4uYWJpZGUnLCAkZWxbMF0pO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHNlbGYucmVtb3ZlRXJyb3JDbGFzc2VzKCRlbCk7XG4gICAgICAgICRlbC50cmlnZ2VyKCd2YWxpZC5mbmR0bi5hYmlkZScsICRlbFswXSk7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgaWYgKCFzZWxmLnJlcXVpcmVkQ2hlY2soJGVsKSB8fCAhc2VsZi52YWxpZGF0ZVRleHQoJGVsKSkge1xuICAgICAgICBzZWxmLmFkZEVycm9yQ2xhc3NlcygkZWwpO1xuICAgICAgICAkZWwudHJpZ2dlcignaW52YWxpZC5mbmR0bi5hYmlkZScsICRlbFswXSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgc2VsZi5yZW1vdmVFcnJvckNsYXNzZXMoJGVsKTtcbiAgICAgICAgJGVsLnRyaWdnZXIoJ3ZhbGlkLmZuZHRuLmFiaWRlJywgJGVsWzBdKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBHb2VzIHRocm91Z2ggYSBmb3JtIGFuZCBpZiB0aGVyZSBhcmUgYW55IGludmFsaWQgaW5wdXRzLCBpdCB3aWxsIGRpc3BsYXkgdGhlIGZvcm0gZXJyb3IgZWxlbWVudFxuICAgKiBAcGFyYW0ge09iamVjdH0gZWxlbWVudCAtIGpRdWVyeSBvYmplY3QgdG8gdmFsaWRhdGUsIHNob3VsZCBiZSBhIGZvcm0gSFRNTCBlbGVtZW50XG4gICAqL1xuICBBYmlkZS5wcm90b3R5cGUudmFsaWRhdGVGb3JtID0gZnVuY3Rpb24oJGZvcm0pIHtcbiAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgIGlucHV0cyA9ICRmb3JtLmZpbmQoJ2lucHV0JyksXG4gICAgICAgIGlucHV0Q291bnQgPSAkZm9ybS5maW5kKCdpbnB1dCcpLmxlbmd0aCxcbiAgICAgICAgY291bnRlciA9IDA7XG5cbiAgICB3aGlsZSAoY291bnRlciA8IGlucHV0Q291bnQpIHtcbiAgICAgIHNlbGYudmFsaWRhdGVJbnB1dCgkKGlucHV0c1tjb3VudGVyXSksICRmb3JtKTtcbiAgICAgIGNvdW50ZXIrKztcbiAgICB9XG5cbiAgICAvLyB3aGF0IGFyZSBhbGwgdGhlIHRoaW5ncyB0aGF0IGNhbiBnbyB3cm9uZyB3aXRoIGEgZm9ybT9cbiAgICBpZiAoJGZvcm0uZmluZCgnLmZvcm0tZXJyb3IuaXMtdmlzaWJsZScpLmxlbmd0aCB8fCAkZm9ybS5maW5kKCcuaXMtaW52YWxpZC1sYWJlbCcpLmxlbmd0aCkge1xuICAgICAgJGZvcm0uZmluZCgnW2RhdGEtYWJpZGUtZXJyb3JdJykuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgJGZvcm0uZmluZCgnW2RhdGEtYWJpZGUtZXJyb3JdJykuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgb3IgYSBub3QgYSB0ZXh0IGlucHV0IGlzIHZhbGlkIGJhc2VkIG9uIHRoZSBwYXR0ZXJucyBzcGVjaWZpZWQgaW4gdGhlIGF0dHJpYnV0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gZWxlbWVudCAtIGpRdWVyeSBvYmplY3QgdG8gdmFsaWRhdGUsIHNob3VsZCBiZSBhIHRleHQgaW5wdXQgSFRNTCBlbGVtZW50XG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBCb29sZWFuIHZhbHVlIGRlcGVuZHMgb24gd2hldGhlciBvciBub3QgdGhlIGlucHV0IHZhbHVlIG1hdGNoZXMgdGhlIHBhdHRlcm4gc3BlY2lmaWVkXG4gICAqL1xuICBBYmlkZS5wcm90b3R5cGUudmFsaWRhdGVUZXh0ID0gZnVuY3Rpb24oJGVsKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICB2YWxpZCA9IGZhbHNlLFxuICAgICAgICBwYXR0ZXJuTGliID0gdGhpcy5vcHRpb25zLnBhdHRlcm5zLFxuICAgICAgICBpbnB1dFRleHQgPSAkKCRlbCkudmFsKCksXG4gICAgICAgIC8vIG1heWJlIGhhdmUgYSBkaWZmZXJlbnQgd2F5IG9mIHBhcnNpbmcgdGhpcyBiYyBwZW9wbGUgbWlnaHQgdXNlIHR5cGVcbiAgICAgICAgcGF0dGVybiA9ICQoJGVsKS5hdHRyKCdwYXR0ZXJuJyk7XG5cbiAgICAvLyBpZiB0aGVyZSdzIG5vIHZhbHVlLCB0aGVuIHJldHVybiB0cnVlXG4gICAgLy8gc2luY2UgcmVxdWlyZWQgY2hlY2sgaGFzIGFscmVhZHkgYmVlbiBkb25lXG4gICAgaWYgKGlucHV0VGV4dC5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGlmIChpbnB1dFRleHQubWF0Y2gocGF0dGVybkxpYltwYXR0ZXJuXSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIERldGVybWluZXMgd2hldGhlciBvciBhIG5vdCBhIHJhZGlvIGlucHV0IGlzIHZhbGlkIGJhc2VkIG9uIHdoZXRoZXIgb3Igbm90IGl0IGlzIHJlcXVpcmVkIGFuZCBzZWxlY3RlZFxuICAgKiBAcGFyYW0ge1N0cmluZ30gZ3JvdXAgLSBBIHN0cmluZyB0aGF0IHNwZWNpZmllcyB0aGUgbmFtZSBvZiBhIHJhZGlvIGJ1dHRvbiBncm91cFxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gQm9vbGVhbiB2YWx1ZSBkZXBlbmRzIG9uIHdoZXRoZXIgb3Igbm90IGF0IGxlYXN0IG9uZSByYWRpbyBpbnB1dCBoYXMgYmVlbiBzZWxlY3RlZCAoaWYgaXQncyByZXF1aXJlZClcbiAgICovXG4gIEFiaWRlLnByb3RvdHlwZS52YWxpZGF0ZVJhZGlvID0gZnVuY3Rpb24oZ3JvdXApIHtcbiAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgIGxhYmVscyA9ICQoJzpyYWRpb1tuYW1lPVwiJyArIGdyb3VwICsgJ1wiXScpLnNpYmxpbmdzKCdsYWJlbCcpLFxuICAgICAgICBjb3VudGVyID0gMDtcbiAgICAvLyBnbyB0aHJvdWdoIGVhY2ggcmFkaW8gYnV0dG9uXG4gICAgJCgnOnJhZGlvW25hbWU9XCInICsgZ3JvdXAgKyAnXCJdJykuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgIC8vIHB1dCB0aGVtIHRocm91Z2ggdGhlIHJlcXVpcmVkIGNoZWNrcG9pbnRcbiAgICAgIGlmICghc2VsZi5yZXF1aXJlZENoZWNrKCQodGhpcykpKSB7XG4gICAgICAgIC8vIGlmIGF0IGxlYXN0IG9uZSBkb2Vzbid0IHBhc3MsIGFkZCBhIHRhbGx5IHRvIHRoZSBjb3VudGVyXG4gICAgICAgIGNvdW50ZXIrKztcbiAgICAgIH1cbiAgICAgIC8vIGlmIGF0IGxlYXN0IG9uZSBpcyBjaGVja2VkXG4gICAgICAvLyByZXNldCB0aGUgY291bnRlclxuICAgICAgaWYgKCQodGhpcykuaXMoJzpjaGVja2VkJykpIHtcbiAgICAgICAgY291bnRlciA9IDA7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoY291bnRlciA+IDApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH07XG4gIEFiaWRlLnByb3RvdHlwZS5tYXRjaFZhbGlkYXRpb24gPSBmdW5jdGlvbih2YWwsIHZhbGlkYXRpb24pIHtcblxuICB9O1xuICAvKipcbiAgICogUmVzZXRzIGZvcm0gaW5wdXRzIGFuZCBzdHlsZXNcbiAgICogQHBhcmFtIHtPYmplY3R9ICRmb3JtIC0gQSBqUXVlcnkgb2JqZWN0IHRoYXQgc2hvdWxkIGJlIGFuIEhUTUwgZm9ybSBlbGVtZW50XG4gICAqL1xuICBBYmlkZS5wcm90b3R5cGUucmVzZXRGb3JtID0gZnVuY3Rpb24oJGZvcm0pIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIGludmFsaWRBdHRyID0gJ2RhdGEtaW52YWxpZCc7XG4gICAgLy8gcmVtb3ZlIGRhdGEgYXR0cmlidXRlc1xuICAgICQoJ1snICsgc2VsZi5pbnZhbGlkQXR0ciArICddJywgJGZvcm0pLnJlbW92ZUF0dHIoaW52YWxpZEF0dHIpO1xuICAgIC8vIHJlbW92ZSBzdHlsZXNcbiAgICAkKCcuJyArIHNlbGYub3B0aW9ucy5sYWJlbEVycm9yQ2xhc3MsICRmb3JtKS5ub3QoJ3NtYWxsJykucmVtb3ZlQ2xhc3Moc2VsZi5vcHRpb25zLmxhYmVsRXJyb3JDbGFzcyk7XG4gICAgJCgnLicgKyBzZWxmLm9wdGlvbnMuaW5wdXRFcnJvckNsYXNzLCAkZm9ybSkubm90KCdzbWFsbCcpLnJlbW92ZUNsYXNzKHNlbGYub3B0aW9ucy5pbnB1dEVycm9yQ2xhc3MpO1xuICAgICQoJy5mb3JtLWVycm9yLmlzLXZpc2libGUnKS5yZW1vdmVDbGFzcygnaXMtdmlzaWJsZScpO1xuICAgICRmb3JtLmZpbmQoJ1tkYXRhLWFiaWRlLWVycm9yXScpLmNzcygnZGlzcGxheScsICdub25lJyk7XG4gICAgJCgnOmlucHV0JywgJGZvcm0pLm5vdCgnOmJ1dHRvbiwgOnN1Ym1pdCwgOnJlc2V0LCA6aGlkZGVuLCBbZGF0YS1hYmlkZS1pZ25vcmVdJykudmFsKCcnKS5yZW1vdmVBdHRyKGludmFsaWRBdHRyKTtcbiAgfTtcbiAgQWJpZGUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpe1xuICAgIC8vVE9ETyB0aGlzLi4uXG4gIH07XG5cbiAgRm91bmRhdGlvbi5wbHVnaW4oQWJpZGUsICdBYmlkZScpO1xuXG4gIC8vIEV4cG9ydHMgZm9yIEFNRC9Ccm93c2VyaWZ5XG4gIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgbW9kdWxlLmV4cG9ydHMgIT09ICd1bmRlZmluZWQnKVxuICAgIG1vZHVsZS5leHBvcnRzID0gQWJpZGU7XG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nKVxuICAgIGRlZmluZShbJ2ZvdW5kYXRpb24nXSwgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gQWJpZGU7XG4gICAgfSk7XG5cbn0oRm91bmRhdGlvbiwgalF1ZXJ5KTtcblxuLyoqXG4gKiBBY2NvcmRpb24gbW9kdWxlLlxuICogQG1vZHVsZSBmb3VuZGF0aW9uLmFjY29yZGlvblxuICogQHJlcXVpcmVzIGZvdW5kYXRpb24udXRpbC5rZXlib2FyZFxuICogQHJlcXVpcmVzIGZvdW5kYXRpb24udXRpbC5tb3Rpb25cbiAqL1xuIWZ1bmN0aW9uKCQsIEZvdW5kYXRpb24pIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IGluc3RhbmNlIG9mIGFuIGFjY29yZGlvbi5cbiAgICogQGNsYXNzXG4gICAqIEBmaXJlcyBBY2NvcmRpb24jaW5pdFxuICAgKiBAcGFyYW0ge2pRdWVyeX0gZWxlbWVudCAtIGpRdWVyeSBvYmplY3QgdG8gbWFrZSBpbnRvIGFuIGFjY29yZGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIEFjY29yZGlvbihlbGVtZW50LCBvcHRpb25zKXtcbiAgICB0aGlzLiRlbGVtZW50ID0gZWxlbWVudDtcbiAgICB0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgQWNjb3JkaW9uLmRlZmF1bHRzLCB0aGlzLiRlbGVtZW50LmRhdGEoKSwgb3B0aW9ucyk7XG5cbiAgICB0aGlzLl9pbml0KCk7XG5cbiAgICBGb3VuZGF0aW9uLnJlZ2lzdGVyUGx1Z2luKHRoaXMpO1xuICAgIEZvdW5kYXRpb24uS2V5Ym9hcmQucmVnaXN0ZXIoJ0FjY29yZGlvbicsIHtcbiAgICAgICdFTlRFUic6ICd0b2dnbGUnLFxuICAgICAgJ1NQQUNFJzogJ3RvZ2dsZScsXG4gICAgICAnQVJST1dfRE9XTic6ICduZXh0JyxcbiAgICAgICdBUlJPV19VUCc6ICdwcmV2aW91cydcbiAgICB9KTtcbiAgfVxuXG4gIEFjY29yZGlvbi5kZWZhdWx0cyA9IHtcbiAgICAvKipcbiAgICAgKiBBbW91bnQgb2YgdGltZSB0byBhbmltYXRlIHRoZSBvcGVuaW5nIG9mIGFuIGFjY29yZGlvbiBwYW5lLlxuICAgICAqIEBvcHRpb25cbiAgICAgKiBAZXhhbXBsZSAyNTBcbiAgICAgKi9cbiAgICBzbGlkZVNwZWVkOiAyNTAsXG4gICAgLyoqXG4gICAgICogQWxsb3cgdGhlIGFjY29yZGlvbiB0byBoYXZlIG11bHRpcGxlIG9wZW4gcGFuZXMuXG4gICAgICogQG9wdGlvblxuICAgICAqIEBleGFtcGxlIGZhbHNlXG4gICAgICovXG4gICAgbXVsdGlFeHBhbmQ6IGZhbHNlLFxuICAgIC8qKlxuICAgICAqIEFsbG93IHRoZSBhY2NvcmRpb24gdG8gY2xvc2UgYWxsIHBhbmVzLlxuICAgICAqIEBvcHRpb25cbiAgICAgKiBAZXhhbXBsZSBmYWxzZVxuICAgICAqL1xuICAgIGFsbG93QWxsQ2xvc2VkOiBmYWxzZVxuICB9O1xuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyB0aGUgYWNjb3JkaW9uIGJ5IGFuaW1hdGluZyB0aGUgcHJlc2V0IGFjdGl2ZSBwYW5lKHMpLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgQWNjb3JkaW9uLnByb3RvdHlwZS5faW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuJGVsZW1lbnQuYXR0cigncm9sZScsICd0YWJsaXN0Jyk7XG4gICAgdGhpcy4kdGFicyA9IHRoaXMuJGVsZW1lbnQuY2hpbGRyZW4oJ2xpJyk7XG4gICAgdGhpcy4kdGFicy5lYWNoKGZ1bmN0aW9uKGlkeCwgZWwpe1xuXG4gICAgICB2YXIgJGVsID0gJChlbCksXG4gICAgICAgICAgJGNvbnRlbnQgPSAkZWwuZmluZCgnW2RhdGEtdGFiLWNvbnRlbnRdJyksXG4gICAgICAgICAgaWQgPSAkY29udGVudFswXS5pZCB8fCBGb3VuZGF0aW9uLkdldFlvRGlnaXRzKDYsICdhY2NvcmRpb24nKSxcbiAgICAgICAgICBsaW5rSWQgPSBlbC5pZCB8fCBpZCArICctbGFiZWwnO1xuXG4gICAgICAkZWwuZmluZCgnYTpmaXJzdCcpLmF0dHIoe1xuICAgICAgICAnYXJpYS1jb250cm9scyc6IGlkLFxuICAgICAgICAncm9sZSc6ICd0YWInLFxuICAgICAgICAnaWQnOiBsaW5rSWQsXG4gICAgICAgICdhcmlhLWV4cGFuZGVkJzogZmFsc2UsXG4gICAgICAgICdhcmlhLXNlbGVjdGVkJzogZmFsc2VcbiAgICAgIH0pO1xuICAgICAgJGNvbnRlbnQuYXR0cih7J3JvbGUnOiAndGFicGFuZWwnLCAnYXJpYS1sYWJlbGxlZGJ5JzogbGlua0lkLCAnYXJpYS1oaWRkZW4nOiB0cnVlLCAnaWQnOiBpZH0pO1xuICAgIH0pO1xuICAgIHZhciAkaW5pdEFjdGl2ZSA9IHRoaXMuJGVsZW1lbnQuZmluZCgnLmlzLWFjdGl2ZScpLmNoaWxkcmVuKCdbZGF0YS10YWItY29udGVudF0nKTtcbiAgICBpZigkaW5pdEFjdGl2ZS5sZW5ndGgpe1xuICAgICAgdGhpcy5kb3duKCRpbml0QWN0aXZlLCB0cnVlKTtcbiAgICB9XG4gICAgdGhpcy5fZXZlbnRzKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEFkZHMgZXZlbnQgaGFuZGxlcnMgZm9yIGl0ZW1zIHdpdGhpbiB0aGUgYWNjb3JkaW9uLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgQWNjb3JkaW9uLnByb3RvdHlwZS5fZXZlbnRzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHRoaXMuJHRhYnMuZWFjaChmdW5jdGlvbigpe1xuICAgICAgdmFyICRlbGVtID0gJCh0aGlzKTtcbiAgICAgIHZhciAkdGFiQ29udGVudCA9ICRlbGVtLmNoaWxkcmVuKCdbZGF0YS10YWItY29udGVudF0nKTtcbiAgICAgIGlmICgkdGFiQ29udGVudC5sZW5ndGgpIHtcbiAgICAgICAgJGVsZW0uY2hpbGRyZW4oJ2EnKS5vZmYoJ2NsaWNrLnpmLmFjY29yZGlvbiBrZXlkb3duLnpmLmFjY29yZGlvbicpXG4gICAgICAgICAgICAgICAub24oJ2NsaWNrLnpmLmFjY29yZGlvbicsIGZ1bmN0aW9uKGUpe1xuICAgICAgICAvLyAkKHRoaXMpLmNoaWxkcmVuKCdhJykub24oJ2NsaWNrLnpmLmFjY29yZGlvbicsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgaWYgKCRlbGVtLmhhc0NsYXNzKCdpcy1hY3RpdmUnKSkge1xuICAgICAgICAgICAgaWYoX3RoaXMub3B0aW9ucy5hbGxvd0FsbENsb3NlZCB8fCAkZWxlbS5zaWJsaW5ncygpLmhhc0NsYXNzKCdpcy1hY3RpdmUnKSl7XG4gICAgICAgICAgICAgIF90aGlzLnVwKCR0YWJDb250ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBfdGhpcy5kb3duKCR0YWJDb250ZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pLm9uKCdrZXlkb3duLnpmLmFjY29yZGlvbicsIGZ1bmN0aW9uKGUpe1xuICAgICAgICAgIEZvdW5kYXRpb24uS2V5Ym9hcmQuaGFuZGxlS2V5KGUsIF90aGlzLCB7XG4gICAgICAgICAgICB0b2dnbGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBfdGhpcy50b2dnbGUoJHRhYkNvbnRlbnQpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG5leHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAkZWxlbS5uZXh0KCkuZmluZCgnYScpLmZvY3VzKCkudHJpZ2dlcignY2xpY2suemYuYWNjb3JkaW9uJyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcHJldmlvdXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAkZWxlbS5wcmV2KCkuZmluZCgnYScpLmZvY3VzKCkudHJpZ2dlcignY2xpY2suemYuYWNjb3JkaW9uJyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaGFuZGxlZDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG4gIC8qKlxuICAgKiBUb2dnbGVzIHRoZSBzZWxlY3RlZCBjb250ZW50IHBhbmUncyBvcGVuL2Nsb3NlIHN0YXRlLlxuICAgKiBAcGFyYW0ge2pRdWVyeX0gJHRhcmdldCAtIGpRdWVyeSBvYmplY3Qgb2YgdGhlIHBhbmUgdG8gdG9nZ2xlLlxuICAgKiBAZnVuY3Rpb25cbiAgICovXG4gIEFjY29yZGlvbi5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24oJHRhcmdldCl7XG4gICAgaWYoJHRhcmdldC5wYXJlbnQoKS5oYXNDbGFzcygnaXMtYWN0aXZlJykpe1xuICAgICAgaWYodGhpcy5vcHRpb25zLmFsbG93QWxsQ2xvc2VkIHx8ICR0YXJnZXQucGFyZW50KCkuc2libGluZ3MoKS5oYXNDbGFzcygnaXMtYWN0aXZlJykpe1xuICAgICAgICB0aGlzLnVwKCR0YXJnZXQpO1xuICAgICAgfWVsc2V7IHJldHVybjsgfVxuICAgIH1lbHNle1xuICAgICAgdGhpcy5kb3duKCR0YXJnZXQpO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIE9wZW5zIHRoZSBhY2NvcmRpb24gdGFiIGRlZmluZWQgYnkgYCR0YXJnZXRgLlxuICAgKiBAcGFyYW0ge2pRdWVyeX0gJHRhcmdldCAtIEFjY29yZGlvbiBwYW5lIHRvIG9wZW4uXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gZmlyc3RUaW1lIC0gZmxhZyB0byBkZXRlcm1pbmUgaWYgcmVmbG93IHNob3VsZCBoYXBwZW4uXG4gICAqIEBmaXJlcyBBY2NvcmRpb24jZG93blxuICAgKiBAZnVuY3Rpb25cbiAgICovXG4gIEFjY29yZGlvbi5wcm90b3R5cGUuZG93biA9IGZ1bmN0aW9uKCR0YXJnZXQsIGZpcnN0VGltZSkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgaWYoIXRoaXMub3B0aW9ucy5tdWx0aUV4cGFuZCAmJiAhZmlyc3RUaW1lKXtcbiAgICAgIHZhciAkY3VycmVudEFjdGl2ZSA9IHRoaXMuJGVsZW1lbnQuZmluZCgnLmlzLWFjdGl2ZScpLmNoaWxkcmVuKCdbZGF0YS10YWItY29udGVudF0nKTtcbiAgICAgIGlmKCRjdXJyZW50QWN0aXZlLmxlbmd0aCl7XG4gICAgICAgIHRoaXMudXAoJGN1cnJlbnRBY3RpdmUpO1xuICAgICAgfVxuICAgIH1cblxuICAgICR0YXJnZXRcbiAgICAgIC5hdHRyKCdhcmlhLWhpZGRlbicsIGZhbHNlKVxuICAgICAgLnBhcmVudCgnW2RhdGEtdGFiLWNvbnRlbnRdJylcbiAgICAgIC5hZGRCYWNrKClcbiAgICAgIC5wYXJlbnQoKS5hZGRDbGFzcygnaXMtYWN0aXZlJyk7XG5cbiAgICBGb3VuZGF0aW9uLk1vdmUoX3RoaXMub3B0aW9ucy5zbGlkZVNwZWVkLCAkdGFyZ2V0LCBmdW5jdGlvbigpe1xuICAgICAgJHRhcmdldC5zbGlkZURvd24oX3RoaXMub3B0aW9ucy5zbGlkZVNwZWVkKTtcbiAgICB9KTtcblxuICAgIGlmKCFmaXJzdFRpbWUpe1xuICAgICAgRm91bmRhdGlvbi5fcmVmbG93KHRoaXMuJGVsZW1lbnQuYXR0cignZGF0YS1hY2NvcmRpb24nKSk7XG4gICAgfVxuICAgICQoJyMnICsgJHRhcmdldC5hdHRyKCdhcmlhLWxhYmVsbGVkYnknKSkuYXR0cih7XG4gICAgICAnYXJpYS1leHBhbmRlZCc6IHRydWUsXG4gICAgICAnYXJpYS1zZWxlY3RlZCc6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBGaXJlcyB3aGVuIHRoZSB0YWIgaXMgZG9uZSBvcGVuaW5nLlxuICAgICAqIEBldmVudCBBY2NvcmRpb24jZG93blxuICAgICAqL1xuICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcignZG93bi56Zi5hY2NvcmRpb24nLCBbJHRhcmdldF0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDbG9zZXMgdGhlIHRhYiBkZWZpbmVkIGJ5IGAkdGFyZ2V0YC5cbiAgICogQHBhcmFtIHtqUXVlcnl9ICR0YXJnZXQgLSBBY2NvcmRpb24gdGFiIHRvIGNsb3NlLlxuICAgKiBAZmlyZXMgQWNjb3JkaW9uI3VwXG4gICAqIEBmdW5jdGlvblxuICAgKi9cbiAgQWNjb3JkaW9uLnByb3RvdHlwZS51cCA9IGZ1bmN0aW9uKCR0YXJnZXQpIHtcbiAgICB2YXIgJGF1bnRzID0gJHRhcmdldC5wYXJlbnQoKS5zaWJsaW5ncygpLFxuICAgICAgICBfdGhpcyA9IHRoaXM7XG4gICAgdmFyIGNhbkNsb3NlID0gdGhpcy5vcHRpb25zLm11bHRpRXhwYW5kID8gJGF1bnRzLmhhc0NsYXNzKCdpcy1hY3RpdmUnKSA6ICR0YXJnZXQucGFyZW50KCkuaGFzQ2xhc3MoJ2lzLWFjdGl2ZScpO1xuXG4gICAgaWYoIXRoaXMub3B0aW9ucy5hbGxvd0FsbENsb3NlZCAmJiAhY2FuQ2xvc2Upe1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIEZvdW5kYXRpb24uTW92ZSh0aGlzLm9wdGlvbnMuc2xpZGVTcGVlZCwgJHRhcmdldCwgZnVuY3Rpb24oKXtcbiAgICAgICR0YXJnZXQuc2xpZGVVcChfdGhpcy5vcHRpb25zLnNsaWRlU3BlZWQpO1xuICAgIH0pO1xuXG4gICAgJHRhcmdldC5hdHRyKCdhcmlhLWhpZGRlbicsIHRydWUpXG4gICAgICAgICAgIC5wYXJlbnQoKS5yZW1vdmVDbGFzcygnaXMtYWN0aXZlJyk7XG5cbiAgICAkKCcjJyArICR0YXJnZXQuYXR0cignYXJpYS1sYWJlbGxlZGJ5JykpLmF0dHIoe1xuICAgICAnYXJpYS1leHBhbmRlZCc6IGZhbHNlLFxuICAgICAnYXJpYS1zZWxlY3RlZCc6IGZhbHNlXG4gICB9KTtcblxuICAgIC8qKlxuICAgICAqIEZpcmVzIHdoZW4gdGhlIHRhYiBpcyBkb25lIGNvbGxhcHNpbmcgdXAuXG4gICAgICogQGV2ZW50IEFjY29yZGlvbiN1cFxuICAgICAqL1xuICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcigndXAuemYuYWNjb3JkaW9uJywgWyR0YXJnZXRdKTtcbiAgfTtcblxuICAvKipcbiAgICogRGVzdHJveXMgYW4gaW5zdGFuY2Ugb2YgYW4gYWNjb3JkaW9uLlxuICAgKiBAZmlyZXMgQWNjb3JkaW9uI2Rlc3Ryb3llZFxuICAgKiBAZnVuY3Rpb25cbiAgICovXG4gIEFjY29yZGlvbi5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuJGVsZW1lbnQuZmluZCgnW2RhdGEtdGFiLWNvbnRlbnRdJykuc2xpZGVVcCgwKS5jc3MoJ2Rpc3BsYXknLCAnJyk7XG4gICAgdGhpcy4kZWxlbWVudC5maW5kKCdhJykub2ZmKCcuemYuYWNjb3JkaW9uJyk7XG5cbiAgICBGb3VuZGF0aW9uLnVucmVnaXN0ZXJQbHVnaW4odGhpcyk7XG4gIH07XG5cbiAgRm91bmRhdGlvbi5wbHVnaW4oQWNjb3JkaW9uLCAnQWNjb3JkaW9uJyk7XG59KGpRdWVyeSwgd2luZG93LkZvdW5kYXRpb24pO1xuXG4vKipcbiAqIEFjY29yZGlvbk1lbnUgbW9kdWxlLlxuICogQG1vZHVsZSBmb3VuZGF0aW9uLmFjY29yZGlvbk1lbnVcbiAqIEByZXF1aXJlcyBmb3VuZGF0aW9uLnV0aWwua2V5Ym9hcmRcbiAqIEByZXF1aXJlcyBmb3VuZGF0aW9uLnV0aWwubW90aW9uXG4gKiBAcmVxdWlyZXMgZm91bmRhdGlvbi51dGlsLm5lc3RcbiAqL1xuIWZ1bmN0aW9uKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IGluc3RhbmNlIG9mIGFuIGFjY29yZGlvbiBtZW51LlxuICAgKiBAY2xhc3NcbiAgICogQGZpcmVzIEFjY29yZGlvbk1lbnUjaW5pdFxuICAgKiBAcGFyYW0ge2pRdWVyeX0gZWxlbWVudCAtIGpRdWVyeSBvYmplY3QgdG8gbWFrZSBpbnRvIGFuIGFjY29yZGlvbiBtZW51LlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIE92ZXJyaWRlcyB0byB0aGUgZGVmYXVsdCBwbHVnaW4gc2V0dGluZ3MuXG4gICAqL1xuICBmdW5jdGlvbiBBY2NvcmRpb25NZW51KGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLiRlbGVtZW50ID0gZWxlbWVudDtcbiAgICB0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgQWNjb3JkaW9uTWVudS5kZWZhdWx0cywgdGhpcy4kZWxlbWVudC5kYXRhKCksIG9wdGlvbnMpO1xuXG4gICAgRm91bmRhdGlvbi5OZXN0LkZlYXRoZXIodGhpcy4kZWxlbWVudCwgJ2FjY29yZGlvbicpO1xuXG4gICAgdGhpcy5faW5pdCgpO1xuXG4gICAgRm91bmRhdGlvbi5yZWdpc3RlclBsdWdpbih0aGlzKTtcbiAgICBGb3VuZGF0aW9uLktleWJvYXJkLnJlZ2lzdGVyKCdBY2NvcmRpb25NZW51Jywge1xuICAgICAgJ0VOVEVSJzogJ3RvZ2dsZScsXG4gICAgICAnU1BBQ0UnOiAndG9nZ2xlJyxcbiAgICAgICdBUlJPV19SSUdIVCc6ICdvcGVuJyxcbiAgICAgICdBUlJPV19VUCc6ICd1cCcsXG4gICAgICAnQVJST1dfRE9XTic6ICdkb3duJyxcbiAgICAgICdBUlJPV19MRUZUJzogJ2Nsb3NlJyxcbiAgICAgICdFU0NBUEUnOiAnY2xvc2VBbGwnLFxuICAgICAgJ1RBQic6ICdkb3duJyxcbiAgICAgICdTSElGVF9UQUInOiAndXAnXG4gICAgfSk7XG4gIH1cblxuICBBY2NvcmRpb25NZW51LmRlZmF1bHRzID0ge1xuICAgIC8qKlxuICAgICAqIEFtb3VudCBvZiB0aW1lIHRvIGFuaW1hdGUgdGhlIG9wZW5pbmcgb2YgYSBzdWJtZW51IGluIG1zLlxuICAgICAqIEBvcHRpb25cbiAgICAgKiBAZXhhbXBsZSAyNTBcbiAgICAgKi9cbiAgICBzbGlkZVNwZWVkOiAyNTAsXG4gICAgLyoqXG4gICAgICogQWxsb3cgdGhlIG1lbnUgdG8gaGF2ZSBtdWx0aXBsZSBvcGVuIHBhbmVzLlxuICAgICAqIEBvcHRpb25cbiAgICAgKiBAZXhhbXBsZSB0cnVlXG4gICAgICovXG4gICAgbXVsdGlPcGVuOiB0cnVlXG4gIH07XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIHRoZSBhY2NvcmRpb24gbWVudSBieSBoaWRpbmcgYWxsIG5lc3RlZCBtZW51cy5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIEFjY29yZGlvbk1lbnUucHJvdG90eXBlLl9pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy4kZWxlbWVudC5maW5kKCdbZGF0YS1zdWJtZW51XScpLm5vdCgnLmlzLWFjdGl2ZScpLnNsaWRlVXAoMCk7Ly8uZmluZCgnYScpLmNzcygncGFkZGluZy1sZWZ0JywgJzFyZW0nKTtcbiAgICB0aGlzLiRlbGVtZW50LmF0dHIoe1xuICAgICAgJ3JvbGUnOiAndGFibGlzdCcsXG4gICAgICAnYXJpYS1tdWx0aXNlbGVjdGFibGUnOiB0aGlzLm9wdGlvbnMubXVsdGlPcGVuXG4gICAgfSk7XG5cbiAgICB0aGlzLiRtZW51TGlua3MgPSB0aGlzLiRlbGVtZW50LmZpbmQoJy5oYXMtc3VibWVudScpO1xuICAgIHRoaXMuJG1lbnVMaW5rcy5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgbGlua0lkID0gdGhpcy5pZCB8fCBGb3VuZGF0aW9uLkdldFlvRGlnaXRzKDYsICdhY2MtbWVudS1saW5rJyksXG4gICAgICAgICAgJGVsZW0gPSAkKHRoaXMpLFxuICAgICAgICAgICRzdWIgPSAkZWxlbS5jaGlsZHJlbignW2RhdGEtc3VibWVudV0nKSxcbiAgICAgICAgICBzdWJJZCA9ICRzdWJbMF0uaWQgfHwgRm91bmRhdGlvbi5HZXRZb0RpZ2l0cyg2LCAnYWNjLW1lbnUnKSxcbiAgICAgICAgICBpc0FjdGl2ZSA9ICRzdWIuaGFzQ2xhc3MoJ2lzLWFjdGl2ZScpO1xuICAgICAgJGVsZW0uYXR0cih7XG4gICAgICAgICdhcmlhLWNvbnRyb2xzJzogc3ViSWQsXG4gICAgICAgICdhcmlhLWV4cGFuZGVkJzogaXNBY3RpdmUsXG4gICAgICAgICdhcmlhLXNlbGVjdGVkJzogZmFsc2UsXG4gICAgICAgICdyb2xlJzogJ3RhYicsXG4gICAgICAgICdpZCc6IGxpbmtJZFxuICAgICAgfSk7XG4gICAgICAkc3ViLmF0dHIoe1xuICAgICAgICAnYXJpYS1sYWJlbGxlZGJ5JzogbGlua0lkLFxuICAgICAgICAnYXJpYS1oaWRkZW4nOiAhaXNBY3RpdmUsXG4gICAgICAgICdyb2xlJzogJ3RhYnBhbmVsJyxcbiAgICAgICAgJ2lkJzogc3ViSWRcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHZhciBpbml0UGFuZXMgPSB0aGlzLiRlbGVtZW50LmZpbmQoJy5pcy1hY3RpdmUnKTtcbiAgICBpZihpbml0UGFuZXMubGVuZ3RoKXtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICBpbml0UGFuZXMuZWFjaChmdW5jdGlvbigpe1xuICAgICAgICBfdGhpcy5kb3duKCQodGhpcykpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHRoaXMuX2V2ZW50cygpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBZGRzIGV2ZW50IGhhbmRsZXJzIGZvciBpdGVtcyB3aXRoaW4gdGhlIG1lbnUuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBBY2NvcmRpb25NZW51LnByb3RvdHlwZS5fZXZlbnRzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHRoaXMuJGVsZW1lbnQuZmluZCgnbGknKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyICRzdWJtZW51ID0gJCh0aGlzKS5jaGlsZHJlbignW2RhdGEtc3VibWVudV0nKTtcblxuICAgICAgaWYgKCRzdWJtZW51Lmxlbmd0aCkge1xuICAgICAgICAkKHRoaXMpLmNoaWxkcmVuKCdhJykub2ZmKCdjbGljay56Zi5hY2NvcmRpb25tZW51Jykub24oJ2NsaWNrLnpmLmFjY29yZGlvbm1lbnUnLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgX3RoaXMudG9nZ2xlKCRzdWJtZW51KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSkub24oJ2tleWRvd24uemYuYWNjb3JkaW9ubWVudScsIGZ1bmN0aW9uKGUpe1xuICAgICAgdmFyICRlbGVtZW50ID0gJCh0aGlzKSxcbiAgICAgICAgICAkZWxlbWVudHMgPSAkZWxlbWVudC5wYXJlbnQoJ3VsJykuY2hpbGRyZW4oJ2xpJyksXG4gICAgICAgICAgJHByZXZFbGVtZW50LFxuICAgICAgICAgICRuZXh0RWxlbWVudCxcbiAgICAgICAgICAkdGFyZ2V0ID0gJGVsZW1lbnQuY2hpbGRyZW4oJ1tkYXRhLXN1Ym1lbnVdJyk7XG5cbiAgICAgICRlbGVtZW50cy5lYWNoKGZ1bmN0aW9uKGkpIHtcbiAgICAgICAgaWYgKCQodGhpcykuaXMoJGVsZW1lbnQpKSB7XG4gICAgICAgICAgJHByZXZFbGVtZW50ID0gJGVsZW1lbnRzLmVxKE1hdGgubWF4KDAsIGktMSkpO1xuICAgICAgICAgICRuZXh0RWxlbWVudCA9ICRlbGVtZW50cy5lcShNYXRoLm1pbihpKzEsICRlbGVtZW50cy5sZW5ndGgtMSkpO1xuXG4gICAgICAgICAgaWYgKCQodGhpcykuY2hpbGRyZW4oJ1tkYXRhLXN1Ym1lbnVdOnZpc2libGUnKS5sZW5ndGgpIHsgLy8gaGFzIG9wZW4gc3ViIG1lbnVcbiAgICAgICAgICAgICRuZXh0RWxlbWVudCA9ICRlbGVtZW50LmZpbmQoJ2xpOmZpcnN0LWNoaWxkJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICgkKHRoaXMpLmlzKCc6Zmlyc3QtY2hpbGQnKSkgeyAvLyBpcyBmaXJzdCBlbGVtZW50IG9mIHN1YiBtZW51XG4gICAgICAgICAgICAkcHJldkVsZW1lbnQgPSAkZWxlbWVudC5wYXJlbnRzKCdsaScpLmZpcnN0KCk7XG4gICAgICAgICAgfSBlbHNlIGlmICgkcHJldkVsZW1lbnQuY2hpbGRyZW4oJ1tkYXRhLXN1Ym1lbnVdOnZpc2libGUnKS5sZW5ndGgpIHsgLy8gaWYgcHJldmlvdXMgZWxlbWVudCBoYXMgb3BlbiBzdWIgbWVudVxuICAgICAgICAgICAgJHByZXZFbGVtZW50ID0gJHByZXZFbGVtZW50LmZpbmQoJ2xpOmxhc3QtY2hpbGQnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCQodGhpcykuaXMoJzpsYXN0LWNoaWxkJykpIHsgLy8gaXMgbGFzdCBlbGVtZW50IG9mIHN1YiBtZW51XG4gICAgICAgICAgICAkbmV4dEVsZW1lbnQgPSAkZWxlbWVudC5wYXJlbnRzKCdsaScpLmZpcnN0KCkubmV4dCgnbGknKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgRm91bmRhdGlvbi5LZXlib2FyZC5oYW5kbGVLZXkoZSwgX3RoaXMsIHtcbiAgICAgICAgb3BlbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKCR0YXJnZXQuaXMoJzpoaWRkZW4nKSkge1xuICAgICAgICAgICAgX3RoaXMuZG93bigkdGFyZ2V0KTtcbiAgICAgICAgICAgICR0YXJnZXQuZmluZCgnbGknKS5maXJzdCgpLmZvY3VzKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjbG9zZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKCR0YXJnZXQubGVuZ3RoICYmICEkdGFyZ2V0LmlzKCc6aGlkZGVuJykpIHsgLy8gY2xvc2UgYWN0aXZlIHN1YiBvZiB0aGlzIGl0ZW1cbiAgICAgICAgICAgIF90aGlzLnVwKCR0YXJnZXQpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoJGVsZW1lbnQucGFyZW50KCdbZGF0YS1zdWJtZW51XScpLmxlbmd0aCkgeyAvLyBjbG9zZSBjdXJyZW50bHkgb3BlbiBzdWJcbiAgICAgICAgICAgIF90aGlzLnVwKCRlbGVtZW50LnBhcmVudCgnW2RhdGEtc3VibWVudV0nKSk7XG4gICAgICAgICAgICAkZWxlbWVudC5wYXJlbnRzKCdsaScpLmZpcnN0KCkuZm9jdXMoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHVwOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAkcHJldkVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZG93bjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgJG5leHRFbGVtZW50LmZvY3VzKCk7XG4gICAgICAgIH0sXG4gICAgICAgIHRvZ2dsZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKCRlbGVtZW50LmNoaWxkcmVuKCdbZGF0YS1zdWJtZW51XScpLmxlbmd0aCkge1xuICAgICAgICAgICAgX3RoaXMudG9nZ2xlKCRlbGVtZW50LmNoaWxkcmVuKCdbZGF0YS1zdWJtZW51XScpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGNsb3NlQWxsOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBfdGhpcy5oaWRlQWxsKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGhhbmRsZWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTsvLy5hdHRyKCd0YWJpbmRleCcsIDApO1xuICB9O1xuICAvKipcbiAgICogQ2xvc2VzIGFsbCBwYW5lcyBvZiB0aGUgbWVudS5cbiAgICogQGZ1bmN0aW9uXG4gICAqL1xuICBBY2NvcmRpb25NZW51LnByb3RvdHlwZS5oaWRlQWxsID0gZnVuY3Rpb24oKXtcbiAgICB0aGlzLiRlbGVtZW50LmZpbmQoJ1tkYXRhLXN1Ym1lbnVdJykuc2xpZGVVcCh0aGlzLm9wdGlvbnMuc2xpZGVTcGVlZCk7XG4gIH07XG4gIC8qKlxuICAgKiBUb2dnbGVzIHRoZSBvcGVuL2Nsb3NlIHN0YXRlIG9mIGEgc3VibWVudS5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7alF1ZXJ5fSAkdGFyZ2V0IC0gdGhlIHN1Ym1lbnUgdG8gdG9nZ2xlXG4gICAqL1xuICBBY2NvcmRpb25NZW51LnByb3RvdHlwZS50b2dnbGUgPSBmdW5jdGlvbigkdGFyZ2V0KXtcbiAgICBpZiAoISR0YXJnZXQuaXMoJzpoaWRkZW4nKSkge1xuICAgICAgdGhpcy51cCgkdGFyZ2V0KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLmRvd24oJHRhcmdldCk7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogT3BlbnMgdGhlIHN1Yi1tZW51IGRlZmluZWQgYnkgYCR0YXJnZXRgLlxuICAgKiBAcGFyYW0ge2pRdWVyeX0gJHRhcmdldCAtIFN1Yi1tZW51IHRvIG9wZW4uXG4gICAqIEBmaXJlcyBBY2NvcmRpb25NZW51I2Rvd25cbiAgICovXG4gIEFjY29yZGlvbk1lbnUucHJvdG90eXBlLmRvd24gPSBmdW5jdGlvbigkdGFyZ2V0KSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIGlmKCF0aGlzLm9wdGlvbnMubXVsdGlPcGVuKXtcbiAgICAgIHRoaXMudXAodGhpcy4kZWxlbWVudC5maW5kKCcuaXMtYWN0aXZlJykubm90KCR0YXJnZXQucGFyZW50c1VudGlsKHRoaXMuJGVsZW1lbnQpLmFkZCgkdGFyZ2V0KSkpO1xuICAgIH1cblxuICAgICR0YXJnZXQuYWRkQ2xhc3MoJ2lzLWFjdGl2ZScpLmF0dHIoeydhcmlhLWhpZGRlbic6IGZhbHNlfSlcbiAgICAgIC5wYXJlbnQoJy5oYXMtc3VibWVudScpLmF0dHIoeydhcmlhLWV4cGFuZGVkJzogdHJ1ZSwgJ2FyaWEtc2VsZWN0ZWQnOiB0cnVlfSk7XG5cbiAgICAgIEZvdW5kYXRpb24uTW92ZSh0aGlzLm9wdGlvbnMuc2xpZGVTcGVlZCwgJHRhcmdldCwgZnVuY3Rpb24oKXtcbiAgICAgICAgJHRhcmdldC5zbGlkZURvd24oX3RoaXMub3B0aW9ucy5zbGlkZVNwZWVkKTtcbiAgICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEZpcmVzIHdoZW4gdGhlIG1lbnUgaXMgZG9uZSBjb2xsYXBzaW5nIHVwLlxuICAgICAqIEBldmVudCBBY2NvcmRpb25NZW51I2Rvd25cbiAgICAgKi9cbiAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoJ2Rvd24uemYuYWNjb3JkaW9uTWVudScsIFskdGFyZ2V0XSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENsb3NlcyB0aGUgc3ViLW1lbnUgZGVmaW5lZCBieSBgJHRhcmdldGAuIEFsbCBzdWItbWVudXMgaW5zaWRlIHRoZSB0YXJnZXQgd2lsbCBiZSBjbG9zZWQgYXMgd2VsbC5cbiAgICogQHBhcmFtIHtqUXVlcnl9ICR0YXJnZXQgLSBTdWItbWVudSB0byBjbG9zZS5cbiAgICogQGZpcmVzIEFjY29yZGlvbk1lbnUjdXBcbiAgICovXG4gIEFjY29yZGlvbk1lbnUucHJvdG90eXBlLnVwID0gZnVuY3Rpb24oJHRhcmdldCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgRm91bmRhdGlvbi5Nb3ZlKHRoaXMub3B0aW9ucy5zbGlkZVNwZWVkLCAkdGFyZ2V0LCBmdW5jdGlvbigpe1xuICAgICAgJHRhcmdldC5zbGlkZVVwKF90aGlzLm9wdGlvbnMuc2xpZGVTcGVlZCk7XG4gICAgfSk7XG4gICAgJHRhcmdldC5hdHRyKCdhcmlhLWhpZGRlbicsIHRydWUpXG4gICAgICAgICAgIC5maW5kKCdbZGF0YS1zdWJtZW51XScpLnNsaWRlVXAoMCkuYXR0cignYXJpYS1oaWRkZW4nLCB0cnVlKS5lbmQoKVxuICAgICAgICAgICAucGFyZW50KCcuaGFzLXN1Ym1lbnUnKVxuICAgICAgICAgICAuYXR0cih7J2FyaWEtZXhwYW5kZWQnOiBmYWxzZSwgJ2FyaWEtc2VsZWN0ZWQnOiBmYWxzZX0pO1xuICAgIC8vICR0YXJnZXQuc2xpZGVVcCh0aGlzLm9wdGlvbnMuc2xpZGVTcGVlZCwgZnVuY3Rpb24oKSB7XG4gICAgLy8gICAkdGFyZ2V0LmZpbmQoJ1tkYXRhLXN1Ym1lbnVdJykuc2xpZGVVcCgwKS5hdHRyKCdhcmlhLWhpZGRlbicsIHRydWUpO1xuICAgIC8vIH0pLmF0dHIoJ2FyaWEtaGlkZGVuJywgdHJ1ZSkucGFyZW50KCcuaGFzLXN1Ym1lbnUnKS5hdHRyKHsnYXJpYS1leHBhbmRlZCc6IGZhbHNlLCAnYXJpYS1zZWxlY3RlZCc6IGZhbHNlfSk7XG5cbiAgICAvKipcbiAgICAgKiBGaXJlcyB3aGVuIHRoZSBtZW51IGlzIGRvbmUgY29sbGFwc2luZyB1cC5cbiAgICAgKiBAZXZlbnQgQWNjb3JkaW9uTWVudSN1cFxuICAgICAqL1xuICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcigndXAuemYuYWNjb3JkaW9uTWVudScsIFskdGFyZ2V0XSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIERlc3Ryb3lzIGFuIGluc3RhbmNlIG9mIGFjY29yZGlvbiBtZW51LlxuICAgKiBAZmlyZXMgQWNjb3JkaW9uTWVudSNkZXN0cm95ZWRcbiAgICovXG4gIEFjY29yZGlvbk1lbnUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpe1xuICAgIHRoaXMuJGVsZW1lbnQuZmluZCgnW2RhdGEtc3VibWVudV0nKS5zbGlkZURvd24oMCkuY3NzKCdkaXNwbGF5JywgJycpO1xuICAgIHRoaXMuJGVsZW1lbnQuZmluZCgnYScpLm9mZignY2xpY2suemYuYWNjb3JkaW9uTWVudScpO1xuXG4gICAgRm91bmRhdGlvbi5OZXN0LkJ1cm4odGhpcy4kZWxlbWVudCwgJ2FjY29yZGlvbicpO1xuICAgIEZvdW5kYXRpb24udW5yZWdpc3RlclBsdWdpbih0aGlzKTtcbiAgfTtcblxuICBGb3VuZGF0aW9uLnBsdWdpbihBY2NvcmRpb25NZW51LCAnQWNjb3JkaW9uTWVudScpO1xufShqUXVlcnksIHdpbmRvdy5Gb3VuZGF0aW9uKTtcblxuLyoqXG4gKiBEcmlsbGRvd24gbW9kdWxlLlxuICogQG1vZHVsZSBmb3VuZGF0aW9uLmRyaWxsZG93blxuICogQHJlcXVpcmVzIGZvdW5kYXRpb24udXRpbC5rZXlib2FyZFxuICogQHJlcXVpcmVzIGZvdW5kYXRpb24udXRpbC5tb3Rpb25cbiAqIEByZXF1aXJlcyBmb3VuZGF0aW9uLnV0aWwubmVzdFxuICovXG4hZnVuY3Rpb24oJCwgRm91bmRhdGlvbil7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBpbnN0YW5jZSBvZiBhIGRyaWxsZG93biBtZW51LlxuICAgKiBAY2xhc3NcbiAgICogQHBhcmFtIHtqUXVlcnl9IGVsZW1lbnQgLSBqUXVlcnkgb2JqZWN0IHRvIG1ha2UgaW50byBhbiBhY2NvcmRpb24gbWVudS5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBPdmVycmlkZXMgdG8gdGhlIGRlZmF1bHQgcGx1Z2luIHNldHRpbmdzLlxuICAgKi9cbiAgZnVuY3Rpb24gRHJpbGxkb3duKGVsZW1lbnQsIG9wdGlvbnMpe1xuICAgIHRoaXMuJGVsZW1lbnQgPSBlbGVtZW50O1xuICAgIHRoaXMub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBEcmlsbGRvd24uZGVmYXVsdHMsIHRoaXMuJGVsZW1lbnQuZGF0YSgpLCBvcHRpb25zKTtcblxuICAgIEZvdW5kYXRpb24uTmVzdC5GZWF0aGVyKHRoaXMuJGVsZW1lbnQsICdkcmlsbGRvd24nKTtcblxuICAgIHRoaXMuX2luaXQoKTtcblxuICAgIEZvdW5kYXRpb24ucmVnaXN0ZXJQbHVnaW4odGhpcyk7XG4gICAgRm91bmRhdGlvbi5LZXlib2FyZC5yZWdpc3RlcignRHJpbGxkb3duJywge1xuICAgICAgJ0VOVEVSJzogJ29wZW4nLFxuICAgICAgJ1NQQUNFJzogJ29wZW4nLFxuICAgICAgJ0FSUk9XX1JJR0hUJzogJ25leHQnLFxuICAgICAgJ0FSUk9XX1VQJzogJ3VwJyxcbiAgICAgICdBUlJPV19ET1dOJzogJ2Rvd24nLFxuICAgICAgJ0FSUk9XX0xFRlQnOiAncHJldmlvdXMnLFxuICAgICAgJ0VTQ0FQRSc6ICdjbG9zZScsXG4gICAgICAnVEFCJzogJ2Rvd24nLFxuICAgICAgJ1NISUZUX1RBQic6ICd1cCdcbiAgICB9KTtcbiAgfVxuICBEcmlsbGRvd24uZGVmYXVsdHMgPSB7XG4gICAgLyoqXG4gICAgICogTWFya3VwIHVzZWQgZm9yIEpTIGdlbmVyYXRlZCBiYWNrIGJ1dHRvbi4gUHJlcGVuZGVkIHRvIHN1Ym1lbnUgbGlzdHMgYW5kIGRlbGV0ZWQgb24gYGRlc3Ryb3lgIG1ldGhvZCwgJ2pzLWRyaWxsZG93bi1iYWNrJyBjbGFzcyByZXF1aXJlZC4gUmVtb3ZlIHRoZSBiYWNrc2xhc2ggKGBcXGApIGlmIGNvcHkgYW5kIHBhc3RpbmcuXG4gICAgICogQG9wdGlvblxuICAgICAqIEBleGFtcGxlICc8XFxsaT48XFxhPkJhY2s8XFwvYT48XFwvbGk+J1xuICAgICAqL1xuICAgIGJhY2tCdXR0b246ICc8bGkgY2xhc3M9XCJqcy1kcmlsbGRvd24tYmFja1wiPjxhPkJhY2s8L2E+PC9saT4nLFxuICAgIC8qKlxuICAgICAqIE1hcmt1cCB1c2VkIHRvIHdyYXAgZHJpbGxkb3duIG1lbnUuIFVzZSBhIGNsYXNzIG5hbWUgZm9yIGluZGVwZW5kZW50IHN0eWxpbmc7IHRoZSBKUyBhcHBsaWVkIGNsYXNzOiBgaXMtZHJpbGxkb3duYCBpcyByZXF1aXJlZC4gUmVtb3ZlIHRoZSBiYWNrc2xhc2ggKGBcXGApIGlmIGNvcHkgYW5kIHBhc3RpbmcuXG4gICAgICogQG9wdGlvblxuICAgICAqIEBleGFtcGxlICc8XFxkaXYgY2xhc3M9XCJpcy1kcmlsbGRvd25cIj48XFwvZGl2PidcbiAgICAgKi9cbiAgICB3cmFwcGVyOiAnPGRpdj48L2Rpdj4nLFxuICAgIC8qKlxuICAgICAqIEFsbG93IHRoZSBtZW51IHRvIHJldHVybiB0byByb290IGxpc3Qgb24gYm9keSBjbGljay5cbiAgICAgKiBAb3B0aW9uXG4gICAgICogQGV4YW1wbGUgZmFsc2VcbiAgICAgKi9cbiAgICBjbG9zZU9uQ2xpY2s6IGZhbHNlXG4gICAgLy8gaG9sZE9wZW46IGZhbHNlXG4gIH07XG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyB0aGUgZHJpbGxkb3duIGJ5IGNyZWF0aW5nIGpRdWVyeSBjb2xsZWN0aW9ucyBvZiBlbGVtZW50c1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgRHJpbGxkb3duLnByb3RvdHlwZS5faW5pdCA9IGZ1bmN0aW9uKCl7XG4gICAgdGhpcy4kc3VibWVudUFuY2hvcnMgPSB0aGlzLiRlbGVtZW50LmZpbmQoJ2xpLmhhcy1zdWJtZW51Jyk7XG4gICAgdGhpcy4kc3VibWVudXMgPSB0aGlzLiRzdWJtZW51QW5jaG9ycy5jaGlsZHJlbignW2RhdGEtc3VibWVudV0nKTtcbiAgICB0aGlzLiRtZW51SXRlbXMgPSB0aGlzLiRlbGVtZW50LmZpbmQoJ2xpOnZpc2libGUnKS5ub3QoJy5qcy1kcmlsbGRvd24tYmFjaycpLmF0dHIoJ3JvbGUnLCAnbWVudWl0ZW0nKTtcblxuICAgIHRoaXMuX3ByZXBhcmVNZW51KCk7XG5cbiAgICB0aGlzLl9rZXlib2FyZEV2ZW50cygpO1xuICB9O1xuICAvKipcbiAgICogcHJlcGFyZXMgZHJpbGxkb3duIG1lbnUgYnkgc2V0dGluZyBhdHRyaWJ1dGVzIHRvIGxpbmtzIGFuZCBlbGVtZW50c1xuICAgKiBzZXRzIGEgbWluIGhlaWdodCB0byBwcmV2ZW50IGNvbnRlbnQganVtcGluZ1xuICAgKiB3cmFwcyB0aGUgZWxlbWVudCBpZiBub3QgYWxyZWFkeSB3cmFwcGVkXG4gICAqIEBwcml2YXRlXG4gICAqIEBmdW5jdGlvblxuICAgKi9cbiAgRHJpbGxkb3duLnByb3RvdHlwZS5fcHJlcGFyZU1lbnUgPSBmdW5jdGlvbigpe1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgLy8gaWYoIXRoaXMub3B0aW9ucy5ob2xkT3Blbil7XG4gICAgLy8gICB0aGlzLl9tZW51TGlua0V2ZW50cygpO1xuICAgIC8vIH1cbiAgICB0aGlzLiRzdWJtZW51QW5jaG9ycy5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgJHN1YiA9ICQodGhpcyk7XG4gICAgICB2YXIgJGxpbmsgPSAkc3ViLmZpbmQoJ2E6Zmlyc3QnKTtcbiAgICAgICRsaW5rLmRhdGEoJ3NhdmVkSHJlZicsICRsaW5rLmF0dHIoJ2hyZWYnKSkucmVtb3ZlQXR0cignaHJlZicpO1xuICAgICAgJHN1Yi5jaGlsZHJlbignW2RhdGEtc3VibWVudV0nKVxuICAgICAgICAgIC5hdHRyKHtcbiAgICAgICAgICAgICdhcmlhLWhpZGRlbic6IHRydWUsXG4gICAgICAgICAgICAndGFiaW5kZXgnOiAwLFxuICAgICAgICAgICAgJ3JvbGUnOiAnbWVudSdcbiAgICAgICAgICB9KTtcbiAgICAgIF90aGlzLl9ldmVudHMoJHN1Yik7XG4gICAgfSk7XG4gICAgdGhpcy4kc3VibWVudXMuZWFjaChmdW5jdGlvbigpe1xuICAgICAgdmFyICRtZW51ID0gJCh0aGlzKSxcbiAgICAgICAgICAkYmFjayA9ICRtZW51LmZpbmQoJy5qcy1kcmlsbGRvd24tYmFjaycpO1xuICAgICAgaWYoISRiYWNrLmxlbmd0aCl7XG4gICAgICAgICRtZW51LnByZXBlbmQoX3RoaXMub3B0aW9ucy5iYWNrQnV0dG9uKTtcbiAgICAgICAgX3RoaXMuX2JhY2soJG1lbnUpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmKCF0aGlzLiRlbGVtZW50LnBhcmVudCgpLmhhc0NsYXNzKCdpcy1kcmlsbGRvd24nKSl7XG4gICAgICB0aGlzLiR3cmFwcGVyID0gJCh0aGlzLm9wdGlvbnMud3JhcHBlcikuYWRkQ2xhc3MoJ2lzLWRyaWxsZG93bicpLmNzcyh0aGlzLl9nZXRNYXhEaW1zKCkpO1xuICAgICAgdGhpcy4kZWxlbWVudC53cmFwKHRoaXMuJHdyYXBwZXIpO1xuICAgIH1cblxuICB9O1xuICAvKipcbiAgICogQWRkcyBldmVudCBoYW5kbGVycyB0byBlbGVtZW50cyBpbiB0aGUgbWVudS5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7alF1ZXJ5fSAkZWxlbSAtIHRoZSBjdXJyZW50IG1lbnUgaXRlbSB0byBhZGQgaGFuZGxlcnMgdG8uXG4gICAqL1xuICBEcmlsbGRvd24ucHJvdG90eXBlLl9ldmVudHMgPSBmdW5jdGlvbigkZWxlbSl7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICRlbGVtLm9mZignY2xpY2suemYuZHJpbGxkb3duJylcbiAgICAub24oJ2NsaWNrLnpmLmRyaWxsZG93bicsIGZ1bmN0aW9uKGUpe1xuICAgICAgaWYoJChlLnRhcmdldCkucGFyZW50c1VudGlsKCd1bCcsICdsaScpLmhhc0NsYXNzKCdpcy1kcmlsbGRvd24tc3VibWVudS1wYXJlbnQnKSl7XG4gICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cblxuICAgICAgLy8gaWYoZS50YXJnZXQgIT09IGUuY3VycmVudFRhcmdldC5maXJzdEVsZW1lbnRDaGlsZCl7XG4gICAgICAvLyAgIHJldHVybiBmYWxzZTtcbiAgICAgIC8vIH1cbiAgICAgIF90aGlzLl9zaG93KCRlbGVtKTtcblxuICAgICAgaWYoX3RoaXMub3B0aW9ucy5jbG9zZU9uQ2xpY2spe1xuICAgICAgICB2YXIgJGJvZHkgPSAkKCdib2R5Jykubm90KF90aGlzLiR3cmFwcGVyKTtcbiAgICAgICAgJGJvZHkub2ZmKCcuemYuZHJpbGxkb3duJykub24oJ2NsaWNrLnpmLmRyaWxsZG93bicsIGZ1bmN0aW9uKGUpe1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBfdGhpcy5faGlkZUFsbCgpO1xuICAgICAgICAgICRib2R5Lm9mZignLnpmLmRyaWxsZG93bicpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbiAgLyoqXG4gICAqIEFkZHMga2V5ZG93biBldmVudCBsaXN0ZW5lciB0byBgbGlgJ3MgaW4gdGhlIG1lbnUuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBEcmlsbGRvd24ucHJvdG90eXBlLl9rZXlib2FyZEV2ZW50cyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdGhpcy4kbWVudUl0ZW1zLmFkZCh0aGlzLiRlbGVtZW50LmZpbmQoJy5qcy1kcmlsbGRvd24tYmFjaycpKS5vbigna2V5ZG93bi56Zi5kcmlsbGRvd24nLCBmdW5jdGlvbihlKXtcbiAgICAgIHZhciAkZWxlbWVudCA9ICQodGhpcyksXG4gICAgICAgICAgJGVsZW1lbnRzID0gJGVsZW1lbnQucGFyZW50KCd1bCcpLmNoaWxkcmVuKCdsaScpLFxuICAgICAgICAgICRwcmV2RWxlbWVudCxcbiAgICAgICAgICAkbmV4dEVsZW1lbnQ7XG5cbiAgICAgICRlbGVtZW50cy5lYWNoKGZ1bmN0aW9uKGkpIHtcbiAgICAgICAgaWYgKCQodGhpcykuaXMoJGVsZW1lbnQpKSB7XG4gICAgICAgICAgJHByZXZFbGVtZW50ID0gJGVsZW1lbnRzLmVxKE1hdGgubWF4KDAsIGktMSkpO1xuICAgICAgICAgICRuZXh0RWxlbWVudCA9ICRlbGVtZW50cy5lcShNYXRoLm1pbihpKzEsICRlbGVtZW50cy5sZW5ndGgtMSkpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBGb3VuZGF0aW9uLktleWJvYXJkLmhhbmRsZUtleShlLCBfdGhpcywge1xuICAgICAgICBuZXh0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAoJGVsZW1lbnQuaXMoX3RoaXMuJHN1Ym1lbnVBbmNob3JzKSkge1xuICAgICAgICAgICAgX3RoaXMuX3Nob3coJGVsZW1lbnQpO1xuICAgICAgICAgICAgJGVsZW1lbnQub24oRm91bmRhdGlvbi50cmFuc2l0aW9uZW5kKCRlbGVtZW50KSwgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgJGVsZW1lbnQuZmluZCgndWwgbGknKS5maWx0ZXIoX3RoaXMuJG1lbnVJdGVtcykuZmlyc3QoKS5mb2N1cygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBwcmV2aW91czogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgX3RoaXMuX2hpZGUoJGVsZW1lbnQucGFyZW50KCd1bCcpKTtcbiAgICAgICAgICAkZWxlbWVudC5wYXJlbnQoJ3VsJykub24oRm91bmRhdGlvbi50cmFuc2l0aW9uZW5kKCRlbGVtZW50KSwgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICRlbGVtZW50LnBhcmVudCgndWwnKS5wYXJlbnQoJ2xpJykuZm9jdXMoKTtcbiAgICAgICAgICAgIH0sIDEpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICB1cDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgJHByZXZFbGVtZW50LmZvY3VzKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGRvd246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICRuZXh0RWxlbWVudC5mb2N1cygpO1xuICAgICAgICB9LFxuICAgICAgICBjbG9zZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgX3RoaXMuX2JhY2soKTtcbiAgICAgICAgICAvL190aGlzLiRtZW51SXRlbXMuZmlyc3QoKS5mb2N1cygpOyAvLyBmb2N1cyB0byBmaXJzdCBlbGVtZW50XG4gICAgICAgIH0sXG4gICAgICAgIG9wZW46IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmICghJGVsZW1lbnQuaXMoX3RoaXMuJG1lbnVJdGVtcykpIHsgLy8gbm90IG1lbnUgaXRlbSBtZWFucyBiYWNrIGJ1dHRvblxuICAgICAgICAgICAgX3RoaXMuX2hpZGUoJGVsZW1lbnQucGFyZW50KCd1bCcpKTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXskZWxlbWVudC5wYXJlbnQoJ3VsJykucGFyZW50KCdsaScpLmZvY3VzKCk7fSwgMSk7XG4gICAgICAgICAgfSBlbHNlIGlmICgkZWxlbWVudC5pcyhfdGhpcy4kc3VibWVudUFuY2hvcnMpKSB7XG4gICAgICAgICAgICBfdGhpcy5fc2hvdygkZWxlbWVudCk7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7JGVsZW1lbnQuZmluZCgndWwgbGknKS5maWx0ZXIoX3RoaXMuJG1lbnVJdGVtcykuZmlyc3QoKS5mb2N1cygpO30sIDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgaGFuZGxlZDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pOyAvLyBlbmQga2V5Ym9hcmRBY2Nlc3NcbiAgfTtcblxuICAvKipcbiAgICogQ2xvc2VzIGFsbCBvcGVuIGVsZW1lbnRzLCBhbmQgcmV0dXJucyB0byByb290IG1lbnUuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAZmlyZXMgRHJpbGxkb3duI2Nsb3NlZFxuICAgKi9cbiAgRHJpbGxkb3duLnByb3RvdHlwZS5faGlkZUFsbCA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyICRlbGVtID0gdGhpcy4kZWxlbWVudC5maW5kKCcuaXMtZHJpbGxkb3duLXN1Yi5pcy1hY3RpdmUnKS5hZGRDbGFzcygnaXMtY2xvc2luZycpO1xuICAgICRlbGVtLm9uZShGb3VuZGF0aW9uLnRyYW5zaXRpb25lbmQoJGVsZW0pLCBmdW5jdGlvbihlKXtcbiAgICAgICRlbGVtLnJlbW92ZUNsYXNzKCdpcy1hY3RpdmUgaXMtY2xvc2luZycpO1xuICAgIH0pO1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZXMgd2hlbiB0aGUgbWVudSBpcyBmdWxseSBjbG9zZWQuXG4gICAgICAgICAqIEBldmVudCBEcmlsbGRvd24jY2xvc2VkXG4gICAgICAgICAqL1xuICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcignY2xvc2VkLnpmLmRyaWxsZG93bicpO1xuICB9O1xuICAvKipcbiAgICogQWRkcyBldmVudCBsaXN0ZW5lciBmb3IgZWFjaCBgYmFja2AgYnV0dG9uLCBhbmQgY2xvc2VzIG9wZW4gbWVudXMuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAZmlyZXMgRHJpbGxkb3duI2JhY2tcbiAgICogQHBhcmFtIHtqUXVlcnl9ICRlbGVtIC0gdGhlIGN1cnJlbnQgc3ViLW1lbnUgdG8gYWRkIGBiYWNrYCBldmVudC5cbiAgICovXG4gIERyaWxsZG93bi5wcm90b3R5cGUuX2JhY2sgPSBmdW5jdGlvbigkZWxlbSl7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAkZWxlbS5vZmYoJ2NsaWNrLnpmLmRyaWxsZG93bicpO1xuICAgICRlbGVtLmNoaWxkcmVuKCcuanMtZHJpbGxkb3duLWJhY2snKVxuICAgICAgLm9uKCdjbGljay56Zi5kcmlsbGRvd24nLCBmdW5jdGlvbihlKXtcbiAgICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ21vdXNldXAgb24gYmFjaycpO1xuICAgICAgICBfdGhpcy5faGlkZSgkZWxlbSk7XG4gICAgICB9KTtcbiAgfTtcbiAgLyoqXG4gICAqIEFkZHMgZXZlbnQgbGlzdGVuZXIgdG8gbWVudSBpdGVtcyB3L28gc3VibWVudXMgdG8gY2xvc2Ugb3BlbiBtZW51cyBvbiBjbGljay5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBEcmlsbGRvd24ucHJvdG90eXBlLl9tZW51TGlua0V2ZW50cyA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICB0aGlzLiRtZW51SXRlbXMubm90KCcuaGFzLXN1Ym1lbnUnKVxuICAgICAgICAub2ZmKCdjbGljay56Zi5kcmlsbGRvd24nKVxuICAgICAgICAub24oJ2NsaWNrLnpmLmRyaWxsZG93bicsIGZ1bmN0aW9uKGUpe1xuICAgICAgICAgIC8vIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgX3RoaXMuX2hpZGVBbGwoKTtcbiAgICAgICAgICB9LCAwKTtcbiAgICAgIH0pO1xuICB9O1xuICAvKipcbiAgICogT3BlbnMgYSBzdWJtZW51LlxuICAgKiBAZnVuY3Rpb25cbiAgICogQGZpcmVzIERyaWxsZG93biNvcGVuXG4gICAqIEBwYXJhbSB7alF1ZXJ5fSAkZWxlbSAtIHRoZSBjdXJyZW50IGVsZW1lbnQgd2l0aCBhIHN1Ym1lbnUgdG8gb3Blbi5cbiAgICovXG4gIERyaWxsZG93bi5wcm90b3R5cGUuX3Nob3cgPSBmdW5jdGlvbigkZWxlbSl7XG4gICAgJGVsZW0uY2hpbGRyZW4oJ1tkYXRhLXN1Ym1lbnVdJykuYWRkQ2xhc3MoJ2lzLWFjdGl2ZScpO1xuXG4gICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKCdvcGVuLnpmLmRyaWxsZG93bicsIFskZWxlbV0pO1xuICB9O1xuICAvKipcbiAgICogSGlkZXMgYSBzdWJtZW51XG4gICAqIEBmdW5jdGlvblxuICAgKiBAZmlyZXMgRHJpbGxkb3duI2hpZGVcbiAgICogQHBhcmFtIHtqUXVlcnl9ICRlbGVtIC0gdGhlIGN1cnJlbnQgc3ViLW1lbnUgdG8gaGlkZS5cbiAgICovXG4gIERyaWxsZG93bi5wcm90b3R5cGUuX2hpZGUgPSBmdW5jdGlvbigkZWxlbSl7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAkZWxlbS5hZGRDbGFzcygnaXMtY2xvc2luZycpXG4gICAgICAgICAub25lKEZvdW5kYXRpb24udHJhbnNpdGlvbmVuZCgkZWxlbSksIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICRlbGVtLnJlbW92ZUNsYXNzKCdpcy1hY3RpdmUgaXMtY2xvc2luZycpO1xuICAgICAgICAgfSk7XG4gICAgLyoqXG4gICAgICogRmlyZXMgd2hlbiB0aGUgc3VibWVudSBpcyBoYXMgY2xvc2VkLlxuICAgICAqIEBldmVudCBEcmlsbGRvd24jaGlkZVxuICAgICAqL1xuICAgICRlbGVtLnRyaWdnZXIoJ2hpZGUuemYuZHJpbGxkb3duJywgWyRlbGVtXSk7XG5cbiAgfTtcbiAgLyoqXG4gICAqIEl0ZXJhdGVzIHRocm91Z2ggdGhlIG5lc3RlZCBtZW51cyB0byBjYWxjdWxhdGUgdGhlIG1pbi1oZWlnaHQsIGFuZCBtYXgtd2lkdGggZm9yIHRoZSBtZW51LlxuICAgKiBQcmV2ZW50cyBjb250ZW50IGp1bXBpbmcuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgRHJpbGxkb3duLnByb3RvdHlwZS5fZ2V0TWF4RGltcyA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIG1heCA9IDAsIHJlc3VsdCA9IHt9O1xuICAgIHRoaXMuJHN1Ym1lbnVzLmFkZCh0aGlzLiRlbGVtZW50KS5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgbnVtT2ZFbGVtcyA9ICQodGhpcykuY2hpbGRyZW4oJ2xpJykubGVuZ3RoO1xuICAgICAgbWF4ID0gbnVtT2ZFbGVtcyA+IG1heCA/IG51bU9mRWxlbXMgOiBtYXg7XG4gICAgfSk7XG5cbiAgICByZXN1bHQuaGVpZ2h0ID0gbWF4ICogdGhpcy4kbWVudUl0ZW1zWzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodCArICdweCc7XG4gICAgcmVzdWx0LndpZHRoID0gdGhpcy4kZWxlbWVudFswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCArICdweCc7XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuICAvKipcbiAgICogRGVzdHJveXMgdGhlIERyaWxsZG93biBNZW51XG4gICAqIEBmdW5jdGlvblxuICAgKi9cbiAgRHJpbGxkb3duLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKXtcbiAgICB0aGlzLl9oaWRlQWxsKCk7XG4gICAgRm91bmRhdGlvbi5OZXN0LkJ1cm4odGhpcy4kZWxlbWVudCwgJ2RyaWxsZG93bicpO1xuICAgIHRoaXMuJGVsZW1lbnQudW53cmFwKClcbiAgICAgICAgICAgICAgICAgLmZpbmQoJy5qcy1kcmlsbGRvd24tYmFjaycpLnJlbW92ZSgpXG4gICAgICAgICAgICAgICAgIC5lbmQoKS5maW5kKCcuaXMtYWN0aXZlLCAuaXMtY2xvc2luZywgLmlzLWRyaWxsZG93bi1zdWInKS5yZW1vdmVDbGFzcygnaXMtYWN0aXZlIGlzLWNsb3NpbmcgaXMtZHJpbGxkb3duLXN1YicpXG4gICAgICAgICAgICAgICAgIC5lbmQoKS5maW5kKCdbZGF0YS1zdWJtZW51XScpLnJlbW92ZUF0dHIoJ2FyaWEtaGlkZGVuIHRhYmluZGV4IHJvbGUnKVxuICAgICAgICAgICAgICAgICAub2ZmKCcuemYuZHJpbGxkb3duJykuZW5kKCkub2ZmKCd6Zi5kcmlsbGRvd24nKTtcbiAgICB0aGlzLiRlbGVtZW50LmZpbmQoJ2EnKS5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgJGxpbmsgPSAkKHRoaXMpO1xuICAgICAgaWYoJGxpbmsuZGF0YSgnc2F2ZWRIcmVmJykpe1xuICAgICAgICAkbGluay5hdHRyKCdocmVmJywgJGxpbmsuZGF0YSgnc2F2ZWRIcmVmJykpLnJlbW92ZURhdGEoJ3NhdmVkSHJlZicpO1xuICAgICAgfWVsc2V7IHJldHVybjsgfVxuICAgIH0pO1xuICAgIEZvdW5kYXRpb24udW5yZWdpc3RlclBsdWdpbih0aGlzKTtcbiAgfTtcbiAgRm91bmRhdGlvbi5wbHVnaW4oRHJpbGxkb3duLCAnRHJpbGxkb3duJyk7XG59KGpRdWVyeSwgd2luZG93LkZvdW5kYXRpb24pO1xuXG4vKipcbiAqIERyb3Bkb3duIG1vZHVsZS5cbiAqIEBtb2R1bGUgZm91bmRhdGlvbi5kcm9wZG93blxuICogQHJlcXVpcmVzIGZvdW5kYXRpb24udXRpbC5rZXlib2FyZFxuICogQHJlcXVpcmVzIGZvdW5kYXRpb24udXRpbC5ib3hcbiAqL1xuIWZ1bmN0aW9uKCQsIEZvdW5kYXRpb24pe1xuICAndXNlIHN0cmljdCc7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IGluc3RhbmNlIG9mIGEgZHJvcGRvd24uXG4gICAqIEBjbGFzc1xuICAgKiBAcGFyYW0ge2pRdWVyeX0gZWxlbWVudCAtIGpRdWVyeSBvYmplY3QgdG8gbWFrZSBpbnRvIGFuIGFjY29yZGlvbiBtZW51LlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIE92ZXJyaWRlcyB0byB0aGUgZGVmYXVsdCBwbHVnaW4gc2V0dGluZ3MuXG4gICAqL1xuICBmdW5jdGlvbiBEcm9wZG93bihlbGVtZW50LCBvcHRpb25zKXtcbiAgICB0aGlzLiRlbGVtZW50ID0gZWxlbWVudDtcbiAgICB0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgRHJvcGRvd24uZGVmYXVsdHMsIHRoaXMuJGVsZW1lbnQuZGF0YSgpLCBvcHRpb25zKTtcbiAgICB0aGlzLl9pbml0KCk7XG5cbiAgICBGb3VuZGF0aW9uLnJlZ2lzdGVyUGx1Z2luKHRoaXMpO1xuICAgIEZvdW5kYXRpb24uS2V5Ym9hcmQucmVnaXN0ZXIoJ0Ryb3Bkb3duJywge1xuICAgICAgJ0VOVEVSJzogJ29wZW4nLFxuICAgICAgJ1NQQUNFJzogJ29wZW4nLFxuICAgICAgJ0VTQ0FQRSc6ICdjbG9zZScsXG4gICAgICAnVEFCJzogJ3RhYl9mb3J3YXJkJyxcbiAgICAgICdTSElGVF9UQUInOiAndGFiX2JhY2t3YXJkJ1xuICAgIH0pO1xuICB9XG5cbiAgRHJvcGRvd24uZGVmYXVsdHMgPSB7XG4gICAgLyoqXG4gICAgICogQW1vdW50IG9mIHRpbWUgdG8gZGVsYXkgb3BlbmluZyBhIHN1Ym1lbnUgb24gaG92ZXIgZXZlbnQuXG4gICAgICogQG9wdGlvblxuICAgICAqIEBleGFtcGxlIDI1MFxuICAgICAqL1xuICAgIGhvdmVyRGVsYXk6IDI1MCxcbiAgICAvKipcbiAgICAgKiBBbGxvdyBzdWJtZW51cyB0byBvcGVuIG9uIGhvdmVyIGV2ZW50c1xuICAgICAqIEBvcHRpb25cbiAgICAgKiBAZXhhbXBsZSBmYWxzZVxuICAgICAqL1xuICAgIGhvdmVyOiBmYWxzZSxcbiAgICAvKipcbiAgICAgKiBOdW1iZXIgb2YgcGl4ZWxzIGJldHdlZW4gdGhlIGRyb3Bkb3duIHBhbmUgYW5kIHRoZSB0cmlnZ2VyaW5nIGVsZW1lbnQgb24gb3Blbi5cbiAgICAgKiBAb3B0aW9uXG4gICAgICogQGV4YW1wbGUgMVxuICAgICAqL1xuICAgIHZPZmZzZXQ6IDEsXG4gICAgLyoqXG4gICAgICogTnVtYmVyIG9mIHBpeGVscyBiZXR3ZWVuIHRoZSBkcm9wZG93biBwYW5lIGFuZCB0aGUgdHJpZ2dlcmluZyBlbGVtZW50IG9uIG9wZW4uXG4gICAgICogQG9wdGlvblxuICAgICAqIEBleGFtcGxlIDFcbiAgICAgKi9cbiAgICBoT2Zmc2V0OiAxLFxuICAgIC8qKlxuICAgICAqIENsYXNzIGFwcGxpZWQgdG8gYWRqdXN0IG9wZW4gcG9zaXRpb24uIEpTIHdpbGwgdGVzdCBhbmQgZmlsbCB0aGlzIGluLlxuICAgICAqIEBvcHRpb25cbiAgICAgKiBAZXhhbXBsZSAndG9wJ1xuICAgICAqL1xuICAgIHBvc2l0aW9uQ2xhc3M6ICcnLFxuICAgIC8qKlxuICAgICAqIEFsbG93IHRoZSBwbHVnaW4gdG8gdHJhcCBmb2N1cyB0byB0aGUgZHJvcGRvd24gcGFuZSBpZiBvcGVuZWQgd2l0aCBrZXlib2FyZCBjb21tYW5kcy5cbiAgICAgKiBAb3B0aW9uXG4gICAgICogQGV4YW1wbGUgZmFsc2VcbiAgICAgKi9cbiAgICB0cmFwRm9jdXM6IGZhbHNlLFxuICAgIC8qKlxuICAgICAqIEFsbG93IHRoZSBwbHVnaW4gdG8gc2V0IGZvY3VzIHRvIHRoZSBmaXJzdCBmb2N1c2FibGUgZWxlbWVudCB3aXRoaW4gdGhlIHBhbmUsIHJlZ2FyZGxlc3Mgb2YgbWV0aG9kIG9mIG9wZW5pbmcuXG4gICAgICogQG9wdGlvblxuICAgICAqIEBleGFtcGxlIHRydWVcbiAgICAgKi9cbiAgICBhdXRvRm9jdXM6IGZhbHNlXG4gIH07XG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyB0aGUgcGx1Z2luIGJ5IHNldHRpbmcvY2hlY2tpbmcgb3B0aW9ucyBhbmQgYXR0cmlidXRlcywgYWRkaW5nIGhlbHBlciB2YXJpYWJsZXMsIGFuZCBzYXZpbmcgdGhlIGFuY2hvci5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBEcm9wZG93bi5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbigpe1xuICAgIHZhciAkaWQgPSB0aGlzLiRlbGVtZW50LmF0dHIoJ2lkJyk7XG5cbiAgICB0aGlzLiRhbmNob3IgPSAkKCdbZGF0YS10b2dnbGU9XCInICsgJGlkICsgJ1wiXScpIHx8ICQoJ1tkYXRhLW9wZW49XCInICsgJGlkICsgJ1wiXScpO1xuICAgIHRoaXMuJGFuY2hvci5hdHRyKHtcbiAgICAgICdhcmlhLWNvbnRyb2xzJzogJGlkLFxuICAgICAgJ2RhdGEtaXMtZm9jdXMnOiBmYWxzZSxcbiAgICAgICdkYXRhLXlldGktYm94JzogJGlkLFxuICAgICAgJ2FyaWEtaGFzcG9wdXAnOiB0cnVlLFxuICAgICAgJ2FyaWEtZXhwYW5kZWQnOiBmYWxzZVxuICAgICAgLy8gJ2RhdGEtcmVzaXplJzogJGlkXG4gICAgfSk7XG5cbiAgICB0aGlzLm9wdGlvbnMucG9zaXRpb25DbGFzcyA9IHRoaXMuZ2V0UG9zaXRpb25DbGFzcygpO1xuICAgIHRoaXMuY291bnRlciA9IDQ7XG4gICAgdGhpcy51c2VkUG9zaXRpb25zID0gW107XG4gICAgdGhpcy4kZWxlbWVudC5hdHRyKHtcbiAgICAgICdhcmlhLWhpZGRlbic6ICd0cnVlJyxcbiAgICAgICdkYXRhLXlldGktYm94JzogJGlkLFxuICAgICAgJ2RhdGEtcmVzaXplJzogJGlkLFxuICAgICAgJ2FyaWEtbGFiZWxsZWRieSc6IHRoaXMuJGFuY2hvclswXS5pZCB8fCBGb3VuZGF0aW9uLkdldFlvRGlnaXRzKDYsICdkZC1hbmNob3InKVxuICAgIH0pO1xuICAgIHRoaXMuX2V2ZW50cygpO1xuICB9O1xuICAvKipcbiAgICogSGVscGVyIGZ1bmN0aW9uIHRvIGRldGVybWluZSBjdXJyZW50IG9yaWVudGF0aW9uIG9mIGRyb3Bkb3duIHBhbmUuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcmV0dXJucyB7U3RyaW5nfSBwb3NpdGlvbiAtIHN0cmluZyB2YWx1ZSBvZiBhIHBvc2l0aW9uIGNsYXNzLlxuICAgKi9cbiAgRHJvcGRvd24ucHJvdG90eXBlLmdldFBvc2l0aW9uQ2xhc3MgPSBmdW5jdGlvbigpe1xuICAgIHZhciBwb3NpdGlvbiA9IHRoaXMuJGVsZW1lbnRbMF0uY2xhc3NOYW1lLm1hdGNoKC8odG9wfGxlZnR8cmlnaHQpL2cpO1xuICAgICAgICBwb3NpdGlvbiA9IHBvc2l0aW9uID8gcG9zaXRpb25bMF0gOiAnJztcbiAgICByZXR1cm4gcG9zaXRpb247XG4gIH07XG4gIC8qKlxuICAgKiBBZGp1c3RzIHRoZSBkcm9wZG93biBwYW5lcyBvcmllbnRhdGlvbiBieSBhZGRpbmcvcmVtb3ZpbmcgcG9zaXRpb25pbmcgY2xhc3Nlcy5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwb3NpdGlvbiAtIHBvc2l0aW9uIGNsYXNzIHRvIHJlbW92ZS5cbiAgICovXG4gIERyb3Bkb3duLnByb3RvdHlwZS5fcmVwb3NpdGlvbiA9IGZ1bmN0aW9uKHBvc2l0aW9uKXtcbiAgICB0aGlzLnVzZWRQb3NpdGlvbnMucHVzaChwb3NpdGlvbiA/IHBvc2l0aW9uIDogJ2JvdHRvbScpO1xuICAgIC8vZGVmYXVsdCwgdHJ5IHN3aXRjaGluZyB0byBvcHBvc2l0ZSBzaWRlXG4gICAgaWYoIXBvc2l0aW9uICYmICh0aGlzLnVzZWRQb3NpdGlvbnMuaW5kZXhPZigndG9wJykgPCAwKSl7XG4gICAgICB0aGlzLiRlbGVtZW50LmFkZENsYXNzKCd0b3AnKTtcbiAgICB9ZWxzZSBpZihwb3NpdGlvbiA9PT0gJ3RvcCcgJiYgKHRoaXMudXNlZFBvc2l0aW9ucy5pbmRleE9mKCdib3R0b20nKSA8IDApKXtcbiAgICAgIHRoaXMuJGVsZW1lbnQucmVtb3ZlQ2xhc3MocG9zaXRpb24pO1xuICAgIH1lbHNlIGlmKHBvc2l0aW9uID09PSAnbGVmdCcgJiYgKHRoaXMudXNlZFBvc2l0aW9ucy5pbmRleE9mKCdyaWdodCcpIDwgMCkpe1xuICAgICAgdGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcyhwb3NpdGlvbilcbiAgICAgICAgICAuYWRkQ2xhc3MoJ3JpZ2h0Jyk7XG4gICAgfWVsc2UgaWYocG9zaXRpb24gPT09ICdyaWdodCcgJiYgKHRoaXMudXNlZFBvc2l0aW9ucy5pbmRleE9mKCdsZWZ0JykgPCAwKSl7XG4gICAgICB0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKHBvc2l0aW9uKVxuICAgICAgICAgIC5hZGRDbGFzcygnbGVmdCcpO1xuICAgIH1cblxuICAgIC8vaWYgZGVmYXVsdCBjaGFuZ2UgZGlkbid0IHdvcmssIHRyeSBib3R0b20gb3IgbGVmdCBmaXJzdFxuICAgIGVsc2UgaWYoIXBvc2l0aW9uICYmICh0aGlzLnVzZWRQb3NpdGlvbnMuaW5kZXhPZigndG9wJykgPiAtMSkgJiYgKHRoaXMudXNlZFBvc2l0aW9ucy5pbmRleE9mKCdsZWZ0JykgPCAwKSl7XG4gICAgICB0aGlzLiRlbGVtZW50LmFkZENsYXNzKCdsZWZ0Jyk7XG4gICAgfWVsc2UgaWYocG9zaXRpb24gPT09ICd0b3AnICYmICh0aGlzLnVzZWRQb3NpdGlvbnMuaW5kZXhPZignYm90dG9tJykgPiAtMSkgJiYgKHRoaXMudXNlZFBvc2l0aW9ucy5pbmRleE9mKCdsZWZ0JykgPCAwKSl7XG4gICAgICB0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKHBvc2l0aW9uKVxuICAgICAgICAgIC5hZGRDbGFzcygnbGVmdCcpO1xuICAgIH1lbHNlIGlmKHBvc2l0aW9uID09PSAnbGVmdCcgJiYgKHRoaXMudXNlZFBvc2l0aW9ucy5pbmRleE9mKCdyaWdodCcpID4gLTEpICYmICh0aGlzLnVzZWRQb3NpdGlvbnMuaW5kZXhPZignYm90dG9tJykgPCAwKSl7XG4gICAgICB0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKHBvc2l0aW9uKTtcbiAgICB9ZWxzZSBpZihwb3NpdGlvbiA9PT0gJ3JpZ2h0JyAmJiAodGhpcy51c2VkUG9zaXRpb25zLmluZGV4T2YoJ2xlZnQnKSA+IC0xKSAmJiAodGhpcy51c2VkUG9zaXRpb25zLmluZGV4T2YoJ2JvdHRvbScpIDwgMCkpe1xuICAgICAgdGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcyhwb3NpdGlvbik7XG4gICAgfVxuICAgIC8vaWYgbm90aGluZyBjbGVhcmVkLCBzZXQgdG8gYm90dG9tXG4gICAgZWxzZXtcbiAgICAgIHRoaXMuJGVsZW1lbnQucmVtb3ZlQ2xhc3MocG9zaXRpb24pO1xuICAgIH1cbiAgICB0aGlzLmNsYXNzQ2hhbmdlZCA9IHRydWU7XG4gICAgdGhpcy5jb3VudGVyLS07XG4gIH07XG4gIC8qKlxuICAgKiBTZXRzIHRoZSBwb3NpdGlvbiBhbmQgb3JpZW50YXRpb24gb2YgdGhlIGRyb3Bkb3duIHBhbmUsIGNoZWNrcyBmb3IgY29sbGlzaW9ucy5cbiAgICogUmVjdXJzaXZlbHkgY2FsbHMgaXRzZWxmIGlmIGEgY29sbGlzaW9uIGlzIGRldGVjdGVkLCB3aXRoIGEgbmV3IHBvc2l0aW9uIGNsYXNzLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQHByaXZhdGVcbiAgICovXG4gIERyb3Bkb3duLnByb3RvdHlwZS5fc2V0UG9zaXRpb24gPSBmdW5jdGlvbigpe1xuICAgIGlmKHRoaXMuJGFuY2hvci5hdHRyKCdhcmlhLWV4cGFuZGVkJykgPT09ICdmYWxzZScpeyByZXR1cm4gZmFsc2U7IH1cbiAgICB2YXIgcG9zaXRpb24gPSB0aGlzLmdldFBvc2l0aW9uQ2xhc3MoKSxcbiAgICAgICAgJGVsZURpbXMgPSBGb3VuZGF0aW9uLkJveC5HZXREaW1lbnNpb25zKHRoaXMuJGVsZW1lbnQpLFxuICAgICAgICAkYW5jaG9yRGltcyA9IEZvdW5kYXRpb24uQm94LkdldERpbWVuc2lvbnModGhpcy4kYW5jaG9yKSxcbiAgICAgICAgX3RoaXMgPSB0aGlzLFxuICAgICAgICBkaXJlY3Rpb24gPSAocG9zaXRpb24gPT09ICdsZWZ0JyA/ICdsZWZ0JyA6ICgocG9zaXRpb24gPT09ICdyaWdodCcpID8gJ2xlZnQnIDogJ3RvcCcpKSxcbiAgICAgICAgcGFyYW0gPSAoZGlyZWN0aW9uID09PSAndG9wJykgPyAnaGVpZ2h0JyA6ICd3aWR0aCcsXG4gICAgICAgIG9mZnNldCA9IChwYXJhbSA9PT0gJ2hlaWdodCcpID8gdGhpcy5vcHRpb25zLnZPZmZzZXQgOiB0aGlzLm9wdGlvbnMuaE9mZnNldDtcblxuICAgIGlmKCgkZWxlRGltcy53aWR0aCA+PSAkZWxlRGltcy53aW5kb3dEaW1zLndpZHRoKSB8fCAoIXRoaXMuY291bnRlciAmJiAhRm91bmRhdGlvbi5Cb3guSW1Ob3RUb3VjaGluZ1lvdSh0aGlzLiRlbGVtZW50KSkpe1xuICAgICAgdGhpcy4kZWxlbWVudC5vZmZzZXQoRm91bmRhdGlvbi5Cb3guR2V0T2Zmc2V0cyh0aGlzLiRlbGVtZW50LCB0aGlzLiRhbmNob3IsICdjZW50ZXIgYm90dG9tJywgdGhpcy5vcHRpb25zLnZPZmZzZXQsIHRoaXMub3B0aW9ucy5oT2Zmc2V0LCB0cnVlKSkuY3NzKHtcbiAgICAgICAgJ3dpZHRoJzogJGVsZURpbXMud2luZG93RGltcy53aWR0aCAtICh0aGlzLm9wdGlvbnMuaE9mZnNldCAqIDIpLFxuICAgICAgICAnaGVpZ2h0JzogJ2F1dG8nXG4gICAgICB9KTtcbiAgICAgIHRoaXMuY2xhc3NDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB0aGlzLiRlbGVtZW50Lm9mZnNldChGb3VuZGF0aW9uLkJveC5HZXRPZmZzZXRzKHRoaXMuJGVsZW1lbnQsIHRoaXMuJGFuY2hvciwgcG9zaXRpb24sIHRoaXMub3B0aW9ucy52T2Zmc2V0LCB0aGlzLm9wdGlvbnMuaE9mZnNldCkpO1xuXG4gICAgd2hpbGUoIUZvdW5kYXRpb24uQm94LkltTm90VG91Y2hpbmdZb3UodGhpcy4kZWxlbWVudCkgJiYgdGhpcy5jb3VudGVyKXtcbiAgICAgIHRoaXMuX3JlcG9zaXRpb24ocG9zaXRpb24pO1xuICAgICAgdGhpcy5fc2V0UG9zaXRpb24oKTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBBZGRzIGV2ZW50IGxpc3RlbmVycyB0byB0aGUgZWxlbWVudCB1dGlsaXppbmcgdGhlIHRyaWdnZXJzIHV0aWxpdHkgbGlicmFyeS5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBEcm9wZG93bi5wcm90b3R5cGUuX2V2ZW50cyA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICB0aGlzLiRlbGVtZW50Lm9uKHtcbiAgICAgICdvcGVuLnpmLnRyaWdnZXInOiB0aGlzLm9wZW4uYmluZCh0aGlzKSxcbiAgICAgICdjbG9zZS56Zi50cmlnZ2VyJzogdGhpcy5jbG9zZS5iaW5kKHRoaXMpLFxuICAgICAgJ3RvZ2dsZS56Zi50cmlnZ2VyJzogdGhpcy50b2dnbGUuYmluZCh0aGlzKSxcbiAgICAgICdyZXNpemVtZS56Zi50cmlnZ2VyJzogdGhpcy5fc2V0UG9zaXRpb24uYmluZCh0aGlzKVxuICAgIH0pO1xuXG4gICAgaWYodGhpcy5vcHRpb25zLmhvdmVyKXtcbiAgICAgIHRoaXMuJGFuY2hvci5vZmYoJ21vdXNlZW50ZXIuemYuZHJvcGRvd24gbW91c2VsZWF2ZS56Zi5kcm9wZG93bicpXG4gICAgICAgICAgLm9uKCdtb3VzZWVudGVyLnpmLmRyb3Bkb3duJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChfdGhpcy50aW1lb3V0KTtcbiAgICAgICAgICAgIF90aGlzLnRpbWVPdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgIF90aGlzLm9wZW4oKTtcbiAgICAgICAgICAgICAgX3RoaXMuJGFuY2hvci5kYXRhKCdob3ZlcicsIHRydWUpO1xuICAgICAgICAgICAgfSwgX3RoaXMub3B0aW9ucy5ob3ZlckRlbGF5KTtcbiAgICAgICAgICB9KS5vbignbW91c2VsZWF2ZS56Zi5kcm9wZG93bicsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoX3RoaXMudGltZW91dCk7XG4gICAgICAgICAgICBfdGhpcy50aW1lT3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICBfdGhpcy5jbG9zZSgpO1xuICAgICAgICAgICAgICBfdGhpcy4kYW5jaG9yLmRhdGEoJ2hvdmVyJywgZmFsc2UpO1xuICAgICAgICAgICAgfSwgX3RoaXMub3B0aW9ucy5ob3ZlckRlbGF5KTtcbiAgICAgICAgICB9KTtcbiAgICB9XG4gICAgdGhpcy4kYW5jaG9yLmFkZCh0aGlzLiRlbGVtZW50KS5vbigna2V5ZG93bi56Zi5kcm9wZG93bicsIGZ1bmN0aW9uKGUpIHtcblxuICAgICAgdmFyIHZpc2libGVGb2N1c2FibGVFbGVtZW50cyA9IEZvdW5kYXRpb24uS2V5Ym9hcmQuZmluZEZvY3VzYWJsZShfdGhpcy4kZWxlbWVudCk7XG5cbiAgICAgIEZvdW5kYXRpb24uS2V5Ym9hcmQuaGFuZGxlS2V5KGUsIF90aGlzLCB7XG4gICAgICAgIHRhYl9mb3J3YXJkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAodGhpcy4kZWxlbWVudC5maW5kKCc6Zm9jdXMnKS5pcyh2aXNpYmxlRm9jdXNhYmxlRWxlbWVudHMuZXEoLTEpKSkgeyAvLyBsZWZ0IG1vZGFsIGRvd253YXJkcywgc2V0dGluZyBmb2N1cyB0byBmaXJzdCBlbGVtZW50XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnRyYXBGb2N1cykgeyAvLyBpZiBmb2N1cyBzaGFsbCBiZSB0cmFwcGVkXG4gICAgICAgICAgICAgIHZpc2libGVGb2N1c2FibGVFbGVtZW50cy5lcSgwKS5mb2N1cygpO1xuICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9IGVsc2UgeyAvLyBpZiBmb2N1cyBpcyBub3QgdHJhcHBlZCwgY2xvc2UgZHJvcGRvd24gb24gZm9jdXMgb3V0XG4gICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHRhYl9iYWNrd2FyZDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKHRoaXMuJGVsZW1lbnQuZmluZCgnOmZvY3VzJykuaXModmlzaWJsZUZvY3VzYWJsZUVsZW1lbnRzLmVxKDApKSB8fCB0aGlzLiRlbGVtZW50LmlzKCc6Zm9jdXMnKSkgeyAvLyBsZWZ0IG1vZGFsIHVwd2FyZHMsIHNldHRpbmcgZm9jdXMgdG8gbGFzdCBlbGVtZW50XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnRyYXBGb2N1cykgeyAvLyBpZiBmb2N1cyBzaGFsbCBiZSB0cmFwcGVkXG4gICAgICAgICAgICAgIHZpc2libGVGb2N1c2FibGVFbGVtZW50cy5lcSgtMSkuZm9jdXMoKTtcbiAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfSBlbHNlIHsgLy8gaWYgZm9jdXMgaXMgbm90IHRyYXBwZWQsIGNsb3NlIGRyb3Bkb3duIG9uIGZvY3VzIG91dFxuICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvcGVuOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBfdGhpcy5vcGVuKCk7XG4gICAgICAgICAgX3RoaXMuJGVsZW1lbnQuYXR0cigndGFiaW5kZXgnLCAtMSkuZm9jdXMoKTtcbiAgICAgICAgfSxcbiAgICAgICAgY2xvc2U6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIF90aGlzLmNsb3NlKCk7XG4gICAgICAgICAgX3RoaXMuJGFuY2hvci5mb2N1cygpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcbiAgLyoqXG4gICAqIE9wZW5zIHRoZSBkcm9wZG93biBwYW5lLCBhbmQgZmlyZXMgYSBidWJibGluZyBldmVudCB0byBjbG9zZSBvdGhlciBkcm9wZG93bnMuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAZmlyZXMgRHJvcGRvd24jY2xvc2VtZVxuICAgKiBAZmlyZXMgRHJvcGRvd24jc2hvd1xuICAgKi9cbiAgRHJvcGRvd24ucHJvdG90eXBlLm9wZW4gPSBmdW5jdGlvbigpe1xuICAgIC8vIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgLyoqXG4gICAgICogRmlyZXMgdG8gY2xvc2Ugb3RoZXIgb3BlbiBkcm9wZG93bnNcbiAgICAgKiBAZXZlbnQgRHJvcGRvd24jY2xvc2VtZVxuICAgICAqL1xuICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcignY2xvc2VtZS56Zi5kcm9wZG93bicsIHRoaXMuJGVsZW1lbnQuYXR0cignaWQnKSk7XG4gICAgdGhpcy4kYW5jaG9yLmFkZENsYXNzKCdob3ZlcicpXG4gICAgICAgIC5hdHRyKHsnYXJpYS1leHBhbmRlZCc6IHRydWV9KTtcbiAgICAvLyB0aGlzLiRlbGVtZW50Lyouc2hvdygpKi87XG4gICAgdGhpcy5fc2V0UG9zaXRpb24oKTtcbiAgICB0aGlzLiRlbGVtZW50LmFkZENsYXNzKCdpcy1vcGVuJylcbiAgICAgICAgLmF0dHIoeydhcmlhLWhpZGRlbic6IGZhbHNlfSk7XG4gICAgICAgIFxuICAgIGlmKHRoaXMub3B0aW9ucy5hdXRvRm9jdXMpe1xuICAgICAgdmFyICRmb2N1c2FibGUgPSBGb3VuZGF0aW9uLktleWJvYXJkLmZpbmRGb2N1c2FibGUodGhpcy4kZWxlbWVudCk7XG4gICAgICBpZigkZm9jdXNhYmxlLmxlbmd0aCl7XG4gICAgICAgICRmb2N1c2FibGUuZXEoMCkuZm9jdXMoKTtcbiAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEZpcmVzIG9uY2UgdGhlIGRyb3Bkb3duIGlzIHZpc2libGUuXG4gICAgICogQGV2ZW50IERyb3Bkb3duI3Nob3dcbiAgICAgKi9cbiAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKCdzaG93LnpmLmRyb3Bkb3duJywgW3RoaXMuJGVsZW1lbnRdKTtcbiAgICAvL3doeSBkb2VzIHRoaXMgbm90IHdvcmsgY29ycmVjdGx5IGZvciB0aGlzIHBsdWdpbj9cbiAgICAvLyBGb3VuZGF0aW9uLnJlZmxvdyh0aGlzLiRlbGVtZW50LCAnZHJvcGRvd24nKTtcbiAgICAvLyBGb3VuZGF0aW9uLl9yZWZsb3codGhpcy4kZWxlbWVudC5hdHRyKCdkYXRhLWRyb3Bkb3duJykpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDbG9zZXMgdGhlIG9wZW4gZHJvcGRvd24gcGFuZS5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBmaXJlcyBEcm9wZG93biNoaWRlXG4gICAqL1xuICBEcm9wZG93bi5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbigpe1xuICAgIGlmKCF0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdpcy1vcGVuJykpe1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKCdpcy1vcGVuJylcbiAgICAgICAgLmF0dHIoeydhcmlhLWhpZGRlbic6IHRydWV9KTtcblxuICAgIHRoaXMuJGFuY2hvci5yZW1vdmVDbGFzcygnaG92ZXInKVxuICAgICAgICAuYXR0cignYXJpYS1leHBhbmRlZCcsIGZhbHNlKTtcblxuICAgIGlmKHRoaXMuY2xhc3NDaGFuZ2VkKXtcbiAgICAgIHZhciBjdXJQb3NpdGlvbkNsYXNzID0gdGhpcy5nZXRQb3NpdGlvbkNsYXNzKCk7XG4gICAgICBpZihjdXJQb3NpdGlvbkNsYXNzKXtcbiAgICAgICAgdGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcyhjdXJQb3NpdGlvbkNsYXNzKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuJGVsZW1lbnQuYWRkQ2xhc3ModGhpcy5vcHRpb25zLnBvc2l0aW9uQ2xhc3MpXG4gICAgICAgICAgLyouaGlkZSgpKi8uY3NzKHtoZWlnaHQ6ICcnLCB3aWR0aDogJyd9KTtcbiAgICAgIHRoaXMuY2xhc3NDaGFuZ2VkID0gZmFsc2U7XG4gICAgICB0aGlzLmNvdW50ZXIgPSA0O1xuICAgICAgdGhpcy51c2VkUG9zaXRpb25zLmxlbmd0aCA9IDA7XG4gICAgfVxuICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcignaGlkZS56Zi5kcm9wZG93bicsIFt0aGlzLiRlbGVtZW50XSk7XG4gICAgLy8gRm91bmRhdGlvbi5yZWZsb3codGhpcy4kZWxlbWVudCwgJ2Ryb3Bkb3duJyk7XG4gIH07XG4gIC8qKlxuICAgKiBUb2dnbGVzIHRoZSBkcm9wZG93biBwYW5lJ3MgdmlzaWJpbGl0eS5cbiAgICogQGZ1bmN0aW9uXG4gICAqL1xuICBEcm9wZG93bi5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24oKXtcbiAgICBpZih0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdpcy1vcGVuJykpe1xuICAgICAgaWYodGhpcy4kYW5jaG9yLmRhdGEoJ2hvdmVyJykpIHJldHVybjtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9ZWxzZXtcbiAgICAgIHRoaXMub3BlbigpO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIERlc3Ryb3lzIHRoZSBkcm9wZG93bi5cbiAgICogQGZ1bmN0aW9uXG4gICAqL1xuICBEcm9wZG93bi5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCl7XG4gICAgdGhpcy4kZWxlbWVudC5vZmYoJy56Zi50cmlnZ2VyJykuaGlkZSgpO1xuICAgIHRoaXMuJGFuY2hvci5vZmYoJy56Zi5kcm9wZG93bicpO1xuXG4gICAgRm91bmRhdGlvbi51bnJlZ2lzdGVyUGx1Z2luKHRoaXMpO1xuICB9O1xuXG4gIEZvdW5kYXRpb24ucGx1Z2luKERyb3Bkb3duLCAnRHJvcGRvd24nKTtcbn0oalF1ZXJ5LCB3aW5kb3cuRm91bmRhdGlvbik7XG5cbi8qKlxuICogRHJvcGRvd25NZW51IG1vZHVsZS5cbiAqIEBtb2R1bGUgZm91bmRhdGlvbi5kcm9wZG93bi1tZW51XG4gKiBAcmVxdWlyZXMgZm91bmRhdGlvbi51dGlsLmtleWJvYXJkXG4gKiBAcmVxdWlyZXMgZm91bmRhdGlvbi51dGlsLmJveFxuICogQHJlcXVpcmVzIGZvdW5kYXRpb24udXRpbC5uZXN0XG4gKi9cbiFmdW5jdGlvbigkLCBGb3VuZGF0aW9uKXtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IGluc3RhbmNlIG9mIERyb3Bkb3duTWVudS5cbiAgICogQGNsYXNzXG4gICAqIEBmaXJlcyBEcm9wZG93bk1lbnUjaW5pdFxuICAgKiBAcGFyYW0ge2pRdWVyeX0gZWxlbWVudCAtIGpRdWVyeSBvYmplY3QgdG8gbWFrZSBpbnRvIGEgZHJvcGRvd24gbWVudS5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBPdmVycmlkZXMgdG8gdGhlIGRlZmF1bHQgcGx1Z2luIHNldHRpbmdzLlxuICAgKi9cbiAgZnVuY3Rpb24gRHJvcGRvd25NZW51KGVsZW1lbnQsIG9wdGlvbnMpe1xuICAgIHRoaXMuJGVsZW1lbnQgPSBlbGVtZW50O1xuICAgIHRoaXMub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBEcm9wZG93bk1lbnUuZGVmYXVsdHMsIHRoaXMuJGVsZW1lbnQuZGF0YSgpLCBvcHRpb25zKTtcblxuICAgIEZvdW5kYXRpb24uTmVzdC5GZWF0aGVyKHRoaXMuJGVsZW1lbnQsICdkcm9wZG93bicpO1xuICAgIHRoaXMuX2luaXQoKTtcblxuICAgIEZvdW5kYXRpb24ucmVnaXN0ZXJQbHVnaW4odGhpcyk7XG4gICAgRm91bmRhdGlvbi5LZXlib2FyZC5yZWdpc3RlcignRHJvcGRvd25NZW51Jywge1xuICAgICAgJ0VOVEVSJzogJ29wZW4nLFxuICAgICAgJ1NQQUNFJzogJ29wZW4nLFxuICAgICAgJ0FSUk9XX1JJR0hUJzogJ25leHQnLFxuICAgICAgJ0FSUk9XX1VQJzogJ3VwJyxcbiAgICAgICdBUlJPV19ET1dOJzogJ2Rvd24nLFxuICAgICAgJ0FSUk9XX0xFRlQnOiAncHJldmlvdXMnLFxuICAgICAgJ0VTQ0FQRSc6ICdjbG9zZSdcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWZhdWx0IHNldHRpbmdzIGZvciBwbHVnaW5cbiAgICovXG4gIERyb3Bkb3duTWVudS5kZWZhdWx0cyA9IHtcbiAgICAvKipcbiAgICAgKiBEaXNhbGxvd3MgaG92ZXIgZXZlbnRzIGZyb20gb3BlbmluZyBzdWJtZW51c1xuICAgICAqIEBvcHRpb25cbiAgICAgKiBAZXhhbXBsZSBmYWxzZVxuICAgICAqL1xuICAgIGRpc2FibGVIb3ZlcjogZmFsc2UsXG4gICAgLyoqXG4gICAgICogQWxsb3cgYSBzdWJtZW51IHRvIGF1dG9tYXRpY2FsbHkgY2xvc2Ugb24gYSBtb3VzZWxlYXZlIGV2ZW50LCBpZiBub3QgY2xpY2tlZCBvcGVuLlxuICAgICAqIEBvcHRpb25cbiAgICAgKiBAZXhhbXBsZSB0cnVlXG4gICAgICovXG4gICAgYXV0b2Nsb3NlOiB0cnVlLFxuICAgIC8qKlxuICAgICAqIEFtb3VudCBvZiB0aW1lIHRvIGRlbGF5IG9wZW5pbmcgYSBzdWJtZW51IG9uIGhvdmVyIGV2ZW50LlxuICAgICAqIEBvcHRpb25cbiAgICAgKiBAZXhhbXBsZSA1MFxuICAgICAqL1xuICAgIGhvdmVyRGVsYXk6IDUwLFxuICAgIC8qKlxuICAgICAqIEFsbG93IGEgc3VibWVudSB0byBvcGVuL3JlbWFpbiBvcGVuIG9uIHBhcmVudCBjbGljayBldmVudC4gQWxsb3dzIGN1cnNvciB0byBtb3ZlIGF3YXkgZnJvbSBtZW51LlxuICAgICAqIEBvcHRpb25cbiAgICAgKiBAZXhhbXBsZSB0cnVlXG4gICAgICovXG4gICAgY2xpY2tPcGVuOiBmYWxzZSxcbiAgICAvKipcbiAgICAgKiBBbW91bnQgb2YgdGltZSB0byBkZWxheSBjbG9zaW5nIGEgc3VibWVudSBvbiBhIG1vdXNlbGVhdmUgZXZlbnQuXG4gICAgICogQG9wdGlvblxuICAgICAqIEBleGFtcGxlIDUwMFxuICAgICAqL1xuXG4gICAgY2xvc2luZ1RpbWU6IDUwMCxcbiAgICAvKipcbiAgICAgKiBQb3NpdGlvbiBvZiB0aGUgbWVudSByZWxhdGl2ZSB0byB3aGF0IGRpcmVjdGlvbiB0aGUgc3VibWVudXMgc2hvdWxkIG9wZW4uIEhhbmRsZWQgYnkgSlMuXG4gICAgICogQG9wdGlvblxuICAgICAqIEBleGFtcGxlICdsZWZ0J1xuICAgICAqL1xuICAgIGFsaWdubWVudDogJ2xlZnQnLFxuICAgIC8qKlxuICAgICAqIEFsbG93IGNsaWNrcyBvbiB0aGUgYm9keSB0byBjbG9zZSBhbnkgb3BlbiBzdWJtZW51cy5cbiAgICAgKiBAb3B0aW9uXG4gICAgICogQGV4YW1wbGUgdHJ1ZVxuICAgICAqL1xuICAgIGNsb3NlT25DbGljazogdHJ1ZSxcbiAgICAvKipcbiAgICAgKiBDbGFzcyBhcHBsaWVkIHRvIHZlcnRpY2FsIG9yaWVudGVkIG1lbnVzLCBGb3VuZGF0aW9uIGRlZmF1bHQgaXMgYHZlcnRpY2FsYC4gVXBkYXRlIHRoaXMgaWYgdXNpbmcgeW91ciBvd24gY2xhc3MuXG4gICAgICogQG9wdGlvblxuICAgICAqIEBleGFtcGxlICd2ZXJ0aWNhbCdcbiAgICAgKi9cbiAgICB2ZXJ0aWNhbENsYXNzOiAndmVydGljYWwnLFxuICAgIC8qKlxuICAgICAqIENsYXNzIGFwcGxpZWQgdG8gcmlnaHQtc2lkZSBvcmllbnRlZCBtZW51cywgRm91bmRhdGlvbiBkZWZhdWx0IGlzIGBhbGlnbi1yaWdodGAuIFVwZGF0ZSB0aGlzIGlmIHVzaW5nIHlvdXIgb3duIGNsYXNzLlxuICAgICAqIEBvcHRpb25cbiAgICAgKiBAZXhhbXBsZSAnYWxpZ24tcmlnaHQnXG4gICAgICovXG4gICAgcmlnaHRDbGFzczogJ2FsaWduLXJpZ2h0JyxcbiAgICAvKipcbiAgICAgKiBCb29sZWFuIHRvIGZvcmNlIG92ZXJpZGUgdGhlIGNsaWNraW5nIG9mIGxpbmtzIHRvIHBlcmZvcm0gZGVmYXVsdCBhY3Rpb24sIG9uIHNlY29uZCB0b3VjaCBldmVudCBmb3IgbW9iaWxlLlxuICAgICAqIEBvcHRpb25cbiAgICAgKiBAZXhhbXBsZSBmYWxzZVxuICAgICAqL1xuICAgIGZvcmNlRm9sbG93OiB0cnVlXG4gIH07XG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyB0aGUgcGx1Z2luLCBhbmQgY2FsbHMgX3ByZXBhcmVNZW51XG4gICAqIEBwcml2YXRlXG4gICAqIEBmdW5jdGlvblxuICAgKi9cbiAgRHJvcGRvd25NZW51LnByb3RvdHlwZS5faW5pdCA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIHN1YnMgPSB0aGlzLiRlbGVtZW50LmZpbmQoJ2xpLmlzLWRyb3Bkb3duLXN1Ym1lbnUtcGFyZW50Jyk7XG4gICAgdGhpcy4kZWxlbWVudC5jaGlsZHJlbignLmlzLWRyb3Bkb3duLXN1Ym1lbnUtcGFyZW50JykuY2hpbGRyZW4oJy5pcy1kcm9wZG93bi1zdWJtZW51JykuYWRkQ2xhc3MoJ2ZpcnN0LXN1YicpO1xuXG4gICAgdGhpcy4kbWVudUl0ZW1zID0gdGhpcy4kZWxlbWVudC5maW5kKCdbcm9sZT1cIm1lbnVpdGVtXCJdJyk7XG4gICAgdGhpcy4kdGFicyA9IHRoaXMuJGVsZW1lbnQuY2hpbGRyZW4oJ1tyb2xlPVwibWVudWl0ZW1cIl0nKTtcbiAgICB0aGlzLmlzVmVydCA9IHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3ModGhpcy5vcHRpb25zLnZlcnRpY2FsQ2xhc3MpO1xuICAgIHRoaXMuJHRhYnMuZmluZCgndWwuaXMtZHJvcGRvd24tc3VibWVudScpLmFkZENsYXNzKHRoaXMub3B0aW9ucy52ZXJ0aWNhbENsYXNzKTtcblxuICAgIGlmKHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3ModGhpcy5vcHRpb25zLnJpZ2h0Q2xhc3MpIHx8IHRoaXMub3B0aW9ucy5hbGlnbm1lbnQgPT09ICdyaWdodCcpe1xuICAgICAgdGhpcy5vcHRpb25zLmFsaWdubWVudCA9ICdyaWdodCc7XG4gICAgICBzdWJzLmFkZENsYXNzKCdpcy1sZWZ0LWFycm93IG9wZW5zLWxlZnQnKTtcbiAgICB9ZWxzZXtcbiAgICAgIHN1YnMuYWRkQ2xhc3MoJ2lzLXJpZ2h0LWFycm93IG9wZW5zLXJpZ2h0Jyk7XG4gICAgfVxuICAgIGlmKCF0aGlzLmlzVmVydCl7XG4gICAgICB0aGlzLiR0YWJzLmZpbHRlcignLmlzLWRyb3Bkb3duLXN1Ym1lbnUtcGFyZW50JykucmVtb3ZlQ2xhc3MoJ2lzLXJpZ2h0LWFycm93IGlzLWxlZnQtYXJyb3cgb3BlbnMtcmlnaHQgb3BlbnMtbGVmdCcpXG4gICAgICAgICAgLmFkZENsYXNzKCdpcy1kb3duLWFycm93Jyk7XG4gICAgfVxuICAgIHRoaXMuY2hhbmdlZCA9IGZhbHNlO1xuICAgIHRoaXMuX2V2ZW50cygpO1xuICB9O1xuICAvKipcbiAgICogQWRkcyBldmVudCBsaXN0ZW5lcnMgdG8gZWxlbWVudHMgd2l0aGluIHRoZSBtZW51XG4gICAqIEBwcml2YXRlXG4gICAqIEBmdW5jdGlvblxuICAgKi9cbiAgRHJvcGRvd25NZW51LnByb3RvdHlwZS5fZXZlbnRzID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgX3RoaXMgPSB0aGlzLFxuICAgICAgICBoYXNUb3VjaCA9ICdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdyB8fCAodHlwZW9mIHdpbmRvdy5vbnRvdWNoc3RhcnQgIT09ICd1bmRlZmluZWQnKSxcbiAgICAgICAgcGFyQ2xhc3MgPSAnaXMtZHJvcGRvd24tc3VibWVudS1wYXJlbnQnLFxuICAgICAgICBkZWxheTtcblxuICAgIGlmKHRoaXMub3B0aW9ucy5jbGlja09wZW4gfHwgaGFzVG91Y2gpe1xuICAgICAgdGhpcy4kbWVudUl0ZW1zLm9uKCdjbGljay56Zi5kcm9wZG93bm1lbnUgdG91Y2hzdGFydC56Zi5kcm9wZG93bm1lbnUnLCBmdW5jdGlvbihlKXtcbiAgICAgICAgdmFyICRlbGVtID0gJChlLnRhcmdldCkucGFyZW50c1VudGlsKCd1bCcsICcuJyArIHBhckNsYXNzKSxcbiAgICAgICAgICAgIGhhc1N1YiA9ICRlbGVtLmhhc0NsYXNzKHBhckNsYXNzKSxcbiAgICAgICAgICAgIGhhc0NsaWNrZWQgPSAkZWxlbS5hdHRyKCdkYXRhLWlzLWNsaWNrJykgPT09ICd0cnVlJyxcbiAgICAgICAgICAgICRzdWIgPSAkZWxlbS5jaGlsZHJlbignLmlzLWRyb3Bkb3duLXN1Ym1lbnUnKTtcblxuICAgICAgICBpZihoYXNTdWIpe1xuICAgICAgICAgIGlmKGhhc0NsaWNrZWQpe1xuICAgICAgICAgICAgaWYoIV90aGlzLm9wdGlvbnMuY2xvc2VPbkNsaWNrIHx8ICghX3RoaXMub3B0aW9ucy5jbGlja09wZW4gJiYgIWhhc1RvdWNoKSB8fCAoX3RoaXMub3B0aW9ucy5mb3JjZUZvbGxvdyAmJiBoYXNUb3VjaCkpeyByZXR1cm47IH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgX3RoaXMuX2hpZGUoJGVsZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIF90aGlzLl9zaG93KCRlbGVtLmNoaWxkcmVuKCcuaXMtZHJvcGRvd24tc3VibWVudScpKTtcbiAgICAgICAgICAgICRlbGVtLmFkZCgkZWxlbS5wYXJlbnRzVW50aWwoX3RoaXMuJGVsZW1lbnQsICcuJyArIHBhckNsYXNzKSkuYXR0cignZGF0YS1pcy1jbGljaycsIHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfWVsc2V7IHJldHVybjsgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYoIXRoaXMub3B0aW9ucy5kaXNhYmxlSG92ZXIpe1xuICAgICAgdGhpcy4kbWVudUl0ZW1zLm9uKCdtb3VzZWVudGVyLnpmLmRyb3Bkb3dubWVudScsIGZ1bmN0aW9uKGUpe1xuICAgICAgICBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgICAgICB2YXIgJGVsZW0gPSAkKHRoaXMpLFxuICAgICAgICAgICAgaGFzU3ViID0gJGVsZW0uaGFzQ2xhc3MocGFyQ2xhc3MpO1xuXG4gICAgICAgIGlmKGhhc1N1Yil7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KGRlbGF5KTtcbiAgICAgICAgICBkZWxheSA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIF90aGlzLl9zaG93KCRlbGVtLmNoaWxkcmVuKCcuaXMtZHJvcGRvd24tc3VibWVudScpKTtcbiAgICAgICAgICB9LCBfdGhpcy5vcHRpb25zLmhvdmVyRGVsYXkpO1xuICAgICAgICB9XG4gICAgICB9KS5vbignbW91c2VsZWF2ZS56Zi5kcm9wZG93bm1lbnUnLCBmdW5jdGlvbihlKXtcbiAgICAgICAgdmFyICRlbGVtID0gJCh0aGlzKSxcbiAgICAgICAgICAgIGhhc1N1YiA9ICRlbGVtLmhhc0NsYXNzKHBhckNsYXNzKTtcbiAgICAgICAgaWYoaGFzU3ViICYmIF90aGlzLm9wdGlvbnMuYXV0b2Nsb3NlKXtcbiAgICAgICAgICBpZigkZWxlbS5hdHRyKCdkYXRhLWlzLWNsaWNrJykgPT09ICd0cnVlJyAmJiBfdGhpcy5vcHRpb25zLmNsaWNrT3Blbil7IHJldHVybiBmYWxzZTsgfVxuXG4gICAgICAgICAgLy8gY2xlYXJUaW1lb3V0KGRlbGF5KTtcbiAgICAgICAgICBkZWxheSA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIF90aGlzLl9oaWRlKCRlbGVtKTtcbiAgICAgICAgICB9LCBfdGhpcy5vcHRpb25zLmNsb3NpbmdUaW1lKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHRoaXMuJG1lbnVJdGVtcy5vbigna2V5ZG93bi56Zi5kcm9wZG93bm1lbnUnLCBmdW5jdGlvbihlKXtcbiAgICAgIHZhciAkZWxlbWVudCA9ICQoZS50YXJnZXQpLnBhcmVudHNVbnRpbCgndWwnLCAnW3JvbGU9XCJtZW51aXRlbVwiXScpLFxuICAgICAgICAgIGlzVGFiID0gX3RoaXMuJHRhYnMuaW5kZXgoJGVsZW1lbnQpID4gLTEsXG4gICAgICAgICAgJGVsZW1lbnRzID0gaXNUYWIgPyBfdGhpcy4kdGFicyA6ICRlbGVtZW50LnNpYmxpbmdzKCdsaScpLmFkZCgkZWxlbWVudCksXG4gICAgICAgICAgJHByZXZFbGVtZW50LFxuICAgICAgICAgICRuZXh0RWxlbWVudDtcblxuICAgICAgJGVsZW1lbnRzLmVhY2goZnVuY3Rpb24oaSkge1xuICAgICAgICBpZiAoJCh0aGlzKS5pcygkZWxlbWVudCkpIHtcbiAgICAgICAgICAkcHJldkVsZW1lbnQgPSAkZWxlbWVudHMuZXEoaS0xKTtcbiAgICAgICAgICAkbmV4dEVsZW1lbnQgPSAkZWxlbWVudHMuZXEoaSsxKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICB2YXIgbmV4dFNpYmxpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCEkZWxlbWVudC5pcygnOmxhc3QtY2hpbGQnKSkgJG5leHRFbGVtZW50LmNoaWxkcmVuKCdhOmZpcnN0JykuZm9jdXMoKTtcbiAgICAgIH0sIHByZXZTaWJsaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICRwcmV2RWxlbWVudC5jaGlsZHJlbignYTpmaXJzdCcpLmZvY3VzKCk7XG4gICAgICB9LCBvcGVuU3ViID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciAkc3ViID0gJGVsZW1lbnQuY2hpbGRyZW4oJ3VsLmlzLWRyb3Bkb3duLXN1Ym1lbnUnKTtcbiAgICAgICAgaWYoJHN1Yi5sZW5ndGgpe1xuICAgICAgICAgIF90aGlzLl9zaG93KCRzdWIpO1xuICAgICAgICAgICRlbGVtZW50LmZpbmQoJ2xpID4gYTpmaXJzdCcpLmZvY3VzKCk7XG4gICAgICAgIH1lbHNleyByZXR1cm47IH1cbiAgICAgIH0sIGNsb3NlU3ViID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vaWYgKCRlbGVtZW50LmlzKCc6Zmlyc3QtY2hpbGQnKSkge1xuICAgICAgICB2YXIgY2xvc2UgPSAkZWxlbWVudC5wYXJlbnQoJ3VsJykucGFyZW50KCdsaScpO1xuICAgICAgICAgIGNsb3NlLmNoaWxkcmVuKCdhOmZpcnN0JykuZm9jdXMoKTtcbiAgICAgICAgICBfdGhpcy5faGlkZShjbG9zZSk7XG4gICAgICAgIC8vfVxuICAgICAgfTtcbiAgICAgIHZhciBmdW5jdGlvbnMgPSB7XG4gICAgICAgIG9wZW46IG9wZW5TdWIsXG4gICAgICAgIGNsb3NlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBfdGhpcy5faGlkZShfdGhpcy4kZWxlbWVudCk7XG4gICAgICAgICAgX3RoaXMuJG1lbnVJdGVtcy5maW5kKCdhOmZpcnN0JykuZm9jdXMoKTsgLy8gZm9jdXMgdG8gZmlyc3QgZWxlbWVudFxuICAgICAgICB9LFxuICAgICAgICBoYW5kbGVkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgaWYgKGlzVGFiKSB7XG4gICAgICAgIGlmIChfdGhpcy52ZXJ0aWNhbCkgeyAvLyB2ZXJ0aWNhbCBtZW51XG4gICAgICAgICAgaWYgKF90aGlzLm9wdGlvbnMuYWxpZ25tZW50ID09PSAnbGVmdCcpIHsgLy8gbGVmdCBhbGlnbmVkXG4gICAgICAgICAgICAkLmV4dGVuZChmdW5jdGlvbnMsIHtcbiAgICAgICAgICAgICAgZG93bjogbmV4dFNpYmxpbmcsXG4gICAgICAgICAgICAgIHVwOiBwcmV2U2libGluZyxcbiAgICAgICAgICAgICAgbmV4dDogb3BlblN1YixcbiAgICAgICAgICAgICAgcHJldmlvdXM6IGNsb3NlU3ViXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2UgeyAvLyByaWdodCBhbGlnbmVkXG4gICAgICAgICAgICAkLmV4dGVuZChmdW5jdGlvbnMsIHtcbiAgICAgICAgICAgICAgZG93bjogbmV4dFNpYmxpbmcsXG4gICAgICAgICAgICAgIHVwOiBwcmV2U2libGluZyxcbiAgICAgICAgICAgICAgbmV4dDogY2xvc2VTdWIsXG4gICAgICAgICAgICAgIHByZXZpb3VzOiBvcGVuU3ViXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7IC8vIGhvcml6b250YWwgbWVudVxuICAgICAgICAgICQuZXh0ZW5kKGZ1bmN0aW9ucywge1xuICAgICAgICAgICAgbmV4dDogbmV4dFNpYmxpbmcsXG4gICAgICAgICAgICBwcmV2aW91czogcHJldlNpYmxpbmcsXG4gICAgICAgICAgICBkb3duOiBvcGVuU3ViLFxuICAgICAgICAgICAgdXA6IGNsb3NlU3ViXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7IC8vIG5vdCB0YWJzIC0+IG9uZSBzdWJcbiAgICAgICAgaWYgKF90aGlzLm9wdGlvbnMuYWxpZ25tZW50ID09PSAnbGVmdCcpIHsgLy8gbGVmdCBhbGlnbmVkXG4gICAgICAgICAgJC5leHRlbmQoZnVuY3Rpb25zLCB7XG4gICAgICAgICAgICBuZXh0OiBvcGVuU3ViLFxuICAgICAgICAgICAgcHJldmlvdXM6IGNsb3NlU3ViLFxuICAgICAgICAgICAgZG93bjogbmV4dFNpYmxpbmcsXG4gICAgICAgICAgICB1cDogcHJldlNpYmxpbmdcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHsgLy8gcmlnaHQgYWxpZ25lZFxuICAgICAgICAgICQuZXh0ZW5kKGZ1bmN0aW9ucywge1xuICAgICAgICAgICAgbmV4dDogY2xvc2VTdWIsXG4gICAgICAgICAgICBwcmV2aW91czogb3BlblN1YixcbiAgICAgICAgICAgIGRvd246IG5leHRTaWJsaW5nLFxuICAgICAgICAgICAgdXA6IHByZXZTaWJsaW5nXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIEZvdW5kYXRpb24uS2V5Ym9hcmQuaGFuZGxlS2V5KGUsIF90aGlzLCBmdW5jdGlvbnMpO1xuXG4gICAgfSk7XG4gIH07XG4gIC8qKlxuICAgKiBBZGRzIGFuIGV2ZW50IGhhbmRsZXIgdG8gdGhlIGJvZHkgdG8gY2xvc2UgYW55IGRyb3Bkb3ducyBvbiBhIGNsaWNrLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQHByaXZhdGVcbiAgICovXG4gIERyb3Bkb3duTWVudS5wcm90b3R5cGUuX2FkZEJvZHlIYW5kbGVyID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgJGJvZHkgPSAkKGRvY3VtZW50LmJvZHkpLFxuICAgICAgICBfdGhpcyA9IHRoaXM7XG4gICAgJGJvZHkub2ZmKCdtb3VzZXVwLnpmLmRyb3Bkb3dubWVudSB0b3VjaGVuZC56Zi5kcm9wZG93bm1lbnUnKVxuICAgICAgICAgLm9uKCdtb3VzZXVwLnpmLmRyb3Bkb3dubWVudSB0b3VjaGVuZC56Zi5kcm9wZG93bm1lbnUnLCBmdW5jdGlvbihlKXtcbiAgICAgICAgICAgdmFyICRsaW5rID0gX3RoaXMuJGVsZW1lbnQuZmluZChlLnRhcmdldCk7XG4gICAgICAgICAgIGlmKCRsaW5rLmxlbmd0aCl7IHJldHVybjsgfVxuXG4gICAgICAgICAgIF90aGlzLl9oaWRlKCk7XG4gICAgICAgICAgICRib2R5Lm9mZignbW91c2V1cC56Zi5kcm9wZG93bm1lbnUgdG91Y2hlbmQuemYuZHJvcGRvd25tZW51Jyk7XG4gICAgICAgICB9KTtcbiAgfTtcbiAgLyoqXG4gICAqIE9wZW5zIGEgZHJvcGRvd24gcGFuZSwgYW5kIGNoZWNrcyBmb3IgY29sbGlzaW9ucyBmaXJzdC5cbiAgICogQHBhcmFtIHtqUXVlcnl9ICRzdWIgLSB1bCBlbGVtZW50IHRoYXQgaXMgYSBzdWJtZW51IHRvIHNob3dcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwcml2YXRlXG4gICAqIEBmaXJlcyBEcm9wZG93bk1lbnUjc2hvd1xuICAgKi9cbiAgRHJvcGRvd25NZW51LnByb3RvdHlwZS5fc2hvdyA9IGZ1bmN0aW9uKCRzdWIpe1xuICAgIHZhciBpZHggPSB0aGlzLiR0YWJzLmluZGV4KHRoaXMuJHRhYnMuZmlsdGVyKGZ1bmN0aW9uKGksIGVsKXtcbiAgICAgIHJldHVybiAkKGVsKS5maW5kKCRzdWIpLmxlbmd0aCA+IDA7XG4gICAgfSkpO1xuICAgIHZhciAkc2licyA9ICRzdWIucGFyZW50KCdsaS5pcy1kcm9wZG93bi1zdWJtZW51LXBhcmVudCcpLnNpYmxpbmdzKCdsaS5pcy1kcm9wZG93bi1zdWJtZW51LXBhcmVudCcpO1xuICAgIHRoaXMuX2hpZGUoJHNpYnMsIGlkeCk7XG4gICAgJHN1Yi5jc3MoJ3Zpc2liaWxpdHknLCAnaGlkZGVuJykuYWRkQ2xhc3MoJ2pzLWRyb3Bkb3duLWFjdGl2ZScpLmF0dHIoeydhcmlhLWhpZGRlbic6IGZhbHNlfSlcbiAgICAgICAgLnBhcmVudCgnbGkuaXMtZHJvcGRvd24tc3VibWVudS1wYXJlbnQnKS5hZGRDbGFzcygnaXMtYWN0aXZlJylcbiAgICAgICAgLmF0dHIoeydhcmlhLXNlbGVjdGVkJzogdHJ1ZSwgJ2FyaWEtZXhwYW5kZWQnOiB0cnVlfSk7XG4gICAgdmFyIGNsZWFyID0gRm91bmRhdGlvbi5Cb3guSW1Ob3RUb3VjaGluZ1lvdSgkc3ViLCBudWxsLCB0cnVlKTtcbiAgICBpZighY2xlYXIpe1xuICAgICAgdmFyIG9sZENsYXNzID0gdGhpcy5vcHRpb25zLmFsaWdubWVudCA9PT0gJ2xlZnQnID8gJy1yaWdodCcgOiAnLWxlZnQnLFxuICAgICAgICAgICRwYXJlbnRMaSA9ICRzdWIucGFyZW50KCcuaXMtZHJvcGRvd24tc3VibWVudS1wYXJlbnQnKTtcbiAgICAgICRwYXJlbnRMaS5yZW1vdmVDbGFzcygnb3BlbnMnICsgb2xkQ2xhc3MpLmFkZENsYXNzKCdvcGVucy0nICsgdGhpcy5vcHRpb25zLmFsaWdubWVudCk7XG4gICAgICBjbGVhciA9IEZvdW5kYXRpb24uQm94LkltTm90VG91Y2hpbmdZb3UoJHN1YiwgbnVsbCwgdHJ1ZSk7XG4gICAgICBpZighY2xlYXIpe1xuICAgICAgICAkcGFyZW50TGkucmVtb3ZlQ2xhc3MoJ29wZW5zLScgKyB0aGlzLm9wdGlvbnMuYWxpZ25tZW50KS5hZGRDbGFzcygnb3BlbnMtaW5uZXInKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuY2hhbmdlZCA9IHRydWU7XG4gICAgfVxuICAgICRzdWIuY3NzKCd2aXNpYmlsaXR5JywgJycpO1xuICAgIGlmKHRoaXMub3B0aW9ucy5jbG9zZU9uQ2xpY2speyB0aGlzLl9hZGRCb2R5SGFuZGxlcigpOyB9XG4gICAgLyoqXG4gICAgICogRmlyZXMgd2hlbiB0aGUgbmV3IGRyb3Bkb3duIHBhbmUgaXMgdmlzaWJsZS5cbiAgICAgKiBAZXZlbnQgRHJvcGRvd25NZW51I3Nob3dcbiAgICAgKi9cbiAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoJ3Nob3cuemYuZHJvcGRvd25tZW51JywgWyRzdWJdKTtcbiAgfTtcbiAgLyoqXG4gICAqIEhpZGVzIGEgc2luZ2xlLCBjdXJyZW50bHkgb3BlbiBkcm9wZG93biBwYW5lLCBpZiBwYXNzZWQgYSBwYXJhbWV0ZXIsIG90aGVyd2lzZSwgaGlkZXMgZXZlcnl0aGluZy5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7alF1ZXJ5fSAkZWxlbSAtIGVsZW1lbnQgd2l0aCBhIHN1Ym1lbnUgdG8gaGlkZVxuICAgKiBAcGFyYW0ge051bWJlcn0gaWR4IC0gaW5kZXggb2YgdGhlICR0YWJzIGNvbGxlY3Rpb24gdG8gaGlkZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgRHJvcGRvd25NZW51LnByb3RvdHlwZS5faGlkZSA9IGZ1bmN0aW9uKCRlbGVtLCBpZHgpe1xuICAgIHZhciAkdG9DbG9zZTtcbiAgICBpZigkZWxlbSAmJiAkZWxlbS5sZW5ndGgpe1xuICAgICAgJHRvQ2xvc2UgPSAkZWxlbTtcbiAgICB9ZWxzZSBpZihpZHggIT09IHVuZGVmaW5lZCl7XG4gICAgICAkdG9DbG9zZSA9IHRoaXMuJHRhYnMubm90KGZ1bmN0aW9uKGksIGVsKXtcbiAgICAgICAgcmV0dXJuIGkgPT09IGlkeDtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNle1xuICAgICAgJHRvQ2xvc2UgPSB0aGlzLiRlbGVtZW50O1xuICAgIH1cbiAgICB2YXIgc29tZXRoaW5nVG9DbG9zZSA9ICR0b0Nsb3NlLmhhc0NsYXNzKCdpcy1hY3RpdmUnKSB8fCAkdG9DbG9zZS5maW5kKCcuaXMtYWN0aXZlJykubGVuZ3RoID4gMDtcblxuICAgIGlmKHNvbWV0aGluZ1RvQ2xvc2Upe1xuICAgICAgJHRvQ2xvc2UuZmluZCgnbGkuaXMtYWN0aXZlJykuYWRkKCR0b0Nsb3NlKS5hdHRyKHtcbiAgICAgICAgJ2FyaWEtc2VsZWN0ZWQnOiBmYWxzZSxcbiAgICAgICAgJ2FyaWEtZXhwYW5kZWQnOiBmYWxzZSxcbiAgICAgICAgJ2RhdGEtaXMtY2xpY2snOiBmYWxzZVxuICAgICAgfSkucmVtb3ZlQ2xhc3MoJ2lzLWFjdGl2ZScpO1xuXG4gICAgICAkdG9DbG9zZS5maW5kKCd1bC5qcy1kcm9wZG93bi1hY3RpdmUnKS5hdHRyKHtcbiAgICAgICAgJ2FyaWEtaGlkZGVuJzogdHJ1ZVxuICAgICAgfSkucmVtb3ZlQ2xhc3MoJ2pzLWRyb3Bkb3duLWFjdGl2ZScpO1xuXG4gICAgICBpZih0aGlzLmNoYW5nZWQgfHwgJHRvQ2xvc2UuZmluZCgnb3BlbnMtaW5uZXInKS5sZW5ndGgpe1xuICAgICAgICB2YXIgb2xkQ2xhc3MgPSB0aGlzLm9wdGlvbnMuYWxpZ25tZW50ID09PSAnbGVmdCcgPyAncmlnaHQnIDogJ2xlZnQnO1xuICAgICAgICAkdG9DbG9zZS5maW5kKCdsaS5pcy1kcm9wZG93bi1zdWJtZW51LXBhcmVudCcpLmFkZCgkdG9DbG9zZSlcbiAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ29wZW5zLWlubmVyIG9wZW5zLScgKyB0aGlzLm9wdGlvbnMuYWxpZ25tZW50KVxuICAgICAgICAgICAgICAgIC5hZGRDbGFzcygnb3BlbnMtJyArIG9sZENsYXNzKTtcbiAgICAgICAgdGhpcy5jaGFuZ2VkID0gZmFsc2U7XG4gICAgICB9XG4gICAgICAvKipcbiAgICAgICAqIEZpcmVzIHdoZW4gdGhlIG9wZW4gbWVudXMgYXJlIGNsb3NlZC5cbiAgICAgICAqIEBldmVudCBEcm9wZG93bk1lbnUjaGlkZVxuICAgICAgICovXG4gICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoJ2hpZGUuemYuZHJvcGRvd25tZW51JywgWyR0b0Nsb3NlXSk7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogRGVzdHJveXMgdGhlIHBsdWdpbi5cbiAgICogQGZ1bmN0aW9uXG4gICAqL1xuICBEcm9wZG93bk1lbnUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpe1xuICAgIHRoaXMuJG1lbnVJdGVtcy5vZmYoJy56Zi5kcm9wZG93bm1lbnUnKS5yZW1vdmVBdHRyKCdkYXRhLWlzLWNsaWNrJylcbiAgICAgICAgLnJlbW92ZUNsYXNzKCdpcy1yaWdodC1hcnJvdyBpcy1sZWZ0LWFycm93IGlzLWRvd24tYXJyb3cgb3BlbnMtcmlnaHQgb3BlbnMtbGVmdCBvcGVucy1pbm5lcicpO1xuICAgIEZvdW5kYXRpb24uTmVzdC5CdXJuKHRoaXMuJGVsZW1lbnQsICdkcm9wZG93bicpO1xuICAgIEZvdW5kYXRpb24udW5yZWdpc3RlclBsdWdpbih0aGlzKTtcbiAgfTtcblxuICBGb3VuZGF0aW9uLnBsdWdpbihEcm9wZG93bk1lbnUsICdEcm9wZG93bk1lbnUnKTtcbn0oalF1ZXJ5LCB3aW5kb3cuRm91bmRhdGlvbik7XG5cbiFmdW5jdGlvbihGb3VuZGF0aW9uLCAkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBpbnN0YW5jZSBvZiBFcXVhbGl6ZXIuXG4gICAqIEBjbGFzc1xuICAgKiBAZmlyZXMgRXF1YWxpemVyI2luaXRcbiAgICogQHBhcmFtIHtPYmplY3R9IGVsZW1lbnQgLSBqUXVlcnkgb2JqZWN0IHRvIGFkZCB0aGUgdHJpZ2dlciB0by5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBPdmVycmlkZXMgdG8gdGhlIGRlZmF1bHQgcGx1Z2luIHNldHRpbmdzLlxuICAgKi9cbiAgZnVuY3Rpb24gRXF1YWxpemVyKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLiRlbGVtZW50ID0gZWxlbWVudDtcbiAgICB0aGlzLm9wdGlvbnMgID0gJC5leHRlbmQoe30sIEVxdWFsaXplci5kZWZhdWx0cywgdGhpcy4kZWxlbWVudC5kYXRhKCksIG9wdGlvbnMpO1xuICAgIHRoaXMuJHdpbmRvdyAgPSAkKHdpbmRvdyk7XG4gICAgdGhpcy5uYW1lICAgICA9ICdlcXVhbGl6ZXInO1xuICAgIHRoaXMuYXR0ciAgICAgPSAnZGF0YS1lcXVhbGl6ZXInO1xuXG4gICAgdGhpcy5faW5pdCgpO1xuICAgIHRoaXMuX2V2ZW50cygpO1xuXG4gICAgRm91bmRhdGlvbi5yZWdpc3RlclBsdWdpbih0aGlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWZhdWx0IHNldHRpbmdzIGZvciBwbHVnaW5cbiAgICovXG4gIEVxdWFsaXplci5kZWZhdWx0cyA9IHtcbiAgICAvKipcbiAgICAgKiBFbmFibGUgaGVpZ2h0IGVxdWFsaXphdGlvbiB3aGVuIHN0YWNrZWQgb24gc21hbGxlciBzY3JlZW5zLlxuICAgICAqIEBvcHRpb25cbiAgICAgKiBAZXhhbXBsZSB0cnVlXG4gICAgICovXG4gICAgZXF1YWxpemVPblN0YWNrOiB0cnVlLFxuICAgIC8qKlxuICAgICAqIEFtb3VudCBvZiB0aW1lLCBpbiBtcywgdG8gZGVib3VuY2UgdGhlIHNpemUgY2hlY2tpbmcvZXF1YWxpemF0aW9uLiBMb3dlciB0aW1lcyBtZWFuIHNtb290aGVyIHRyYW5zaXRpb25zL2xlc3MgcGVyZm9ybWFuY2Ugb24gbW9iaWxlLlxuICAgICAqIEBvcHRpb25cbiAgICAgKiBAZXhhbXBsZSA1MFxuICAgICAqL1xuICAgIHRocm90dGxlSW50ZXJ2YWw6IDUwXG4gIH07XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIHRoZSBFcXVhbGl6ZXIgcGx1Z2luIGFuZCBjYWxscyBmdW5jdGlvbnMgdG8gZ2V0IGVxdWFsaXplciBmdW5jdGlvbmluZyBvbiBsb2FkLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgRXF1YWxpemVyLnByb3RvdHlwZS5faW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX3JlZmxvdygpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyBldmVudHMgZm9yIEVxdWFsaXplci5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIEVxdWFsaXplci5wcm90b3R5cGUuX2V2ZW50cyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHRoaXMuJHdpbmRvd1xuICAgICAgLm9mZignLmVxdWFsaXplcicpXG4gICAgICAub24oJ3Jlc2l6ZS5mbmR0bi5lcXVhbGl6ZXInLCBGb3VuZGF0aW9uLnV0aWwudGhyb3R0bGUoZnVuY3Rpb24gKCkge1xuICAgICAgICBzZWxmLl9yZWZsb3coKTtcbiAgICAgIH0sIHNlbGYub3B0aW9ucy50aHJvdHRsZUludGVydmFsKSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEEgbm9vcCB2ZXJzaW9uIGZvciB0aGUgcGx1Z2luXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBFcXVhbGl6ZXIucHJvdG90eXBlLl9raWxsc3dpdGNoID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuO1xuICB9O1xuICAvKipcbiAgICogQ2FsbHMgbmVjZXNzYXJ5IGZ1bmN0aW9ucyB0byB1cGRhdGUgRXF1YWxpemVyIHVwb24gRE9NIGNoYW5nZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgRXF1YWxpemVyLnByb3RvdHlwZS5fcmVmbG93ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgJCgnWycgKyB0aGlzLmF0dHIgKyAnXScpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgJGVxUGFyZW50ICAgICAgID0gJCh0aGlzKSxcbiAgICAgICAgICBhZGp1c3RlZEhlaWdodHMgPSBbXSxcbiAgICAgICAgICAkaW1hZ2VzID0gJGVxUGFyZW50LmZpbmQoJ2ltZycpO1xuXG4gICAgICBpZiAoJGltYWdlcy5sZW5ndGgpIHtcbiAgICAgICAgRm91bmRhdGlvbi5vbkltYWdlc0xvYWRlZCgkaW1hZ2VzLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBhZGp1c3RlZEhlaWdodHMgPSBzZWxmLmdldEhlaWdodHMoJGVxUGFyZW50KTtcbiAgICAgICAgICBzZWxmLmFwcGx5SGVpZ2h0KCRlcVBhcmVudCwgYWRqdXN0ZWRIZWlnaHRzKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgYWRqdXN0ZWRIZWlnaHRzID0gc2VsZi5nZXRIZWlnaHRzKCRlcVBhcmVudCk7XG4gICAgICAgIHNlbGYuYXBwbHlIZWlnaHQoJGVxUGFyZW50LCBhZGp1c3RlZEhlaWdodHMpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuICAvKipcbiAgICogRmluZHMgdGhlIG91dGVyIGhlaWdodHMgb2YgY2hpbGRyZW4gY29udGFpbmVkIHdpdGhpbiBhbiBFcXVhbGl6ZXIgcGFyZW50IGFuZCByZXR1cm5zIHRoZW0gaW4gYW4gYXJyYXlcbiAgICogQHBhcmFtIHtPYmplY3R9ICRlcVBhcmVudCBBIGpRdWVyeSBpbnN0YW5jZSBvZiBhbiBFcXVhbGl6ZXIgY29udGFpbmVyXG4gICAqIEByZXR1cm5zIHtBcnJheX0gaGVpZ2h0cyBBbiBhcnJheSBvZiBoZWlnaHRzIG9mIGNoaWxkcmVuIHdpdGhpbiBFcXVhbGl6ZXIgY29udGFpbmVyXG4gICAqL1xuICBFcXVhbGl6ZXIucHJvdG90eXBlLmdldEhlaWdodHMgPSBmdW5jdGlvbigkZXFQYXJlbnQpIHtcbiAgICB2YXIgZXFHcm91cE5hbWUgPSAkZXFQYXJlbnQuZGF0YSgnZXF1YWxpemVyJyksXG4gICAgICAgIGVxR3JvdXAgICAgID0gZXFHcm91cE5hbWUgPyAkZXFQYXJlbnQuZmluZCgnWycgKyB0aGlzLmF0dHIgKyAnLXdhdGNoPVwiJyArIGVxR3JvdXBOYW1lICsgJ1wiXTp2aXNpYmxlJykgOiAkZXFQYXJlbnQuZmluZCgnWycgKyB0aGlzLmF0dHIgKyAnLXdhdGNoXTp2aXNpYmxlJyksXG4gICAgICAgIGhlaWdodHM7XG5cbiAgICBlcUdyb3VwLmhlaWdodCgnaW5oZXJpdCcpO1xuICAgIGhlaWdodHMgPSBlcUdyb3VwLm1hcChmdW5jdGlvbiAoKSB7IHJldHVybiAkKHRoaXMpLm91dGVySGVpZ2h0KGZhbHNlKTt9KS5nZXQoKTtcbiAgICBcbiAgICByZXR1cm4gaGVpZ2h0cztcbiAgfTtcbiAgLyoqXG4gICAqIENoYW5nZXMgdGhlIENTUyBoZWlnaHQgcHJvcGVydHkgb2YgZWFjaCBjaGlsZCBpbiBhbiBFcXVhbGl6ZXIgcGFyZW50IHRvIG1hdGNoIHRoZSB0YWxsZXN0XG4gICAqIEBwYXJhbSB7T2JqZWN0fSAkZXFQYXJlbnQgLSBBIGpRdWVyeSBpbnN0YW5jZSBvZiBhbiBFcXVhbGl6ZXIgY29udGFpbmVyXG4gICAqIEBwYXJhbSB7YXJyYXl9IGhlaWdodHMgLSBBbiBhcnJheSBvZiBoZWlnaHRzIG9mIGNoaWxkcmVuIHdpdGhpbiBFcXVhbGl6ZXIgY29udGFpbmVyXG4gICAqIEBmaXJlcyBFcXVhbGl6ZXIjcHJlRXF1YWxpemVkXG4gICAqIEBmaXJlcyBFcXVhbGl6ZXIjcG9zdEVxdWFsaXplZFxuICAgKi9cbiAgRXF1YWxpemVyLnByb3RvdHlwZS5hcHBseUhlaWdodCA9IGZ1bmN0aW9uKCRlcVBhcmVudCwgaGVpZ2h0cykge1xuICAgIHZhciBlcUdyb3VwTmFtZSA9ICRlcVBhcmVudC5kYXRhKCdlcXVhbGl6ZXInKSxcbiAgICAgICAgZXFHcm91cCAgICAgPSBlcUdyb3VwTmFtZSA/ICRlcVBhcmVudC5maW5kKCdbJyt0aGlzLmF0dHIrJy13YXRjaD1cIicrZXFHcm91cE5hbWUrJ1wiXTp2aXNpYmxlJykgOiAkZXFQYXJlbnQuZmluZCgnWycrdGhpcy5hdHRyKyctd2F0Y2hdOnZpc2libGUnKSxcbiAgICAgICAgbWF4ICAgICAgICAgPSBNYXRoLm1heC5hcHBseShudWxsLCBoZWlnaHRzKTtcblxuICAgIC8qKlxuICAgICAqIEZpcmVzIGJlZm9yZSB0aGUgaGVpZ2h0cyBhcmUgYXBwbGllZFxuICAgICAqIEBldmVudCBFcXVhbGl6ZXIjcHJlRXF1YWxpemVkXG4gICAgICovXG4gICAgJGVxUGFyZW50LnRyaWdnZXIoJ3ByZUVxdWFsaXplZC56Zi5FcXVhbGl6ZXInKTtcblxuICAgIC8vIGZvciBub3csIGFwcGx5IHRoZSBtYXggaGVpZ2h0IGZvdW5kIGluIHRoZSBhcnJheVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXFHcm91cC5sZW5ndGg7IGkrKykge1xuICAgICAgJChlcUdyb3VwW2ldKS5jc3MoJ2hlaWdodCcsIG1heCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmlyZXMgd2hlbiB0aGUgaGVpZ2h0cyBoYXZlIGJlZW4gYXBwbGllZFxuICAgICAqIEBldmVudCBFcXVhbGl6ZXIjcG9zdEVxdWFsaXplZFxuICAgICAqL1xuICAgICRlcVBhcmVudC50cmlnZ2VyKCdwb3N0RXF1YWxpemVkLnpmLkVxdWFsaXplcicpO1xuICB9O1xuICAvKipcbiAgICogRGVzdHJveXMgYW4gaW5zdGFuY2Ugb2YgRXF1YWxpemVyLlxuICAgKiBAZnVuY3Rpb25cbiAgICovXG4gIEVxdWFsaXplci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCl7XG4gICAgLy9UT0RPIHRoaXMuXG4gIH07XG5cbiAgRm91bmRhdGlvbi5wbHVnaW4oRXF1YWxpemVyLCAnRXF1YWxpemVyJyk7XG5cbiAgLy8gRXhwb3J0cyBmb3IgQU1EL0Jyb3dzZXJpZnlcbiAgaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBtb2R1bGUuZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBFcXVhbGl6ZXI7XG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nKVxuICAgIGRlZmluZShbJ2ZvdW5kYXRpb24nXSwgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gRXF1YWxpemVyO1xuICAgIH0pO1xuXG59KEZvdW5kYXRpb24sIGpRdWVyeSk7XG5cbi8qKlxuICogSW50ZXJjaGFuZ2UgbW9kdWxlLlxuICogQG1vZHVsZSBmb3VuZGF0aW9uLmludGVyY2hhbmdlXG4gKiBAcmVxdWlyZXMgZm91bmRhdGlvbi51dGlsLm1lZGlhUXVlcnlcbiAqIEByZXF1aXJlcyBmb3VuZGF0aW9uLnV0aWwudGltZXJBbmRJbWFnZUxvYWRlclxuICovXG4hZnVuY3Rpb24oRm91bmRhdGlvbiwgJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgaW5zdGFuY2Ugb2YgSW50ZXJjaGFuZ2UuXG4gICAqIEBjbGFzc1xuICAgKiBAZmlyZXMgSW50ZXJjaGFuZ2UjaW5pdFxuICAgKiBAcGFyYW0ge09iamVjdH0gZWxlbWVudCAtIGpRdWVyeSBvYmplY3QgdG8gYWRkIHRoZSB0cmlnZ2VyIHRvLlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIE92ZXJyaWRlcyB0byB0aGUgZGVmYXVsdCBwbHVnaW4gc2V0dGluZ3MuXG4gICAqL1xuICBmdW5jdGlvbiBJbnRlcmNoYW5nZShlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdGhpcy4kZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgdGhpcy5vcHRpb25zID0gJC5leHRlbmQoe30sIEludGVyY2hhbmdlLmRlZmF1bHRzLCBvcHRpb25zKTtcbiAgICB0aGlzLnJ1bGVzID0gW107XG4gICAgdGhpcy5jdXJyZW50UGF0aCA9ICcnO1xuXG4gICAgdGhpcy5faW5pdCgpO1xuICAgIHRoaXMuX2V2ZW50cygpO1xuXG4gICAgRm91bmRhdGlvbi5yZWdpc3RlclBsdWdpbih0aGlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWZhdWx0IHNldHRpbmdzIGZvciBwbHVnaW5cbiAgICovXG4gIEludGVyY2hhbmdlLmRlZmF1bHRzID0ge1xuICAgIC8qKlxuICAgICAqIFJ1bGVzIHRvIGJlIGFwcGxpZWQgdG8gSW50ZXJjaGFuZ2UgZWxlbWVudHMuIFNldCB3aXRoIHRoZSBgZGF0YS1pbnRlcmNoYW5nZWAgYXJyYXkgbm90YXRpb24uXG4gICAgICogQG9wdGlvblxuICAgICAqL1xuICAgIHJ1bGVzOiBudWxsXG4gIH07XG5cbiAgSW50ZXJjaGFuZ2UuU1BFQ0lBTF9RVUVSSUVTID0ge1xuICAgICdsYW5kc2NhcGUnOiAnc2NyZWVuIGFuZCAob3JpZW50YXRpb246IGxhbmRzY2FwZSknLFxuICAgICdwb3J0cmFpdCc6ICdzY3JlZW4gYW5kIChvcmllbnRhdGlvbjogcG9ydHJhaXQpJyxcbiAgICAncmV0aW5hJzogJ29ubHkgc2NyZWVuIGFuZCAoLXdlYmtpdC1taW4tZGV2aWNlLXBpeGVsLXJhdGlvOiAyKSwgb25seSBzY3JlZW4gYW5kIChtaW4tLW1vei1kZXZpY2UtcGl4ZWwtcmF0aW86IDIpLCBvbmx5IHNjcmVlbiBhbmQgKC1vLW1pbi1kZXZpY2UtcGl4ZWwtcmF0aW86IDIvMSksIG9ubHkgc2NyZWVuIGFuZCAobWluLWRldmljZS1waXhlbC1yYXRpbzogMiksIG9ubHkgc2NyZWVuIGFuZCAobWluLXJlc29sdXRpb246IDE5MmRwaSksIG9ubHkgc2NyZWVuIGFuZCAobWluLXJlc29sdXRpb246IDJkcHB4KSdcbiAgfTtcblxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgdGhlIEludGVyY2hhbmdlIHBsdWdpbiBhbmQgY2FsbHMgZnVuY3Rpb25zIHRvIGdldCBpbnRlcmNoYW5nZSBmdW5jdGlvbmluZyBvbiBsb2FkLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQHByaXZhdGVcbiAgICovXG4gIEludGVyY2hhbmdlLnByb3RvdHlwZS5faW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX2FkZEJyZWFrcG9pbnRzKCk7XG4gICAgdGhpcy5fZ2VuZXJhdGVSdWxlcygpO1xuICAgIHRoaXMuX3JlZmxvdygpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyBldmVudHMgZm9yIEludGVyY2hhbmdlLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQHByaXZhdGVcbiAgICovXG4gIEludGVyY2hhbmdlLnByb3RvdHlwZS5fZXZlbnRzID0gZnVuY3Rpb24oKSB7XG4gICAgJCh3aW5kb3cpLm9uKCdyZXNpemUuZm5kdG4uaW50ZXJjaGFuZ2UnLCBGb3VuZGF0aW9uLnV0aWwudGhyb3R0bGUodGhpcy5fcmVmbG93LmJpbmQodGhpcyksIDUwKSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENhbGxzIG5lY2Vzc2FyeSBmdW5jdGlvbnMgdG8gdXBkYXRlIEludGVyY2hhbmdlIHVwb24gRE9NIGNoYW5nZVxuICAgKiBAZnVuY3Rpb25cbiAgICogQHByaXZhdGVcbiAgICovXG4gIEludGVyY2hhbmdlLnByb3RvdHlwZS5fcmVmbG93ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG1hdGNoO1xuXG4gICAgLy8gSXRlcmF0ZSB0aHJvdWdoIGVhY2ggcnVsZSwgYnV0IG9ubHkgc2F2ZSB0aGUgbGFzdCBtYXRjaFxuICAgIGZvciAodmFyIGkgaW4gdGhpcy5ydWxlcykge1xuICAgICAgdmFyIHJ1bGUgPSB0aGlzLnJ1bGVzW2ldO1xuXG4gICAgICBpZiAod2luZG93Lm1hdGNoTWVkaWEocnVsZS5xdWVyeSkubWF0Y2hlcykge1xuICAgICAgICBtYXRjaCA9IHJ1bGU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG1hdGNoKSB7XG4gICAgICB0aGlzLnJlcGxhY2UobWF0Y2gucGF0aCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBGb3VuZGF0aW9uIGJyZWFrcG9pbnRzIGFuZCBhZGRzIHRoZW0gdG8gdGhlIEludGVyY2hhbmdlLlNQRUNJQUxfUVVFUklFUyBvYmplY3QuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgSW50ZXJjaGFuZ2UucHJvdG90eXBlLl9hZGRCcmVha3BvaW50cyA9IGZ1bmN0aW9uKCkge1xuICAgIGZvciAodmFyIGkgaW4gRm91bmRhdGlvbi5NZWRpYVF1ZXJ5LnF1ZXJpZXMpIHtcbiAgICAgIHZhciBxdWVyeSA9IEZvdW5kYXRpb24uTWVkaWFRdWVyeS5xdWVyaWVzW2ldO1xuICAgICAgSW50ZXJjaGFuZ2UuU1BFQ0lBTF9RVUVSSUVTW3F1ZXJ5Lm5hbWVdID0gcXVlcnkudmFsdWU7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBDaGVja3MgdGhlIEludGVyY2hhbmdlIGVsZW1lbnQgZm9yIHRoZSBwcm92aWRlZCBtZWRpYSBxdWVyeSArIGNvbnRlbnQgcGFpcmluZ3NcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBlbGVtZW50IC0galF1ZXJ5IG9iamVjdCB0aGF0IGlzIGFuIEludGVyY2hhbmdlIGluc3RhbmNlXG4gICAqIEByZXR1cm5zIHtBcnJheX0gc2NlbmFyaW9zIC0gQXJyYXkgb2Ygb2JqZWN0cyB0aGF0IGhhdmUgJ21xJyBhbmQgJ3BhdGgnIGtleXMgd2l0aCBjb3JyZXNwb25kaW5nIGtleXNcbiAgICovXG4gIEludGVyY2hhbmdlLnByb3RvdHlwZS5fZ2VuZXJhdGVSdWxlcyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBydWxlc0xpc3QgPSBbXTtcbiAgICB2YXIgcnVsZXM7XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLnJ1bGVzKSB7XG4gICAgICBydWxlcyA9IHRoaXMub3B0aW9ucy5ydWxlcztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBydWxlcyA9IHRoaXMuJGVsZW1lbnQuZGF0YSgnaW50ZXJjaGFuZ2UnKS5tYXRjaCgvXFxbLio/XFxdL2cpO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgaW4gcnVsZXMpIHtcbiAgICAgIHZhciBydWxlID0gcnVsZXNbaV0uc2xpY2UoMSwgLTEpLnNwbGl0KCcsICcpO1xuICAgICAgdmFyIHBhdGggPSBydWxlLnNsaWNlKDAsIC0xKS5qb2luKCcnKTtcbiAgICAgIHZhciBxdWVyeSA9IHJ1bGVbcnVsZS5sZW5ndGggLSAxXTtcblxuICAgICAgaWYgKEludGVyY2hhbmdlLlNQRUNJQUxfUVVFUklFU1txdWVyeV0pIHtcbiAgICAgICAgcXVlcnkgPSBJbnRlcmNoYW5nZS5TUEVDSUFMX1FVRVJJRVNbcXVlcnldO1xuICAgICAgfVxuXG4gICAgICBydWxlc0xpc3QucHVzaCh7XG4gICAgICAgIHBhdGg6IHBhdGgsXG4gICAgICAgIHF1ZXJ5OiBxdWVyeVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGhpcy5ydWxlcyA9IHJ1bGVzTGlzdDtcbiAgfTtcblxuICAvKipcbiAgICogVXBkYXRlIHRoZSBgc3JjYCBwcm9wZXJ0eSBvZiBhbiBpbWFnZSwgb3IgY2hhbmdlIHRoZSBIVE1MIG9mIGEgY29udGFpbmVyLCB0byB0aGUgc3BlY2lmaWVkIHBhdGguXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcGFyYW0ge1N0cmluZ30gcGF0aCAtIFBhdGggdG8gdGhlIGltYWdlIG9yIEhUTUwgcGFydGlhbC5cbiAgICogQGZpcmVzIEludGVyY2hhbmdlI3JlcGxhY2VkXG4gICAqL1xuICBJbnRlcmNoYW5nZS5wcm90b3R5cGUucmVwbGFjZSA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgICBpZiAodGhpcy5jdXJyZW50UGF0aCA9PT0gcGF0aCkgcmV0dXJuO1xuXG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIC8vIFJlcGxhY2luZyBpbWFnZXNcbiAgICBpZiAodGhpcy4kZWxlbWVudFswXS5ub2RlTmFtZSA9PT0gJ0lNRycpIHtcbiAgICAgIHRoaXMuJGVsZW1lbnQuYXR0cignc3JjJywgcGF0aCkubG9hZChmdW5jdGlvbigpIHtcbiAgICAgICAgX3RoaXMuJGVsZW1lbnQudHJpZ2dlcigncmVwbGFjZWQuemYuaW50ZXJjaGFuZ2UnKTtcbiAgICAgICAgX3RoaXMuY3VycmVudFBhdGggPSBwYXRoO1xuICAgICAgfSk7XG4gICAgfVxuICAgIC8vIFJlcGxhY2luZyBiYWNrZ3JvdW5kIGltYWdlc1xuICAgIGVsc2UgaWYgKHBhdGgubWF0Y2goL1xcLihnaWZ8anBnfGpwZWd8dGlmZnxwbmcpKFs/I10uKik/L2kpKSB7XG4gICAgICB0aGlzLiRlbGVtZW50LmNzcyh7ICdiYWNrZ3JvdW5kLWltYWdlJzogJ3VybCgnK3BhdGgrJyknIH0pO1xuICAgIH1cbiAgICAvLyBSZXBsYWNpbmcgSFRNTFxuICAgIGVsc2Uge1xuICAgICAgJC5nZXQocGF0aCwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgX3RoaXMuJGVsZW1lbnQuaHRtbChyZXNwb25zZSk7XG4gICAgICAgIF90aGlzLiRlbGVtZW50LnRyaWdnZXIoJ3JlcGxhY2VkLnpmLmludGVyY2hhbmdlJyk7XG4gICAgICAgIF90aGlzLmN1cnJlbnRQYXRoID0gcGF0aDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIERlc3Ryb3lzIGFuIGluc3RhbmNlIG9mIGludGVyY2hhbmdlLlxuICAgKiBAZnVuY3Rpb25cbiAgICovXG4gIEludGVyY2hhbmdlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKXtcbiAgICAvL1RPRE8gdGhpcy5cbiAgfTtcbiAgRm91bmRhdGlvbi5wbHVnaW4oSW50ZXJjaGFuZ2UsICdJbnRlcmNoYW5nZScpO1xuXG4gIC8vIEV4cG9ydHMgZm9yIEFNRC9Ccm93c2VyaWZ5XG4gIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgbW9kdWxlLmV4cG9ydHMgIT09ICd1bmRlZmluZWQnKVxuICAgIG1vZHVsZS5leHBvcnRzID0gSW50ZXJjaGFuZ2U7XG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nKVxuICAgIGRlZmluZShbJ2ZvdW5kYXRpb24nXSwgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gSW50ZXJjaGFuZ2U7XG4gICAgfSk7XG5cbn0oRm91bmRhdGlvbiwgalF1ZXJ5KTtcblxuLyoqXG4gKiBNYWdlbGxhbiBtb2R1bGUuXG4gKiBAbW9kdWxlIGZvdW5kYXRpb24ubWFnZWxsYW5cbiAqL1xuIWZ1bmN0aW9uKEZvdW5kYXRpb24sICQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IGluc3RhbmNlIG9mIE1hZ2VsbGFuLlxuICAgKiBAY2xhc3NcbiAgICogQGZpcmVzIE1hZ2VsbGFuI2luaXRcbiAgICogQHBhcmFtIHtPYmplY3R9IGVsZW1lbnQgLSBqUXVlcnkgb2JqZWN0IHRvIGFkZCB0aGUgdHJpZ2dlciB0by5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBPdmVycmlkZXMgdG8gdGhlIGRlZmF1bHQgcGx1Z2luIHNldHRpbmdzLlxuICAgKi9cbiAgZnVuY3Rpb24gTWFnZWxsYW4oZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHRoaXMuJGVsZW1lbnQgPSBlbGVtZW50O1xuICAgIHRoaXMub3B0aW9ucyAgPSAkLmV4dGVuZCh7fSwgTWFnZWxsYW4uZGVmYXVsdHMsIHRoaXMuJGVsZW1lbnQuZGF0YSgpLCBvcHRpb25zKTtcblxuICAgIHRoaXMuX2luaXQoKTtcblxuICAgIEZvdW5kYXRpb24ucmVnaXN0ZXJQbHVnaW4odGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogRGVmYXVsdCBzZXR0aW5ncyBmb3IgcGx1Z2luXG4gICAqL1xuICBNYWdlbGxhbi5kZWZhdWx0cyA9IHtcbiAgICAvKipcbiAgICAgKiBBbW91bnQgb2YgdGltZSwgaW4gbXMsIHRoZSBhbmltYXRlZCBzY3JvbGxpbmcgc2hvdWxkIHRha2UgYmV0d2VlbiBsb2NhdGlvbnMuXG4gICAgICogQG9wdGlvblxuICAgICAqIEBleGFtcGxlIDUwMFxuICAgICAqL1xuICAgIGFuaW1hdGlvbkR1cmF0aW9uOiA1MDAsXG4gICAgLyoqXG4gICAgICogQW5pbWF0aW9uIHN0eWxlIHRvIHVzZSB3aGVuIHNjcm9sbGluZyBiZXR3ZWVuIGxvY2F0aW9ucy5cbiAgICAgKiBAb3B0aW9uXG4gICAgICogQGV4YW1wbGUgJ2Vhc2UtaW4tb3V0J1xuICAgICAqL1xuICAgIGFuaW1hdGlvbkVhc2luZzogJ2xpbmVhcicsXG4gICAgLyoqXG4gICAgICogTnVtYmVyIG9mIHBpeGVscyB0byB1c2UgYXMgYSBtYXJrZXIgZm9yIGxvY2F0aW9uIGNoYW5nZXMuXG4gICAgICogQG9wdGlvblxuICAgICAqIEBleGFtcGxlIDUwXG4gICAgICovXG4gICAgdGhyZXNob2xkOiA1MCxcbiAgICAvKipcbiAgICAgKiBDbGFzcyBhcHBsaWVkIHRvIHRoZSBhY3RpdmUgbG9jYXRpb25zIGxpbmsgb24gdGhlIG1hZ2VsbGFuIGNvbnRhaW5lci5cbiAgICAgKiBAb3B0aW9uXG4gICAgICogQGV4YW1wbGUgJ2FjdGl2ZSdcbiAgICAgKi9cbiAgICBhY3RpdmVDbGFzczogJ2FjdGl2ZScsXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRoZSBzY3JpcHQgdG8gbWFuaXB1bGF0ZSB0aGUgdXJsIG9mIHRoZSBjdXJyZW50IHBhZ2UsIGFuZCBpZiBzdXBwb3J0ZWQsIGFsdGVyIHRoZSBoaXN0b3J5LlxuICAgICAqIEBvcHRpb25cbiAgICAgKiBAZXhhbXBsZSB0cnVlXG4gICAgICovXG4gICAgZGVlcExpbmtpbmc6IGZhbHNlLFxuICAgIC8qKlxuICAgICAqIE51bWJlciBvZiBwaXhlbHMgdG8gb2Zmc2V0IHRoZSBzY3JvbGwgb2YgdGhlIHBhZ2Ugb24gaXRlbSBjbGljayBpZiB1c2luZyBhIHN0aWNreSBuYXYgYmFyLlxuICAgICAqIEBvcHRpb25cbiAgICAgKiBAZXhhbXBsZSAyNVxuICAgICAqL1xuICAgIGJhck9mZnNldDogMFxuICB9O1xuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyB0aGUgTWFnZWxsYW4gcGx1Z2luIGFuZCBjYWxscyBmdW5jdGlvbnMgdG8gZ2V0IGVxdWFsaXplciBmdW5jdGlvbmluZyBvbiBsb2FkLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgTWFnZWxsYW4ucHJvdG90eXBlLl9pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGlkID0gdGhpcy4kZWxlbWVudFswXS5pZCB8fCBGb3VuZGF0aW9uLkdldFlvRGlnaXRzKDYsICdtYWdlbGxhbicpLFxuICAgICAgICBfdGhpcyA9IHRoaXM7XG4gICAgdGhpcy4kdGFyZ2V0cyA9ICQoJ1tkYXRhLW1hZ2VsbGFuLXRhcmdldF0nKTtcbiAgICB0aGlzLiRsaW5rcyA9IHRoaXMuJGVsZW1lbnQuZmluZCgnYScpO1xuICAgIHRoaXMuJGVsZW1lbnQuYXR0cih7XG4gICAgICAnZGF0YS1yZXNpemUnOiBpZCxcbiAgICAgICdkYXRhLXNjcm9sbCc6IGlkLFxuICAgICAgJ2lkJzogaWRcbiAgICB9KTtcbiAgICB0aGlzLiRhY3RpdmUgPSAkKCk7XG4gICAgdGhpcy5zY3JvbGxQb3MgPSBwYXJzZUludCh3aW5kb3cucGFnZVlPZmZzZXQsIDEwKTtcblxuICAgIHRoaXMuX2V2ZW50cygpO1xuICB9O1xuICAvKipcbiAgICogQ2FsY3VsYXRlcyBhbiBhcnJheSBvZiBwaXhlbCB2YWx1ZXMgdGhhdCBhcmUgdGhlIGRlbWFyY2F0aW9uIGxpbmVzIGJldHdlZW4gbG9jYXRpb25zIG9uIHRoZSBwYWdlLlxuICAgKiBDYW4gYmUgaW52b2tlZCBpZiBuZXcgZWxlbWVudHMgYXJlIGFkZGVkIG9yIHRoZSBzaXplIG9mIGEgbG9jYXRpb24gY2hhbmdlcy5cbiAgICogQGZ1bmN0aW9uXG4gICAqL1xuICBNYWdlbGxhbi5wcm90b3R5cGUuY2FsY1BvaW50cyA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIF90aGlzID0gdGhpcyxcbiAgICAgICAgYm9keSA9IGRvY3VtZW50LmJvZHksXG4gICAgICAgIGh0bWwgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG5cbiAgICB0aGlzLnBvaW50cyA9IFtdO1xuICAgIHRoaXMud2luSGVpZ2h0ID0gTWF0aC5yb3VuZChNYXRoLm1heCh3aW5kb3cuaW5uZXJIZWlnaHQsIGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0KSk7XG4gICAgdGhpcy5kb2NIZWlnaHQgPSBNYXRoLnJvdW5kKE1hdGgubWF4KGJvZHkuc2Nyb2xsSGVpZ2h0LCBib2R5Lm9mZnNldEhlaWdodCwgaHRtbC5jbGllbnRIZWlnaHQsIGh0bWwuc2Nyb2xsSGVpZ2h0LCBodG1sLm9mZnNldEhlaWdodCkpO1xuXG4gICAgdGhpcy4kdGFyZ2V0cy5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgJHRhciA9ICQodGhpcyksXG4gICAgICAgICAgcHQgPSBNYXRoLnJvdW5kKCR0YXIub2Zmc2V0KCkudG9wIC0gX3RoaXMub3B0aW9ucy50aHJlc2hvbGQpO1xuICAgICAgJHRhci50YXJnZXRQb2ludCA9IHB0O1xuICAgICAgX3RoaXMucG9pbnRzLnB1c2gocHQpO1xuICAgIH0pO1xuICB9O1xuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgZXZlbnRzIGZvciBNYWdlbGxhbi5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIE1hZ2VsbGFuLnByb3RvdHlwZS5fZXZlbnRzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcyxcbiAgICAgICAgJGJvZHkgPSAkKCdodG1sLCBib2R5JyksXG4gICAgICAgIG9wdHMgPSB7XG4gICAgICAgICAgZHVyYXRpb246IF90aGlzLm9wdGlvbnMuYW5pbWF0aW9uRHVyYXRpb24sXG4gICAgICAgICAgZWFzaW5nOiAgIF90aGlzLm9wdGlvbnMuYW5pbWF0aW9uRWFzaW5nXG4gICAgICAgIH07XG5cbiAgICAkKHdpbmRvdykub25lKCdsb2FkJywgZnVuY3Rpb24oKXtcbiAgICAgIF90aGlzLmNhbGNQb2ludHMoKTtcbiAgICAgIF90aGlzLl91cGRhdGVBY3RpdmUoKTtcbiAgICB9KTtcblxuICAgIHRoaXMuJGVsZW1lbnQub24oe1xuICAgICAgJ3Jlc2l6ZW1lLnpmLnRyaWdnZXInOiB0aGlzLnJlZmxvdy5iaW5kKHRoaXMpLFxuICAgICAgJ3Njcm9sbG1lLnpmLnRyaWdnZXInOiB0aGlzLl91cGRhdGVBY3RpdmUuYmluZCh0aGlzKVxuICAgIH0pLm9uKCdjbGljay56Zi5tYWdlbGxhbicsICdhW2hyZWZePVwiI1wiXScsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB2YXIgYXJyaXZhbCAgID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSxcbiAgICAgICAgICAgIHNjcm9sbFBvcyA9ICQoYXJyaXZhbCkub2Zmc2V0KCkudG9wIC0gX3RoaXMub3B0aW9ucy50aHJlc2hvbGQgLyAyIC0gX3RoaXMub3B0aW9ucy5iYXJPZmZzZXQ7XG5cbiAgICAgICAgLy8gcmVxdWVzdEFuaW1hdGlvbkZyYW1lIGlzIGRpc2FibGVkIGZvciB0aGlzIHBsdWdpbiBjdXJyZW50bHlcbiAgICAgICAgLy8gRm91bmRhdGlvbi5Nb3ZlKF90aGlzLm9wdGlvbnMuYW5pbWF0aW9uRHVyYXRpb24sICRib2R5LCBmdW5jdGlvbigpe1xuICAgICAgICAgICRib2R5LnN0b3AodHJ1ZSkuYW5pbWF0ZSh7XG4gICAgICAgICAgICBzY3JvbGxUb3A6IHNjcm9sbFBvc1xuICAgICAgICAgIH0sIG9wdHMpO1xuICAgICAgICB9KTtcbiAgICAgIC8vIH0pO1xuICB9O1xuICAvKipcbiAgICogQ2FsbHMgbmVjZXNzYXJ5IGZ1bmN0aW9ucyB0byB1cGRhdGUgTWFnZWxsYW4gdXBvbiBET00gY2hhbmdlXG4gICAqIEBmdW5jdGlvblxuICAgKi9cbiAgTWFnZWxsYW4ucHJvdG90eXBlLnJlZmxvdyA9IGZ1bmN0aW9uKCl7XG4gICAgdGhpcy5jYWxjUG9pbnRzKCk7XG4gICAgdGhpcy5fdXBkYXRlQWN0aXZlKCk7XG4gIH07XG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSB2aXNpYmlsaXR5IG9mIGFuIGFjdGl2ZSBsb2NhdGlvbiBsaW5rLCBhbmQgdXBkYXRlcyB0aGUgdXJsIGhhc2ggZm9yIHRoZSBwYWdlLCBpZiBkZWVwTGlua2luZyBlbmFibGVkLlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAZnVuY3Rpb25cbiAgICogQGZpcmVzIE1hZ2VsbGFuI3VwZGF0ZVxuICAgKi9cbiAgTWFnZWxsYW4ucHJvdG90eXBlLl91cGRhdGVBY3RpdmUgPSBmdW5jdGlvbigvKmV2dCwgZWxlbSwgc2Nyb2xsUG9zKi8pe1xuICAgIHZhciB3aW5Qb3MgPSAvKnNjcm9sbFBvcyB8fCovIHBhcnNlSW50KHdpbmRvdy5wYWdlWU9mZnNldCwgMTApLFxuICAgICAgICBjdXJJZHg7XG5cbiAgICBpZih3aW5Qb3MgKyB0aGlzLndpbkhlaWdodCA9PT0gdGhpcy5kb2NIZWlnaHQpeyBjdXJJZHggPSB0aGlzLnBvaW50cy5sZW5ndGggLSAxOyB9XG4gICAgZWxzZSBpZih3aW5Qb3MgPCB0aGlzLnBvaW50c1swXSl7IGN1cklkeCA9IDA7IH1cbiAgICBlbHNle1xuICAgICAgdmFyIGlzRG93biA9IHRoaXMuc2Nyb2xsUG9zIDwgd2luUG9zLFxuICAgICAgICAgIF90aGlzID0gdGhpcyxcbiAgICAgICAgICBjdXJWaXNpYmxlID0gdGhpcy5wb2ludHMuZmlsdGVyKGZ1bmN0aW9uKHAsIGkpe1xuICAgICAgICAgICAgcmV0dXJuIGlzRG93biA/IHAgPD0gd2luUG9zIDogcCAtIF90aGlzLm9wdGlvbnMudGhyZXNob2xkIDw9IHdpblBvczsvLyYmIHdpblBvcyA+PSBfdGhpcy5wb2ludHNbaSAtMV0gLSBfdGhpcy5vcHRpb25zLnRocmVzaG9sZDtcbiAgICAgICAgICB9KTtcbiAgICAgIGN1cklkeCA9IGN1clZpc2libGUubGVuZ3RoID8gY3VyVmlzaWJsZS5sZW5ndGggLSAxIDogMDtcbiAgICB9XG5cbiAgICB0aGlzLiRhY3RpdmUucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmFjdGl2ZUNsYXNzKTtcbiAgICB0aGlzLiRhY3RpdmUgPSB0aGlzLiRsaW5rcy5lcShjdXJJZHgpLmFkZENsYXNzKHRoaXMub3B0aW9ucy5hY3RpdmVDbGFzcyk7XG5cbiAgICBpZih0aGlzLm9wdGlvbnMuZGVlcExpbmtpbmcpe1xuICAgICAgdmFyIGhhc2ggPSB0aGlzLiRhY3RpdmVbMF0uZ2V0QXR0cmlidXRlKCdocmVmJyk7XG4gICAgICBpZih3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUpe1xuICAgICAgICB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUobnVsbCwgbnVsbCwgaGFzaCk7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhhc2ggPSBoYXNoO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuc2Nyb2xsUG9zID0gd2luUG9zO1xuICAgIC8qKlxuICAgICAqIEZpcmVzIHdoZW4gbWFnZWxsYW4gaXMgZmluaXNoZWQgdXBkYXRpbmcgdG8gdGhlIG5ldyBhY3RpdmUgZWxlbWVudC5cbiAgICAgKiBAZXZlbnQgTWFnZWxsYW4jdXBkYXRlXG4gICAgICovXG4gICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKCd1cGRhdGUuemYubWFnZWxsYW4nLCBbdGhpcy4kYWN0aXZlXSk7XG4gIH07XG4gIC8qKlxuICAgKiBEZXN0cm95cyBhbiBpbnN0YW5jZSBvZiBNYWdlbGxhbiBhbmQgcmVzZXRzIHRoZSB1cmwgb2YgdGhlIHdpbmRvdy5cbiAgICogQGZ1bmN0aW9uXG4gICAqL1xuICBNYWdlbGxhbi5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCl7XG4gICAgdGhpcy4kZWxlbWVudC5vZmYoJy56Zi50cmlnZ2VyIC56Zi5tYWdlbGxhbicpXG4gICAgICAgIC5maW5kKCcuJyArIHRoaXMub3B0aW9ucy5hY3RpdmVDbGFzcykucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmFjdGl2ZUNsYXNzKTtcblxuICAgIGlmKHRoaXMub3B0aW9ucy5kZWVwTGlua2luZyl7XG4gICAgICB2YXIgaGFzaCA9IHRoaXMuJGFjdGl2ZVswXS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKTtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5oYXNoLnJlcGxhY2UoaGFzaCwgJycpO1xuICAgIH1cblxuICAgIEZvdW5kYXRpb24udW5yZWdpc3RlclBsdWdpbih0aGlzKTtcbiAgfTtcbiAgRm91bmRhdGlvbi5wbHVnaW4oTWFnZWxsYW4sICdNYWdlbGxhbicpO1xuXG4gIC8vIEV4cG9ydHMgZm9yIEFNRC9Ccm93c2VyaWZ5XG4gIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgbW9kdWxlLmV4cG9ydHMgIT09ICd1bmRlZmluZWQnKVxuICAgIG1vZHVsZS5leHBvcnRzID0gTWFnZWxsYW47XG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nKVxuICAgIGRlZmluZShbJ2ZvdW5kYXRpb24nXSwgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gTWFnZWxsYW47XG4gICAgfSk7XG5cbn0oRm91bmRhdGlvbiwgalF1ZXJ5KTtcblxuLyoqXG4gKiBPZmZDYW52YXMgbW9kdWxlLlxuICogQG1vZHVsZSBmb3VuZGF0aW9uLm9mZmNhbnZhc1xuICogQHJlcXVpcmVzIGZvdW5kYXRpb24udXRpbC50cmlnZ2Vyc1xuICogQHJlcXVpcmVzIGZvdW5kYXRpb24udXRpbC5tb3Rpb25cbiAqL1xuIWZ1bmN0aW9uKCQsIEZvdW5kYXRpb24pIHtcblxuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgaW5zdGFuY2Ugb2YgYW4gb2ZmLWNhbnZhcyB3cmFwcGVyLlxuICogQGNsYXNzXG4gKiBAZmlyZXMgT2ZmQ2FudmFzI2luaXRcbiAqIEBwYXJhbSB7T2JqZWN0fSBlbGVtZW50IC0galF1ZXJ5IG9iamVjdCB0byBpbml0aWFsaXplLlxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBPdmVycmlkZXMgdG8gdGhlIGRlZmF1bHQgcGx1Z2luIHNldHRpbmdzLlxuICovXG5mdW5jdGlvbiBPZmZDYW52YXMoZWxlbWVudCwgb3B0aW9ucykge1xuICB0aGlzLiRlbGVtZW50ID0gZWxlbWVudDtcbiAgdGhpcy5vcHRpb25zID0gJC5leHRlbmQoe30sIE9mZkNhbnZhcy5kZWZhdWx0cywgdGhpcy4kZWxlbWVudC5kYXRhKCksIG9wdGlvbnMpO1xuICB0aGlzLiRsYXN0VHJpZ2dlciA9ICQoKTtcblxuICB0aGlzLl9pbml0KCk7XG4gIHRoaXMuX2V2ZW50cygpO1xuXG4gIEZvdW5kYXRpb24ucmVnaXN0ZXJQbHVnaW4odGhpcyk7XG59XG5cbk9mZkNhbnZhcy5kZWZhdWx0cyA9IHtcbiAgLyoqXG4gICAqIEFsbG93IHRoZSB1c2VyIHRvIGNsaWNrIG91dHNpZGUgb2YgdGhlIG1lbnUgdG8gY2xvc2UgaXQuXG4gICAqIEBvcHRpb25cbiAgICogQGV4YW1wbGUgdHJ1ZVxuICAgKi9cbiAgY2xvc2VPbkNsaWNrOiB0cnVlLFxuICAvKipcbiAgICogQW1vdW50IG9mIHRpbWUgaW4gbXMgdGhlIG9wZW4gYW5kIGNsb3NlIHRyYW5zaXRpb24gcmVxdWlyZXMuIElmIG5vbmUgc2VsZWN0ZWQsIHB1bGxzIGZyb20gYm9keSBzdHlsZS5cbiAgICogQG9wdGlvblxuICAgKiBAZXhhbXBsZSA1MDBcbiAgICovXG4gIHRyYW5zaXRpb25UaW1lOiAwLFxuICAvKipcbiAgICogRGlyZWN0aW9uIHRoZSBvZmZjYW52YXMgb3BlbnMgZnJvbS4gRGV0ZXJtaW5lcyBjbGFzcyBhcHBsaWVkIHRvIGJvZHkuXG4gICAqIEBvcHRpb25cbiAgICogQGV4YW1wbGUgbGVmdFxuICAgKi9cbiAgcG9zaXRpb246ICdsZWZ0JyxcbiAgLyoqXG4gICAqIEZvcmNlIHRoZSBwYWdlIHRvIHNjcm9sbCB0byB0b3Agb24gb3Blbi5cbiAgICovXG4gIGZvcmNlVG9wOiB0cnVlLFxuICAvKipcbiAgICogQWxsb3cgdGhlIG9mZmNhbnZhcyB0byBiZSBzdGlja3kgd2hpbGUgb3Blbi4gRG9lcyBub3RoaW5nIGlmIFNhc3Mgb3B0aW9uIGAkbWFpbmNvbnRlbnQtcHJldmVudC1zY3JvbGwgPT09IHRydWVgLlxuICAgKiBQZXJmb3JtYW5jZSBpbiBTYWZhcmkgT1NYL2lPUyBpcyBub3QgZ3JlYXQuXG4gICAqL1xuICAvLyBpc1N0aWNreTogZmFsc2UsXG4gIC8qKlxuICAgKiBBbGxvdyB0aGUgb2ZmY2FudmFzIHRvIHJlbWFpbiBvcGVuIGZvciBjZXJ0YWluIGJyZWFrcG9pbnRzLiBDYW4gYmUgdXNlZCB3aXRoIGBpc1N0aWNreWAuXG4gICAqIEBvcHRpb25cbiAgICogQGV4YW1wbGUgZmFsc2VcbiAgICovXG4gIGlzUmV2ZWFsZWQ6IGZhbHNlLFxuICAvKipcbiAgICogQnJlYWtwb2ludCBhdCB3aGljaCB0byByZXZlYWwuIEpTIHdpbGwgdXNlIGEgUmVnRXhwIHRvIHRhcmdldCBzdGFuZGFyZCBjbGFzc2VzLCBpZiBjaGFuZ2luZyBjbGFzc25hbWVzLCBwYXNzIHlvdXIgY2xhc3MgQGByZXZlYWxDbGFzc2AuXG4gICAqIEBvcHRpb25cbiAgICogQGV4YW1wbGUgcmV2ZWFsLWZvci1sYXJnZVxuICAgKi9cbiAgcmV2ZWFsT246IG51bGwsXG4gIC8qKlxuICAgKiBGb3JjZSBmb2N1cyB0byB0aGUgb2ZmY2FudmFzIG9uIG9wZW4uIElmIHRydWUsIHdpbGwgZm9jdXMgdGhlIG9wZW5pbmcgdHJpZ2dlciBvbiBjbG9zZS5cbiAgICogQG9wdGlvblxuICAgKiBAZXhhbXBsZSB0cnVlXG4gICAqL1xuICBhdXRvRm9jdXM6IHRydWUsXG4gIC8qKlxuICAgKiBDbGFzcyB1c2VkIHRvIGZvcmNlIGFuIG9mZmNhbnZhcyB0byByZW1haW4gb3Blbi4gRm91bmRhdGlvbiBkZWZhdWx0cyBmb3IgdGhpcyBhcmUgYHJldmVhbC1mb3ItbGFyZ2VgICYgYHJldmVhbC1mb3ItbWVkaXVtYC5cbiAgICogQG9wdGlvblxuICAgKiBUT0RPIGltcHJvdmUgdGhlIHJlZ2V4IHRlc3RpbmcgZm9yIHRoaXMuXG4gICAqIEBleGFtcGxlIHJldmVhbC1mb3ItbGFyZ2VcbiAgICovXG4gIHJldmVhbENsYXNzOiAncmV2ZWFsLWZvci0nXG59O1xuXG4vKipcbiAqIEluaXRpYWxpemVzIHRoZSBvZmYtY2FudmFzIHdyYXBwZXIgYnkgYWRkaW5nIHRoZSBleGl0IG92ZXJsYXkgKGlmIG5lZWRlZCkuXG4gKiBAZnVuY3Rpb25cbiAqIEBwcml2YXRlXG4gKi9cbk9mZkNhbnZhcy5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGlkID0gdGhpcy4kZWxlbWVudC5hdHRyKCdpZCcpO1xuXG4gIHRoaXMuJGVsZW1lbnQuYXR0cignYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuXG4gIC8vIEZpbmQgdHJpZ2dlcnMgdGhhdCBhZmZlY3QgdGhpcyBlbGVtZW50IGFuZCBhZGQgYXJpYS1leHBhbmRlZCB0byB0aGVtXG4gICQoZG9jdW1lbnQpXG4gICAgLmZpbmQoJ1tkYXRhLW9wZW49XCInK2lkKydcIl0sIFtkYXRhLWNsb3NlPVwiJytpZCsnXCJdLCBbZGF0YS10b2dnbGU9XCInK2lkKydcIl0nKVxuICAgIC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJylcbiAgICAuYXR0cignYXJpYS1jb250cm9scycsIGlkKTtcblxuICAvLyBBZGQgYSBjbG9zZSB0cmlnZ2VyIG92ZXIgdGhlIGJvZHkgaWYgbmVjZXNzYXJ5XG4gIGlmICh0aGlzLm9wdGlvbnMuY2xvc2VPbkNsaWNrKXtcbiAgICBpZigkKCcuanMtb2ZmLWNhbnZhcy1leGl0JykubGVuZ3RoKXtcbiAgICAgIHRoaXMuJGV4aXRlciA9ICQoJy5qcy1vZmYtY2FudmFzLWV4aXQnKTtcbiAgICB9ZWxzZXtcbiAgICAgIHZhciBleGl0ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGV4aXRlci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2pzLW9mZi1jYW52YXMtZXhpdCcpO1xuICAgICAgJCgnW2RhdGEtb2ZmLWNhbnZhcy1jb250ZW50XScpLmFwcGVuZChleGl0ZXIpO1xuXG4gICAgICB0aGlzLiRleGl0ZXIgPSAkKGV4aXRlcik7XG4gICAgfVxuICB9XG5cbiAgdGhpcy5vcHRpb25zLmlzUmV2ZWFsZWQgPSB0aGlzLm9wdGlvbnMuaXNSZXZlYWxlZCB8fCBuZXcgUmVnRXhwKHRoaXMub3B0aW9ucy5yZXZlYWxDbGFzcywgJ2cnKS50ZXN0KHRoaXMuJGVsZW1lbnRbMF0uY2xhc3NOYW1lKTtcblxuICBpZih0aGlzLm9wdGlvbnMuaXNSZXZlYWxlZCl7XG4gICAgdGhpcy5vcHRpb25zLnJldmVhbE9uID0gdGhpcy5vcHRpb25zLnJldmVhbE9uIHx8IHRoaXMuJGVsZW1lbnRbMF0uY2xhc3NOYW1lLm1hdGNoKC8ocmV2ZWFsLWZvci1tZWRpdW18cmV2ZWFsLWZvci1sYXJnZSkvZylbMF0uc3BsaXQoJy0nKVsyXTtcbiAgICB0aGlzLl9zZXRNUUNoZWNrZXIoKTtcbiAgfVxuICBpZighdGhpcy5vcHRpb25zLnRyYW5zaXRpb25UaW1lKXtcbiAgICB0aGlzLm9wdGlvbnMudHJhbnNpdGlvblRpbWUgPSBwYXJzZUZsb2F0KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKCQoJ1tkYXRhLW9mZi1jYW52YXMtd3JhcHBlcl0nKVswXSkudHJhbnNpdGlvbkR1cmF0aW9uKSAqIDEwMDA7XG4gIH1cbn07XG5cbi8qKlxuICogQWRkcyBldmVudCBoYW5kbGVycyB0byB0aGUgb2ZmLWNhbnZhcyB3cmFwcGVyIGFuZCB0aGUgZXhpdCBvdmVybGF5LlxuICogQGZ1bmN0aW9uXG4gKiBAcHJpdmF0ZVxuICovXG5PZmZDYW52YXMucHJvdG90eXBlLl9ldmVudHMgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy4kZWxlbWVudC5vbih7XG4gICAgJ29wZW4uemYudHJpZ2dlcic6IHRoaXMub3Blbi5iaW5kKHRoaXMpLFxuICAgICdjbG9zZS56Zi50cmlnZ2VyJzogdGhpcy5jbG9zZS5iaW5kKHRoaXMpLFxuICAgICd0b2dnbGUuemYudHJpZ2dlcic6IHRoaXMudG9nZ2xlLmJpbmQodGhpcyksXG4gICAgJ2tleWRvd24uemYub2ZmY2FudmFzJzogdGhpcy5faGFuZGxlS2V5Ym9hcmQuYmluZCh0aGlzKVxuICB9KTtcblxuICBpZiAodGhpcy4kZXhpdGVyLmxlbmd0aCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdGhpcy4kZXhpdGVyLm9uKHsnY2xpY2suemYub2ZmY2FudmFzJzogdGhpcy5jbG9zZS5iaW5kKHRoaXMpfSk7XG4gIH1cbn07XG4vKipcbiAqIEFwcGxpZXMgZXZlbnQgbGlzdGVuZXIgZm9yIGVsZW1lbnRzIHRoYXQgd2lsbCByZXZlYWwgYXQgY2VydGFpbiBicmVha3BvaW50cy5cbiAqIEBwcml2YXRlXG4gKi9cbk9mZkNhbnZhcy5wcm90b3R5cGUuX3NldE1RQ2hlY2tlciA9IGZ1bmN0aW9uKCl7XG4gIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgJCh3aW5kb3cpLm9uKCdjaGFuZ2VkLnpmLm1lZGlhcXVlcnknLCBmdW5jdGlvbigpe1xuICAgIGlmKEZvdW5kYXRpb24uTWVkaWFRdWVyeS5hdExlYXN0KF90aGlzLm9wdGlvbnMucmV2ZWFsT24pKXtcbiAgICAgIF90aGlzLnJldmVhbCh0cnVlKTtcbiAgICB9ZWxzZXtcbiAgICAgIF90aGlzLnJldmVhbChmYWxzZSk7XG4gICAgfVxuICB9KS5vbmUoJ2xvYWQuemYub2ZmY2FudmFzJywgZnVuY3Rpb24oKXtcbiAgICBpZihGb3VuZGF0aW9uLk1lZGlhUXVlcnkuYXRMZWFzdChfdGhpcy5vcHRpb25zLnJldmVhbE9uKSl7XG4gICAgICBfdGhpcy5yZXZlYWwodHJ1ZSk7XG4gICAgfVxuICB9KTtcbn07XG4vKipcbiAqIEhhbmRsZXMgdGhlIHJldmVhbGluZy9oaWRpbmcgdGhlIG9mZi1jYW52YXMgYXQgYnJlYWtwb2ludHMsIG5vdCB0aGUgc2FtZSBhcyBvcGVuLlxuICogQHBhcmFtIHtCb29sZWFufSBpc1JldmVhbGVkIC0gdHJ1ZSBpZiBlbGVtZW50IHNob3VsZCBiZSByZXZlYWxlZC5cbiAqIEBmdW5jdGlvblxuICovXG5PZmZDYW52YXMucHJvdG90eXBlLnJldmVhbCA9IGZ1bmN0aW9uKGlzUmV2ZWFsZWQpe1xuICB2YXIgJGNsb3NlciA9IHRoaXMuJGVsZW1lbnQuZmluZCgnW2RhdGEtY2xvc2VdJyk7XG4gIGlmKGlzUmV2ZWFsZWQpe1xuICAgIC8vIGlmKCF0aGlzLm9wdGlvbnMuZm9yY2VUb3Ape1xuICAgIC8vICAgdmFyIHNjcm9sbFBvcyA9IHBhcnNlSW50KHdpbmRvdy5wYWdlWU9mZnNldCk7XG4gICAgLy8gICB0aGlzLiRlbGVtZW50WzBdLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGUoMCwnICsgc2Nyb2xsUG9zICsgJ3B4KSc7XG4gICAgLy8gfVxuICAgIC8vIGlmKHRoaXMub3B0aW9ucy5pc1N0aWNreSl7IHRoaXMuX3N0aWNrKCk7IH1cbiAgICBpZigkY2xvc2VyLmxlbmd0aCl7ICRjbG9zZXIuaGlkZSgpOyB9XG4gIH1lbHNle1xuICAgIC8vIGlmKHRoaXMub3B0aW9ucy5pc1N0aWNreSB8fCAhdGhpcy5vcHRpb25zLmZvcmNlVG9wKXtcbiAgICAvLyAgIHRoaXMuJGVsZW1lbnRbMF0uc3R5bGUudHJhbnNmb3JtID0gJyc7XG4gICAgLy8gICAkKHdpbmRvdykub2ZmKCdzY3JvbGwuemYub2ZmY2FudmFzJyk7XG4gICAgLy8gfVxuICAgIGlmKCRjbG9zZXIubGVuZ3RoKXtcbiAgICAgICRjbG9zZXIuc2hvdygpO1xuICAgIH1cbiAgfVxufTtcblxuLyoqXG4gKiBPcGVucyB0aGUgb2ZmLWNhbnZhcyBtZW51LlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge09iamVjdH0gZXZlbnQgLSBFdmVudCBvYmplY3QgcGFzc2VkIGZyb20gbGlzdGVuZXIuXG4gKiBAcGFyYW0ge2pRdWVyeX0gdHJpZ2dlciAtIGVsZW1lbnQgdGhhdCB0cmlnZ2VyZWQgdGhlIG9mZi1jYW52YXMgdG8gb3Blbi5cbiAqIEBmaXJlcyBPZmZDYW52YXMjb3BlbmVkXG4gKi9cbk9mZkNhbnZhcy5wcm90b3R5cGUub3BlbiA9IGZ1bmN0aW9uKGV2ZW50LCB0cmlnZ2VyKSB7XG4gIGlmICh0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdpcy1vcGVuJykpeyByZXR1cm47IH1cbiAgdmFyIF90aGlzID0gdGhpcyxcbiAgICAgICRib2R5ID0gJChkb2N1bWVudC5ib2R5KTtcbiAgJCgnYm9keScpLnNjcm9sbFRvcCgwKTtcbiAgLy8gd2luZG93LnBhZ2VZT2Zmc2V0ID0gMDtcblxuICAvLyBpZighdGhpcy5vcHRpb25zLmZvcmNlVG9wKXtcbiAgLy8gICB2YXIgc2Nyb2xsUG9zID0gcGFyc2VJbnQod2luZG93LnBhZ2VZT2Zmc2V0KTtcbiAgLy8gICB0aGlzLiRlbGVtZW50WzBdLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGUoMCwnICsgc2Nyb2xsUG9zICsgJ3B4KSc7XG4gIC8vICAgaWYodGhpcy4kZXhpdGVyLmxlbmd0aCl7XG4gIC8vICAgICB0aGlzLiRleGl0ZXJbMF0uc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZSgwLCcgKyBzY3JvbGxQb3MgKyAncHgpJztcbiAgLy8gICB9XG4gIC8vIH1cbiAgLyoqXG4gICAqIEZpcmVzIHdoZW4gdGhlIG9mZi1jYW52YXMgbWVudSBvcGVucy5cbiAgICogQGV2ZW50IE9mZkNhbnZhcyNvcGVuZWRcbiAgICovXG4gIEZvdW5kYXRpb24uTW92ZSh0aGlzLm9wdGlvbnMudHJhbnNpdGlvblRpbWUsIHRoaXMuJGVsZW1lbnQsIGZ1bmN0aW9uKCl7XG4gICAgJCgnW2RhdGEtb2ZmLWNhbnZhcy13cmFwcGVyXScpLmFkZENsYXNzKCdpcy1vZmYtY2FudmFzLW9wZW4gaXMtb3Blbi0nKyBfdGhpcy5vcHRpb25zLnBvc2l0aW9uKTtcblxuICAgIF90aGlzLiRlbGVtZW50XG4gICAgICAuYWRkQ2xhc3MoJ2lzLW9wZW4nKVxuICAgICAgLmF0dHIoJ2FyaWEtaGlkZGVuJywgJ2ZhbHNlJylcbiAgICAgIC50cmlnZ2VyKCdvcGVuZWQuemYub2ZmY2FudmFzJyk7XG5cbiAgICAvLyBpZihfdGhpcy5vcHRpb25zLmlzU3RpY2t5KXtcbiAgICAvLyAgIF90aGlzLl9zdGljaygpO1xuICAgIC8vIH1cbiAgfSk7XG4gIGlmKHRyaWdnZXIpe1xuICAgIHRoaXMuJGxhc3RUcmlnZ2VyID0gdHJpZ2dlci5hdHRyKCdhcmlhLWV4cGFuZGVkJywgJ3RydWUnKTtcbiAgfVxuICBpZih0aGlzLm9wdGlvbnMuYXV0b0ZvY3VzKXtcbiAgICB0aGlzLiRlbGVtZW50Lm9uZSgnZmluaXNoZWQuemYuYW5pbWF0ZScsIGZ1bmN0aW9uKCl7XG4gICAgICBfdGhpcy4kZWxlbWVudC5maW5kKCdhLCBidXR0b24nKS5lcSgwKS5mb2N1cygpO1xuICAgIH0pO1xuICB9XG59O1xuLyoqXG4gKiBBbGxvd3MgdGhlIG9mZmNhbnZhcyB0byBhcHBlYXIgc3RpY2t5IHV0aWxpemluZyB0cmFuc2xhdGUgcHJvcGVydGllcy5cbiAqIEBwcml2YXRlXG4gKi9cbi8vIE9mZkNhbnZhcy5wcm90b3R5cGUuX3N0aWNrID0gZnVuY3Rpb24oKXtcbi8vICAgdmFyIGVsU3R5bGUgPSB0aGlzLiRlbGVtZW50WzBdLnN0eWxlO1xuLy9cbi8vICAgaWYodGhpcy5vcHRpb25zLmNsb3NlT25DbGljayl7XG4vLyAgICAgdmFyIGV4aXRTdHlsZSA9IHRoaXMuJGV4aXRlclswXS5zdHlsZTtcbi8vICAgfVxuLy9cbi8vICAgJCh3aW5kb3cpLm9uKCdzY3JvbGwuemYub2ZmY2FudmFzJywgZnVuY3Rpb24oZSl7XG4vLyAgICAgY29uc29sZS5sb2coZSk7XG4vLyAgICAgdmFyIHBhZ2VZID0gd2luZG93LnBhZ2VZT2Zmc2V0O1xuLy8gICAgIGVsU3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZSgwLCcgKyBwYWdlWSArICdweCknO1xuLy8gICAgIGlmKGV4aXRTdHlsZSAhPT0gdW5kZWZpbmVkKXsgZXhpdFN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGUoMCwnICsgcGFnZVkgKyAncHgpJzsgfVxuLy8gICB9KTtcbi8vICAgLy8gdGhpcy4kZWxlbWVudC50cmlnZ2VyKCdzdHVjay56Zi5vZmZjYW52YXMnKTtcbi8vIH07XG4vKipcbiAqIENsb3NlcyB0aGUgb2ZmLWNhbnZhcyBtZW51LlxuICogQGZ1bmN0aW9uXG4gKiBAZmlyZXMgT2ZmQ2FudmFzI2Nsb3NlZFxuICovXG5PZmZDYW52YXMucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24oKSB7XG4gIGlmKCF0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdpcy1vcGVuJykpeyByZXR1cm47IH1cblxuICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICBGb3VuZGF0aW9uLk1vdmUodGhpcy5vcHRpb25zLnRyYW5zaXRpb25UaW1lLCB0aGlzLiRlbGVtZW50LCBmdW5jdGlvbigpe1xuICAgICQoJ1tkYXRhLW9mZi1jYW52YXMtd3JhcHBlcl0nKS5yZW1vdmVDbGFzcygnaXMtb2ZmLWNhbnZhcy1vcGVuIGlzLW9wZW4tJytfdGhpcy5vcHRpb25zLnBvc2l0aW9uKTtcblxuICAgIF90aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKCdpcy1vcGVuJyk7XG4gICAgLy8gRm91bmRhdGlvbi5fcmVmbG93KCk7XG4gIH0pO1xuICB0aGlzLiRlbGVtZW50LmF0dHIoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKVxuICAgIC8qKlxuICAgICAqIEZpcmVzIHdoZW4gdGhlIG9mZi1jYW52YXMgbWVudSBvcGVucy5cbiAgICAgKiBAZXZlbnQgT2ZmQ2FudmFzI2Nsb3NlZFxuICAgICAqL1xuICAgICAgLnRyaWdnZXIoJ2Nsb3NlZC56Zi5vZmZjYW52YXMnKTtcbiAgLy8gaWYoX3RoaXMub3B0aW9ucy5pc1N0aWNreSB8fCAhX3RoaXMub3B0aW9ucy5mb3JjZVRvcCl7XG4gIC8vICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAvLyAgICAgX3RoaXMuJGVsZW1lbnRbMF0uc3R5bGUudHJhbnNmb3JtID0gJyc7XG4gIC8vICAgICAkKHdpbmRvdykub2ZmKCdzY3JvbGwuemYub2ZmY2FudmFzJyk7XG4gIC8vICAgfSwgdGhpcy5vcHRpb25zLnRyYW5zaXRpb25UaW1lKTtcbiAgLy8gfVxuXG4gIHRoaXMuJGxhc3RUcmlnZ2VyLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKTtcbn07XG5cbi8qKlxuICogVG9nZ2xlcyB0aGUgb2ZmLWNhbnZhcyBtZW51IG9wZW4gb3IgY2xvc2VkLlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge09iamVjdH0gZXZlbnQgLSBFdmVudCBvYmplY3QgcGFzc2VkIGZyb20gbGlzdGVuZXIuXG4gKiBAcGFyYW0ge2pRdWVyeX0gdHJpZ2dlciAtIGVsZW1lbnQgdGhhdCB0cmlnZ2VyZWQgdGhlIG9mZi1jYW52YXMgdG8gb3Blbi5cbiAqL1xuT2ZmQ2FudmFzLnByb3RvdHlwZS50b2dnbGUgPSBmdW5jdGlvbihldmVudCwgdHJpZ2dlcikge1xuICBpZiAodGhpcy4kZWxlbWVudC5oYXNDbGFzcygnaXMtb3BlbicpKSB7XG4gICAgdGhpcy5jbG9zZShldmVudCwgdHJpZ2dlcik7XG4gIH1cbiAgZWxzZSB7XG4gICAgdGhpcy5vcGVuKGV2ZW50LCB0cmlnZ2VyKTtcbiAgfVxufTtcblxuLyoqXG4gKiBIYW5kbGVzIGtleWJvYXJkIGlucHV0IHdoZW4gZGV0ZWN0ZWQuIFdoZW4gdGhlIGVzY2FwZSBrZXkgaXMgcHJlc3NlZCwgdGhlIG9mZi1jYW52YXMgbWVudSBjbG9zZXMsIGFuZCBmb2N1cyBpcyByZXN0b3JlZCB0byB0aGUgZWxlbWVudCB0aGF0IG9wZW5lZCB0aGUgbWVudS5cbiAqIEBmdW5jdGlvblxuICogQHByaXZhdGVcbiAqL1xuT2ZmQ2FudmFzLnByb3RvdHlwZS5faGFuZGxlS2V5Ym9hcmQgPSBmdW5jdGlvbihldmVudCkge1xuICBpZiAoZXZlbnQud2hpY2ggIT09IDI3KSByZXR1cm47XG5cbiAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIHRoaXMuY2xvc2UoKTtcbiAgdGhpcy4kbGFzdFRyaWdnZXIuZm9jdXMoKTtcbn07XG4vKipcbiAqIERlc3Ryb3lzIHRoZSBvZmZjYW52YXMgcGx1Z2luLlxuICogQGZ1bmN0aW9uXG4gKi9cbk9mZkNhbnZhcy5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCl7XG4gIC8vVE9ETyBtYWtlIHRoaXMuLi5cbn07XG5cbkZvdW5kYXRpb24ucGx1Z2luKE9mZkNhbnZhcywgJ09mZkNhbnZhcycpO1xuXG59KGpRdWVyeSwgRm91bmRhdGlvbik7XG5cbi8qKlxuICogT3JiaXQgbW9kdWxlLlxuICogQG1vZHVsZSBmb3VuZGF0aW9uLm9yYml0XG4gKiBAcmVxdWlyZXMgZm91bmRhdGlvbi51dGlsLmtleWJvYXJkXG4gKiBAcmVxdWlyZXMgZm91bmRhdGlvbi51dGlsLm1vdGlvblxuICogQHJlcXVpcmVzIGZvdW5kYXRpb24udXRpbC50aW1lckFuZEltYWdlTG9hZGVyXG4gKiBAcmVxdWlyZXMgZm91bmRhdGlvbi51dGlsLnRvdWNoXG4gKi9cbiFmdW5jdGlvbigkLCBGb3VuZGF0aW9uKXtcbiAgJ3VzZSBzdHJpY3QnO1xuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBpbnN0YW5jZSBvZiBhbiBvcmJpdCBjYXJvdXNlbC5cbiAgICogQGNsYXNzXG4gICAqIEBwYXJhbSB7alF1ZXJ5fSBlbGVtZW50IC0galF1ZXJ5IG9iamVjdCB0byBtYWtlIGludG8gYW4gYWNjb3JkaW9uIG1lbnUuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gT3ZlcnJpZGVzIHRvIHRoZSBkZWZhdWx0IHBsdWdpbiBzZXR0aW5ncy5cbiAgICovXG4gIGZ1bmN0aW9uIE9yYml0KGVsZW1lbnQsIG9wdGlvbnMpe1xuICAgIHRoaXMuJGVsZW1lbnQgPSBlbGVtZW50O1xuICAgIHRoaXMub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBPcmJpdC5kZWZhdWx0cywgdGhpcy4kZWxlbWVudC5kYXRhKCksIG9wdGlvbnMpO1xuXG4gICAgdGhpcy5faW5pdCgpO1xuXG4gICAgRm91bmRhdGlvbi5yZWdpc3RlclBsdWdpbih0aGlzKTtcbiAgICBGb3VuZGF0aW9uLktleWJvYXJkLnJlZ2lzdGVyKCdPcmJpdCcsIHtcbiAgICAgICAgJ2x0cic6IHtcbiAgICAgICAgICAnQVJST1dfUklHSFQnOiAnbmV4dCcsXG4gICAgICAgICAgJ0FSUk9XX0xFRlQnOiAncHJldmlvdXMnXG4gICAgICAgIH0sXG4gICAgICAgICdydGwnOiB7XG4gICAgICAgICAgJ0FSUk9XX0xFRlQnOiAnbmV4dCcsXG4gICAgICAgICAgJ0FSUk9XX1JJR0hUJzogJ3ByZXZpb3VzJ1xuICAgICAgICB9XG4gICAgfSk7XG4gIH1cbiAgT3JiaXQuZGVmYXVsdHMgPSB7XG4gICAgLyoqXG4gICAgICogVGVsbHMgdGhlIEpTIHRvIGxvYWRCdWxsZXRzLlxuICAgICAqIEBvcHRpb25cbiAgICAgKiBAZXhhbXBsZSB0cnVlXG4gICAgICovXG4gICAgYnVsbGV0czogdHJ1ZSxcbiAgICAvKipcbiAgICAgKiBUZWxscyB0aGUgSlMgdG8gYXBwbHkgZXZlbnQgbGlzdGVuZXJzIHRvIG5hdiBidXR0b25zXG4gICAgICogQG9wdGlvblxuICAgICAqIEBleGFtcGxlIHRydWVcbiAgICAgKi9cbiAgICBuYXZCdXR0b25zOiB0cnVlLFxuICAgIC8qKlxuICAgICAqIG1vdGlvbi11aSBhbmltYXRpb24gY2xhc3MgdG8gYXBwbHlcbiAgICAgKiBAb3B0aW9uXG4gICAgICogQGV4YW1wbGUgJ3NsaWRlLWluLXJpZ2h0J1xuICAgICAqL1xuICAgIGFuaW1JbkZyb21SaWdodDogJ3NsaWRlLWluLXJpZ2h0JyxcbiAgICAvKipcbiAgICAgKiBtb3Rpb24tdWkgYW5pbWF0aW9uIGNsYXNzIHRvIGFwcGx5XG4gICAgICogQG9wdGlvblxuICAgICAqIEBleGFtcGxlICdzbGlkZS1vdXQtcmlnaHQnXG4gICAgICovXG4gICAgYW5pbU91dFRvUmlnaHQ6ICdzbGlkZS1vdXQtcmlnaHQnLFxuICAgIC8qKlxuICAgICAqIG1vdGlvbi11aSBhbmltYXRpb24gY2xhc3MgdG8gYXBwbHlcbiAgICAgKiBAb3B0aW9uXG4gICAgICogQGV4YW1wbGUgJ3NsaWRlLWluLWxlZnQnXG4gICAgICpcbiAgICAgKi9cbiAgICBhbmltSW5Gcm9tTGVmdDogJ3NsaWRlLWluLWxlZnQnLFxuICAgIC8qKlxuICAgICAqIG1vdGlvbi11aSBhbmltYXRpb24gY2xhc3MgdG8gYXBwbHlcbiAgICAgKiBAb3B0aW9uXG4gICAgICogQGV4YW1wbGUgJ3NsaWRlLW91dC1sZWZ0J1xuICAgICAqL1xuICAgIGFuaW1PdXRUb0xlZnQ6ICdzbGlkZS1vdXQtbGVmdCcsXG4gICAgLyoqXG4gICAgICogQWxsb3dzIE9yYml0IHRvIGF1dG9tYXRpY2FsbHkgYW5pbWF0ZSBvbiBwYWdlIGxvYWQuXG4gICAgICogQG9wdGlvblxuICAgICAqIEBleGFtcGxlIHRydWVcbiAgICAgKi9cbiAgICBhdXRvUGxheTogdHJ1ZSxcbiAgICAvKipcbiAgICAgKiBBbW91bnQgb2YgdGltZSwgaW4gbXMsIGJldHdlZW4gc2xpZGUgdHJhbnNpdGlvbnNcbiAgICAgKiBAb3B0aW9uXG4gICAgICogQGV4YW1wbGUgNTAwMFxuICAgICAqL1xuICAgIHRpbWVyRGVsYXk6IDUwMDAsXG4gICAgLyoqXG4gICAgICogQWxsb3dzIE9yYml0IHRvIGluZmluaXRlbHkgbG9vcCB0aHJvdWdoIHRoZSBzbGlkZXNcbiAgICAgKiBAb3B0aW9uXG4gICAgICogQGV4YW1wbGUgdHJ1ZVxuICAgICAqL1xuICAgIGluZmluaXRlV3JhcDogdHJ1ZSxcbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdGhlIE9yYml0IHNsaWRlcyB0byBiaW5kIHRvIHN3aXBlIGV2ZW50cyBmb3IgbW9iaWxlLCByZXF1aXJlcyBhbiBhZGRpdGlvbmFsIHV0aWwgbGlicmFyeVxuICAgICAqIEBvcHRpb25cbiAgICAgKiBAZXhhbXBsZSB0cnVlXG4gICAgICovXG4gICAgc3dpcGU6IHRydWUsXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRoZSB0aW1pbmcgZnVuY3Rpb24gdG8gcGF1c2UgYW5pbWF0aW9uIG9uIGhvdmVyLlxuICAgICAqIEBvcHRpb25cbiAgICAgKiBAZXhhbXBsZSB0cnVlXG4gICAgICovXG4gICAgcGF1c2VPbkhvdmVyOiB0cnVlLFxuICAgIC8qKlxuICAgICAqIEFsbG93cyBPcmJpdCB0byBiaW5kIGtleWJvYXJkIGV2ZW50cyB0byB0aGUgc2xpZGVyLCB0byBhbmltYXRlIGZyYW1lcyB3aXRoIGFycm93IGtleXNcbiAgICAgKiBAb3B0aW9uXG4gICAgICogQGV4YW1wbGUgdHJ1ZVxuICAgICAqL1xuICAgIGFjY2Vzc2libGU6IHRydWUsXG4gICAgLyoqXG4gICAgICogQ2xhc3MgYXBwbGllZCB0byB0aGUgY29udGFpbmVyIG9mIE9yYml0XG4gICAgICogQG9wdGlvblxuICAgICAqIEBleGFtcGxlICdvcmJpdC1jb250YWluZXInXG4gICAgICovXG4gICAgY29udGFpbmVyQ2xhc3M6ICdvcmJpdC1jb250YWluZXInLFxuICAgIC8qKlxuICAgICAqIENsYXNzIGFwcGxpZWQgdG8gaW5kaXZpZHVhbCBzbGlkZXMuXG4gICAgICogQG9wdGlvblxuICAgICAqIEBleGFtcGxlICdvcmJpdC1zbGlkZSdcbiAgICAgKi9cbiAgICBzbGlkZUNsYXNzOiAnb3JiaXQtc2xpZGUnLFxuICAgIC8qKlxuICAgICAqIENsYXNzIGFwcGxpZWQgdG8gdGhlIGJ1bGxldCBjb250YWluZXIuIFlvdSdyZSB3ZWxjb21lLlxuICAgICAqIEBvcHRpb25cbiAgICAgKiBAZXhhbXBsZSAnb3JiaXQtYnVsbGV0cydcbiAgICAgKi9cbiAgICBib3hPZkJ1bGxldHM6ICdvcmJpdC1idWxsZXRzJyxcbiAgICAvKipcbiAgICAgKiBDbGFzcyBhcHBsaWVkIHRvIHRoZSBgbmV4dGAgbmF2aWdhdGlvbiBidXR0b24uXG4gICAgICogQG9wdGlvblxuICAgICAqIEBleGFtcGxlICdvcmJpdC1uZXh0J1xuICAgICAqL1xuICAgIG5leHRDbGFzczogJ29yYml0LW5leHQnLFxuICAgIC8qKlxuICAgICAqIENsYXNzIGFwcGxpZWQgdG8gdGhlIGBwcmV2aW91c2AgbmF2aWdhdGlvbiBidXR0b24uXG4gICAgICogQG9wdGlvblxuICAgICAqIEBleGFtcGxlICdvcmJpdC1wcmV2aW91cydcbiAgICAgKi9cbiAgICBwcmV2Q2xhc3M6ICdvcmJpdC1wcmV2aW91cycsXG4gICAgLyoqXG4gICAgICogQm9vbGVhbiB0byBmbGFnIHRoZSBqcyB0byB1c2UgbW90aW9uIHVpIGNsYXNzZXMgb3Igbm90LiBEZWZhdWx0IHRvIHRydWUgZm9yIGJhY2t3YXJkcyBjb21wYXRhYmlsaXR5LlxuICAgICAqIEBvcHRpb25cbiAgICAgKiBAZXhhbXBsZSB0cnVlXG4gICAgICovXG4gICAgdXNlTVVJOiB0cnVlXG4gIH07XG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyB0aGUgcGx1Z2luIGJ5IGNyZWF0aW5nIGpRdWVyeSBjb2xsZWN0aW9ucywgc2V0dGluZyBhdHRyaWJ1dGVzLCBhbmQgc3RhcnRpbmcgdGhlIGFuaW1hdGlvbi5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBPcmJpdC5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbigpe1xuICAgIHRoaXMuJHdyYXBwZXIgPSB0aGlzLiRlbGVtZW50LmZpbmQoJy4nICsgdGhpcy5vcHRpb25zLmNvbnRhaW5lckNsYXNzKTtcbiAgICB0aGlzLiRzbGlkZXMgPSB0aGlzLiRlbGVtZW50LmZpbmQoJy4nICsgdGhpcy5vcHRpb25zLnNsaWRlQ2xhc3MpO1xuICAgIHZhciAkaW1hZ2VzID0gdGhpcy4kZWxlbWVudC5maW5kKCdpbWcnKSxcbiAgICAgICAgaW5pdEFjdGl2ZSA9IHRoaXMuJHNsaWRlcy5maWx0ZXIoJy5pcy1hY3RpdmUnKTtcblxuICAgIGlmKCFpbml0QWN0aXZlLmxlbmd0aCl7XG4gICAgICB0aGlzLiRzbGlkZXMuZXEoMCkuYWRkQ2xhc3MoJ2lzLWFjdGl2ZScpO1xuICAgIH1cbiAgICBpZighdGhpcy5vcHRpb25zLnVzZU1VSSl7XG4gICAgICB0aGlzLiRzbGlkZXMuYWRkQ2xhc3MoJ25vLW1vdGlvbnVpJyk7XG4gICAgfVxuICAgIGlmKCRpbWFnZXMubGVuZ3RoKXtcbiAgICAgIEZvdW5kYXRpb24ub25JbWFnZXNMb2FkZWQoJGltYWdlcywgdGhpcy5fcHJlcGFyZUZvck9yYml0LmJpbmQodGhpcykpO1xuICAgIH1lbHNle1xuICAgICAgdGhpcy5fcHJlcGFyZUZvck9yYml0KCk7Ly9oZWhlXG4gICAgfVxuXG4gICAgaWYodGhpcy5vcHRpb25zLmJ1bGxldHMpe1xuICAgICAgdGhpcy5fbG9hZEJ1bGxldHMoKTtcbiAgICB9XG5cbiAgICB0aGlzLl9ldmVudHMoKTtcblxuICAgIGlmKHRoaXMub3B0aW9ucy5hdXRvUGxheSl7XG4gICAgICB0aGlzLmdlb1N5bmMoKTtcbiAgICB9XG4gICAgaWYodGhpcy5vcHRpb25zLmFjY2Vzc2libGUpeyAvLyBhbGxvdyB3cmFwcGVyIHRvIGJlIGZvY3VzYWJsZSB0byBlbmFibGUgYXJyb3cgbmF2aWdhdGlvblxuICAgICAgdGhpcy4kd3JhcHBlci5hdHRyKCd0YWJpbmRleCcsIDApO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBqUXVlcnkgY29sbGVjdGlvbiBvZiBidWxsZXRzLCBpZiB0aGV5IGFyZSBiZWluZyB1c2VkLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQHByaXZhdGVcbiAgICovXG4gIE9yYml0LnByb3RvdHlwZS5fbG9hZEJ1bGxldHMgPSBmdW5jdGlvbigpe1xuICAgIHRoaXMuJGJ1bGxldHMgPSB0aGlzLiRlbGVtZW50LmZpbmQoJy4nICsgdGhpcy5vcHRpb25zLmJveE9mQnVsbGV0cykuZmluZCgnYnV0dG9uJyk7XG4gIH07XG4gIC8qKlxuICAgKiBTZXRzIGEgYHRpbWVyYCBvYmplY3Qgb24gdGhlIG9yYml0LCBhbmQgc3RhcnRzIHRoZSBjb3VudGVyIGZvciB0aGUgbmV4dCBzbGlkZS5cbiAgICogQGZ1bmN0aW9uXG4gICAqL1xuICBPcmJpdC5wcm90b3R5cGUuZ2VvU3luYyA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICB0aGlzLnRpbWVyID0gbmV3IEZvdW5kYXRpb24uVGltZXIoXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy4kZWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgICB7ZHVyYXRpb246IHRoaXMub3B0aW9ucy50aW1lckRlbGF5LFxuICAgICAgICAgICAgICAgICAgICAgICBpbmZpbml0ZTogZmFsc2V9LFxuICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5jaGFuZ2VTbGlkZSh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICB0aGlzLnRpbWVyLnN0YXJ0KCk7XG4gIH07XG4gIC8qKlxuICAgKiBTZXRzIHdyYXBwZXIgYW5kIHNsaWRlIGhlaWdodHMgZm9yIHRoZSBvcmJpdC5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBPcmJpdC5wcm90b3R5cGUuX3ByZXBhcmVGb3JPcmJpdCA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICB0aGlzLl9zZXRXcmFwcGVySGVpZ2h0KGZ1bmN0aW9uKG1heCl7XG4gICAgICBfdGhpcy5fc2V0U2xpZGVIZWlnaHQobWF4KTtcbiAgICB9KTtcbiAgfTtcbiAgLyoqXG4gICAqIENhbHVsYXRlcyB0aGUgaGVpZ2h0IG9mIGVhY2ggc2xpZGUgaW4gdGhlIGNvbGxlY3Rpb24sIGFuZCB1c2VzIHRoZSB0YWxsZXN0IG9uZSBmb3IgdGhlIHdyYXBwZXIgaGVpZ2h0LlxuICAgKiBAZnVuY3Rpb25cbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2IgLSBhIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGZpcmUgd2hlbiBjb21wbGV0ZS5cbiAgICovXG4gIE9yYml0LnByb3RvdHlwZS5fc2V0V3JhcHBlckhlaWdodCA9IGZ1bmN0aW9uKGNiKXsvL3Jld3JpdGUgdGhpcyB0byBgZm9yYCBsb29wXG4gICAgdmFyIG1heCA9IDAsIHRlbXAsIGNvdW50ZXIgPSAwO1xuXG4gICAgdGhpcy4kc2xpZGVzLmVhY2goZnVuY3Rpb24oKXtcbiAgICAgIHRlbXAgPSB0aGlzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcbiAgICAgICQodGhpcykuYXR0cignZGF0YS1zbGlkZScsIGNvdW50ZXIpO1xuXG4gICAgICBpZihjb3VudGVyKXsvL2lmIG5vdCB0aGUgZmlyc3Qgc2xpZGUsIHNldCBjc3MgcG9zaXRpb24gYW5kIGRpc3BsYXkgcHJvcGVydHlcbiAgICAgICAgJCh0aGlzKS5jc3Moeydwb3NpdGlvbic6ICdyZWxhdGl2ZScsICdkaXNwbGF5JzogJ25vbmUnfSk7XG4gICAgICB9XG4gICAgICBtYXggPSB0ZW1wID4gbWF4ID8gdGVtcCA6IG1heDtcbiAgICAgIGNvdW50ZXIrKztcbiAgICB9KTtcblxuICAgIGlmKGNvdW50ZXIgPT09IHRoaXMuJHNsaWRlcy5sZW5ndGgpe1xuICAgICAgdGhpcy4kd3JhcHBlci5jc3MoeydoZWlnaHQnOiBtYXh9KTsvL29ubHkgY2hhbmdlIHRoZSB3cmFwcGVyIGhlaWdodCBwcm9wZXJ0eSBvbmNlLlxuICAgICAgY2IobWF4KTsvL2ZpcmUgY2FsbGJhY2sgd2l0aCBtYXggaGVpZ2h0IGRpbWVuc2lvbi5cbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBTZXRzIHRoZSBtYXgtaGVpZ2h0IG9mIGVhY2ggc2xpZGUuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgT3JiaXQucHJvdG90eXBlLl9zZXRTbGlkZUhlaWdodCA9IGZ1bmN0aW9uKGhlaWdodCl7XG4gICAgdGhpcy4kc2xpZGVzLmVhY2goZnVuY3Rpb24oKXtcbiAgICAgICQodGhpcykuY3NzKCdtYXgtaGVpZ2h0JywgaGVpZ2h0KTtcbiAgICB9KTtcbiAgfTtcbiAgLyoqXG4gICAqIEFkZHMgZXZlbnQgbGlzdGVuZXJzIHRvIGJhc2ljYWxseSBldmVyeXRoaW5nIHdpdGhpbiB0aGUgZWxlbWVudC5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBPcmJpdC5wcm90b3R5cGUuX2V2ZW50cyA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIC8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgLy8qKk5vdyB1c2luZyBjdXN0b20gZXZlbnQgLSB0aGFua3MgdG86KipcbiAgICAvLyoqICAgICAgWW9oYWkgQXJhcmF0IG9mIFRvcm9udG8gICAgICAqKlxuICAgIC8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgaWYodGhpcy5vcHRpb25zLnN3aXBlKXtcbiAgICAgIHRoaXMuJHNsaWRlcy5vZmYoJ3N3aXBlbGVmdC56Zi5vcmJpdCBzd2lwZXJpZ2h0LnpmLm9yYml0JylcbiAgICAgIC5vbignc3dpcGVsZWZ0LnpmLm9yYml0JywgZnVuY3Rpb24oZSl7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgX3RoaXMuY2hhbmdlU2xpZGUodHJ1ZSk7XG4gICAgICB9KS5vbignc3dpcGVyaWdodC56Zi5vcmJpdCcsIGZ1bmN0aW9uKGUpe1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIF90aGlzLmNoYW5nZVNsaWRlKGZhbHNlKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG4gICAgaWYodGhpcy5vcHRpb25zLmF1dG9QbGF5KXtcbiAgICAgIHRoaXMuJHNsaWRlcy5vbignY2xpY2suemYub3JiaXQnLCBmdW5jdGlvbigpe1xuICAgICAgICBfdGhpcy4kZWxlbWVudC5kYXRhKCdjbGlja2VkT24nLCBfdGhpcy4kZWxlbWVudC5kYXRhKCdjbGlja2VkT24nKSA/IGZhbHNlIDogdHJ1ZSk7XG4gICAgICAgIF90aGlzLnRpbWVyW190aGlzLiRlbGVtZW50LmRhdGEoJ2NsaWNrZWRPbicpID8gJ3BhdXNlJyA6ICdzdGFydCddKCk7XG4gICAgICB9KTtcbiAgICAgIGlmKHRoaXMub3B0aW9ucy5wYXVzZU9uSG92ZXIpe1xuICAgICAgICB0aGlzLiRlbGVtZW50Lm9uKCdtb3VzZWVudGVyLnpmLm9yYml0JywgZnVuY3Rpb24oKXtcbiAgICAgICAgICBfdGhpcy50aW1lci5wYXVzZSgpO1xuICAgICAgICB9KS5vbignbW91c2VsZWF2ZS56Zi5vcmJpdCcsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgaWYoIV90aGlzLiRlbGVtZW50LmRhdGEoJ2NsaWNrZWRPbicpKXtcbiAgICAgICAgICAgIF90aGlzLnRpbWVyLnN0YXJ0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZih0aGlzLm9wdGlvbnMubmF2QnV0dG9ucyl7XG4gICAgICB2YXIgJGNvbnRyb2xzID0gdGhpcy4kZWxlbWVudC5maW5kKCcuJyArIHRoaXMub3B0aW9ucy5uZXh0Q2xhc3MgKyAnLCAuJyArIHRoaXMub3B0aW9ucy5wcmV2Q2xhc3MpO1xuICAgICAgJGNvbnRyb2xzLmF0dHIoJ3RhYmluZGV4JywgMClcbiAgICAgICAgLy9hbHNvIG5lZWQgdG8gaGFuZGxlIGVudGVyL3JldHVybiBhbmQgc3BhY2ViYXIga2V5IHByZXNzZXNcbiAgICAgICAgICAgICAgIC5vbignY2xpY2suemYub3JiaXQgdG91Y2hlbmQuemYub3JiaXQnLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICBfdGhpcy5jaGFuZ2VTbGlkZSgkKHRoaXMpLmhhc0NsYXNzKF90aGlzLm9wdGlvbnMubmV4dENsYXNzKSk7XG4gICAgICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBpZih0aGlzLm9wdGlvbnMuYnVsbGV0cyl7XG4gICAgICB0aGlzLiRidWxsZXRzLm9uKCdjbGljay56Zi5vcmJpdCB0b3VjaGVuZC56Zi5vcmJpdCcsIGZ1bmN0aW9uKCl7XG4gICAgICAgIGlmKC9pcy1hY3RpdmUvZy50ZXN0KHRoaXMuY2xhc3NOYW1lKSl7IHJldHVybiBmYWxzZTsgfS8vaWYgdGhpcyBpcyBhY3RpdmUsIGtpY2sgb3V0IG9mIGZ1bmN0aW9uLlxuICAgICAgICB2YXIgaWR4ID0gJCh0aGlzKS5kYXRhKCdzbGlkZScpLFxuICAgICAgICAgICAgbHRyID0gaWR4ID4gX3RoaXMuJHNsaWRlcy5maWx0ZXIoJy5pcy1hY3RpdmUnKS5kYXRhKCdzbGlkZScpLFxuICAgICAgICAgICAgJHNsaWRlID0gX3RoaXMuJHNsaWRlcy5lcShpZHgpO1xuXG4gICAgICAgIF90aGlzLmNoYW5nZVNsaWRlKGx0ciwgJHNsaWRlLCBpZHgpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGhpcy4kd3JhcHBlci5hZGQodGhpcy4kYnVsbGV0cykub24oJ2tleWRvd24uemYub3JiaXQnLCBmdW5jdGlvbihlKXtcbiAgICAgIC8vIGhhbmRsZSBrZXlib2FyZCBldmVudCB3aXRoIGtleWJvYXJkIHV0aWxcbiAgICAgIEZvdW5kYXRpb24uS2V5Ym9hcmQuaGFuZGxlS2V5KGUsIF90aGlzLCB7XG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIF90aGlzLmNoYW5nZVNsaWRlKHRydWUpO1xuICAgICAgICB9LFxuICAgICAgICBwcmV2aW91czogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgX3RoaXMuY2hhbmdlU2xpZGUoZmFsc2UpO1xuICAgICAgICB9LFxuICAgICAgICBoYW5kbGVkOiBmdW5jdGlvbigpIHsgLy8gaWYgYnVsbGV0IGlzIGZvY3VzZWQsIG1ha2Ugc3VyZSBmb2N1cyBtb3Zlc1xuICAgICAgICAgIGlmICgkKGUudGFyZ2V0KS5pcyhfdGhpcy4kYnVsbGV0cykpIHtcbiAgICAgICAgICAgIF90aGlzLiRidWxsZXRzLmZpbHRlcignLmlzLWFjdGl2ZScpLmZvY3VzKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcbiAgLyoqXG4gICAqIENoYW5nZXMgdGhlIGN1cnJlbnQgc2xpZGUgdG8gYSBuZXcgb25lLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtCb29sZWFufSBpc0xUUiAtIGZsYWcgaWYgdGhlIHNsaWRlIHNob3VsZCBtb3ZlIGxlZnQgdG8gcmlnaHQuXG4gICAqIEBwYXJhbSB7alF1ZXJ5fSBjaG9zZW5TbGlkZSAtIHRoZSBqUXVlcnkgZWxlbWVudCBvZiB0aGUgc2xpZGUgdG8gc2hvdyBuZXh0LCBpZiBvbmUgaXMgc2VsZWN0ZWQuXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBpZHggLSB0aGUgaW5kZXggb2YgdGhlIG5ldyBzbGlkZSBpbiBpdHMgY29sbGVjdGlvbiwgaWYgb25lIGNob3Nlbi5cbiAgICogQGZpcmVzIE9yYml0I3NsaWRlY2hhbmdlXG4gICAqL1xuICBPcmJpdC5wcm90b3R5cGUuY2hhbmdlU2xpZGUgPSBmdW5jdGlvbihpc0xUUiwgY2hvc2VuU2xpZGUsIGlkeCl7XG4gICAgdmFyICRjdXJTbGlkZSA9IHRoaXMuJHNsaWRlcy5maWx0ZXIoJy5pcy1hY3RpdmUnKS5lcSgwKTtcblxuICAgIGlmKC9tdWkvZy50ZXN0KCRjdXJTbGlkZVswXS5jbGFzc05hbWUpKXsgcmV0dXJuIGZhbHNlOyB9Ly9pZiB0aGUgc2xpZGUgaXMgY3VycmVudGx5IGFuaW1hdGluZywga2ljayBvdXQgb2YgdGhlIGZ1bmN0aW9uXG5cbiAgICB2YXIgJGZpcnN0U2xpZGUgPSB0aGlzLiRzbGlkZXMuZmlyc3QoKSxcbiAgICAgICAgJGxhc3RTbGlkZSA9IHRoaXMuJHNsaWRlcy5sYXN0KCksXG4gICAgICAgIGRpckluID0gaXNMVFIgPyAnUmlnaHQnIDogJ0xlZnQnLFxuICAgICAgICBkaXJPdXQgPSBpc0xUUiA/ICdMZWZ0JyA6ICdSaWdodCcsXG4gICAgICAgIF90aGlzID0gdGhpcyxcbiAgICAgICAgJG5ld1NsaWRlO1xuXG4gICAgaWYoIWNob3NlblNsaWRlKXsvL21vc3Qgb2YgdGhlIHRpbWUsIHRoaXMgd2lsbCBiZSBhdXRvIHBsYXllZCBvciBjbGlja2VkIGZyb20gdGhlIG5hdkJ1dHRvbnMuXG4gICAgICAkbmV3U2xpZGUgPSBpc0xUUiA/IC8vaWYgd3JhcHBpbmcgZW5hYmxlZCwgY2hlY2sgdG8gc2VlIGlmIHRoZXJlIGlzIGEgYG5leHRgIG9yIGBwcmV2YCBzaWJsaW5nLCBpZiBub3QsIHNlbGVjdCB0aGUgZmlyc3Qgb3IgbGFzdCBzbGlkZSB0byBmaWxsIGluLiBpZiB3cmFwcGluZyBub3QgZW5hYmxlZCwgYXR0ZW1wdCB0byBzZWxlY3QgYG5leHRgIG9yIGBwcmV2YCwgaWYgdGhlcmUncyBub3RoaW5nIHRoZXJlLCB0aGUgZnVuY3Rpb24gd2lsbCBraWNrIG91dCBvbiBuZXh0IHN0ZXAuIENSQVpZIE5FU1RFRCBURVJOQVJJRVMhISEhIVxuICAgICAgICAgICAgICAgICAgICAodGhpcy5vcHRpb25zLmluZmluaXRlV3JhcCA/ICRjdXJTbGlkZS5uZXh0KCcuJyArIHRoaXMub3B0aW9ucy5zbGlkZUNsYXNzKS5sZW5ndGggPyAkY3VyU2xpZGUubmV4dCgnLicgKyB0aGlzLm9wdGlvbnMuc2xpZGVDbGFzcykgOiAkZmlyc3RTbGlkZSA6ICRjdXJTbGlkZS5uZXh0KCcuJyArIHRoaXMub3B0aW9ucy5zbGlkZUNsYXNzKSkvL3BpY2sgbmV4dCBzbGlkZSBpZiBtb3ZpbmcgbGVmdCB0byByaWdodFxuICAgICAgICAgICAgICAgICAgICA6XG4gICAgICAgICAgICAgICAgICAgICh0aGlzLm9wdGlvbnMuaW5maW5pdGVXcmFwID8gJGN1clNsaWRlLnByZXYoJy4nICsgdGhpcy5vcHRpb25zLnNsaWRlQ2xhc3MpLmxlbmd0aCA/ICRjdXJTbGlkZS5wcmV2KCcuJyArIHRoaXMub3B0aW9ucy5zbGlkZUNsYXNzKSA6ICRsYXN0U2xpZGUgOiAkY3VyU2xpZGUucHJldignLicgKyB0aGlzLm9wdGlvbnMuc2xpZGVDbGFzcykpOy8vcGljayBwcmV2IHNsaWRlIGlmIG1vdmluZyByaWdodCB0byBsZWZ0XG4gICAgfWVsc2V7XG4gICAgICAkbmV3U2xpZGUgPSBjaG9zZW5TbGlkZTtcbiAgICB9XG4gICAgaWYoJG5ld1NsaWRlLmxlbmd0aCl7XG4gICAgICBpZih0aGlzLm9wdGlvbnMuYnVsbGV0cyl7XG4gICAgICAgIGlkeCA9IGlkeCB8fCB0aGlzLiRzbGlkZXMuaW5kZXgoJG5ld1NsaWRlKTsvL2dyYWIgaW5kZXggdG8gdXBkYXRlIGJ1bGxldHNcbiAgICAgICAgdGhpcy5fdXBkYXRlQnVsbGV0cyhpZHgpO1xuICAgICAgfVxuICAgICAgaWYodGhpcy5vcHRpb25zLnVzZU1VSSl7XG5cbiAgICAgICAgRm91bmRhdGlvbi5Nb3Rpb24uYW5pbWF0ZUluKFxuICAgICAgICAgICRuZXdTbGlkZS5hZGRDbGFzcygnaXMtYWN0aXZlJykuY3NzKHsncG9zaXRpb24nOiAnYWJzb2x1dGUnLCAndG9wJzogMH0pLFxuICAgICAgICAgIHRoaXMub3B0aW9uc1snYW5pbUluRnJvbScgKyBkaXJJbl0sXG4gICAgICAgICAgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICRuZXdTbGlkZS5jc3Moeydwb3NpdGlvbic6ICdyZWxhdGl2ZScsICdkaXNwbGF5JzogJ2Jsb2NrJ30pXG4gICAgICAgICAgICAgICAgICAgICAuYXR0cignYXJpYS1saXZlJywgJ3BvbGl0ZScpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgIEZvdW5kYXRpb24uTW90aW9uLmFuaW1hdGVPdXQoXG4gICAgICAgICAgJGN1clNsaWRlLnJlbW92ZUNsYXNzKCdpcy1hY3RpdmUnKSxcbiAgICAgICAgICB0aGlzLm9wdGlvbnNbJ2FuaW1PdXRUbycgKyBkaXJPdXRdLFxuICAgICAgICAgIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAkY3VyU2xpZGUucmVtb3ZlQXR0cignYXJpYS1saXZlJyk7XG4gICAgICAgICAgICBpZihfdGhpcy5vcHRpb25zLmF1dG9QbGF5KXtcbiAgICAgICAgICAgICAgX3RoaXMudGltZXIucmVzdGFydCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy9kbyBzdHVmZj9cbiAgICAgICAgICB9KTtcbiAgICAgIH1lbHNle1xuICAgICAgICAkY3VyU2xpZGUucmVtb3ZlQ2xhc3MoJ2lzLWFjdGl2ZSBpcy1pbicpLnJlbW92ZUF0dHIoJ2FyaWEtbGl2ZScpLmhpZGUoKTtcbiAgICAgICAgJG5ld1NsaWRlLmFkZENsYXNzKCdpcy1hY3RpdmUgaXMtaW4nKS5hdHRyKCdhcmlhLWxpdmUnLCAncG9saXRlJykuc2hvdygpO1xuICAgICAgICBpZih0aGlzLm9wdGlvbnMuYXV0b1BsYXkpe1xuICAgICAgICAgIHRoaXMudGltZXIucmVzdGFydCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvKipcbiAgICAgICAqIFRyaWdnZXJzIHdoZW4gdGhlIHNsaWRlIGhhcyBmaW5pc2hlZCBhbmltYXRpbmcgaW4uXG4gICAgICAgKiBAZXZlbnQgT3JiaXQjc2xpZGVjaGFuZ2VcbiAgICAgICAqL1xuICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKCdzbGlkZWNoYW5nZS56Zi5vcmJpdCcsIFskbmV3U2xpZGVdKTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBhY3RpdmUgc3RhdGUgb2YgdGhlIGJ1bGxldHMsIGlmIGRpc3BsYXllZC5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBpZHggLSB0aGUgaW5kZXggb2YgdGhlIGN1cnJlbnQgc2xpZGUuXG4gICAqL1xuICBPcmJpdC5wcm90b3R5cGUuX3VwZGF0ZUJ1bGxldHMgPSBmdW5jdGlvbihpZHgpe1xuICAgIHZhciAkb2xkQnVsbGV0ID0gdGhpcy4kZWxlbWVudC5maW5kKCcuJyArIHRoaXMub3B0aW9ucy5ib3hPZkJ1bGxldHMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpbmQoJy5pcy1hY3RpdmUnKS5yZW1vdmVDbGFzcygnaXMtYWN0aXZlJykuYmx1cigpLFxuICAgICAgICBzcGFuID0gJG9sZEJ1bGxldC5maW5kKCdzcGFuOmxhc3QnKS5kZXRhY2goKSxcbiAgICAgICAgJG5ld0J1bGxldCA9IHRoaXMuJGJ1bGxldHMuZXEoaWR4KS5hZGRDbGFzcygnaXMtYWN0aXZlJykuYXBwZW5kKHNwYW4pO1xuICB9O1xuICAvKipcbiAgICogRGVzdHJveXMgdGhlIGNhcm91c2VsIGFuZCBoaWRlcyB0aGUgZWxlbWVudC5cbiAgICogQGZ1bmN0aW9uXG4gICAqL1xuICBPcmJpdC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCl7XG4gICAgZGVsZXRlIHRoaXMudGltZXI7XG4gICAgdGhpcy4kZWxlbWVudC5vZmYoJy56Zi5vcmJpdCcpLmZpbmQoJyonKS5vZmYoJy56Zi5vcmJpdCcpLmVuZCgpLmhpZGUoKTtcbiAgICBGb3VuZGF0aW9uLnVucmVnaXN0ZXJQbHVnaW4odGhpcyk7XG4gIH07XG5cbiAgRm91bmRhdGlvbi5wbHVnaW4oT3JiaXQsICdPcmJpdCcpO1xuXG59KGpRdWVyeSwgd2luZG93LkZvdW5kYXRpb24pO1xuXG4vKipcbiAqIFJlc3BvbnNpdmVNZW51IG1vZHVsZS5cbiAqIEBtb2R1bGUgZm91bmRhdGlvbi5yZXNwb25zaXZlTWVudVxuICogQHJlcXVpcmVzIGZvdW5kYXRpb24udXRpbC50cmlnZ2Vyc1xuICogQHJlcXVpcmVzIGZvdW5kYXRpb24udXRpbC5tZWRpYVF1ZXJ5XG4gKiBAcmVxdWlyZXMgZm91bmRhdGlvbi51dGlsLmFjY29yZGlvbk1lbnVcbiAqIEByZXF1aXJlcyBmb3VuZGF0aW9uLnV0aWwuZHJpbGxkb3duXG4gKiBAcmVxdWlyZXMgZm91bmRhdGlvbi51dGlsLmRyb3Bkb3duLW1lbnVcbiAqL1xuIWZ1bmN0aW9uKEZvdW5kYXRpb24sICQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIFRoZSBwbHVnaW4gbWF0Y2hlcyB0aGUgcGx1Z2luIGNsYXNzZXMgd2l0aCB0aGVzZSBwbHVnaW4gaW5zdGFuY2VzLlxuICB2YXIgTWVudVBsdWdpbnMgPSB7XG4gICAgZHJvcGRvd246IHtcbiAgICAgIGNzc0NsYXNzOiAnZHJvcGRvd24nLFxuICAgICAgcGx1Z2luOiBGb3VuZGF0aW9uLl9wbHVnaW5zWydkcm9wZG93bi1tZW51J10gfHwgbnVsbFxuICAgIH0sXG4gICAgZHJpbGxkb3duOiB7XG4gICAgICBjc3NDbGFzczogJ2RyaWxsZG93bicsXG4gICAgICBwbHVnaW46IEZvdW5kYXRpb24uX3BsdWdpbnNbJ2RyaWxsZG93biddIHx8IG51bGxcbiAgICB9LFxuICAgIGFjY29yZGlvbjoge1xuICAgICAgY3NzQ2xhc3M6ICdhY2NvcmRpb24tbWVudScsXG4gICAgICBwbHVnaW46IEZvdW5kYXRpb24uX3BsdWdpbnNbJ2FjY29yZGlvbi1tZW51J10gfHwgbnVsbFxuICAgIH1cbiAgfTtcblxuICAvLyBbUEhdIE1lZGlhIHF1ZXJpZXNcbiAgdmFyIHBoTWVkaWEgPSB7XG4gICAgc21hbGw6ICcobWluLXdpZHRoOiAwcHgpJyxcbiAgICBtZWRpdW06ICcobWluLXdpZHRoOiA2NDBweCknXG4gIH07XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgaW5zdGFuY2Ugb2YgYSByZXNwb25zaXZlIG1lbnUuXG4gICAqIEBjbGFzc1xuICAgKiBAZmlyZXMgUmVzcG9uc2l2ZU1lbnUjaW5pdFxuICAgKiBAcGFyYW0ge2pRdWVyeX0gZWxlbWVudCAtIGpRdWVyeSBvYmplY3QgdG8gbWFrZSBpbnRvIGEgZHJvcGRvd24gbWVudS5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBPdmVycmlkZXMgdG8gdGhlIGRlZmF1bHQgcGx1Z2luIHNldHRpbmdzLlxuICAgKi9cbiAgZnVuY3Rpb24gUmVzcG9uc2l2ZU1lbnUoZWxlbWVudCkge1xuICAgIHRoaXMuJGVsZW1lbnQgPSAkKGVsZW1lbnQpO1xuICAgIHRoaXMucnVsZXMgPSB0aGlzLiRlbGVtZW50LmRhdGEoJ3Jlc3BvbnNpdmUtbWVudScpO1xuICAgIHRoaXMuY3VycmVudE1xID0gbnVsbDtcbiAgICB0aGlzLmN1cnJlbnRQbHVnaW4gPSBudWxsO1xuXG4gICAgdGhpcy5faW5pdCgpO1xuICAgIHRoaXMuX2V2ZW50cygpO1xuXG4gICAgRm91bmRhdGlvbi5yZWdpc3RlclBsdWdpbih0aGlzKTtcbiAgfVxuXG4gIFJlc3BvbnNpdmVNZW51LmRlZmF1bHRzID0ge307XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIHRoZSBNZW51IGJ5IHBhcnNpbmcgdGhlIGNsYXNzZXMgZnJvbSB0aGUgJ2RhdGEtUmVzcG9uc2l2ZU1lbnUnIGF0dHJpYnV0ZSBvbiB0aGUgZWxlbWVudC5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBSZXNwb25zaXZlTWVudS5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgcnVsZXNUcmVlID0ge307XG5cbiAgICAvLyBQYXJzZSBydWxlcyBmcm9tIFwiY2xhc3Nlc1wiIGluIGRhdGEgYXR0cmlidXRlXG4gICAgdmFyIHJ1bGVzID0gdGhpcy5ydWxlcy5zcGxpdCgnICcpO1xuXG4gICAgLy8gSXRlcmF0ZSB0aHJvdWdoIGV2ZXJ5IHJ1bGUgZm91bmRcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJ1bGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgcnVsZSA9IHJ1bGVzW2ldLnNwbGl0KCctJyk7XG4gICAgICB2YXIgcnVsZVNpemUgPSBydWxlLmxlbmd0aCA+IDEgPyBydWxlWzBdIDogJ3NtYWxsJztcbiAgICAgIHZhciBydWxlUGx1Z2luID0gcnVsZS5sZW5ndGggPiAxID8gcnVsZVsxXSA6IHJ1bGVbMF07XG5cbiAgICAgIGlmIChNZW51UGx1Z2luc1tydWxlUGx1Z2luXSAhPT0gbnVsbCkge1xuICAgICAgICBydWxlc1RyZWVbcnVsZVNpemVdID0gTWVudVBsdWdpbnNbcnVsZVBsdWdpbl07XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5ydWxlcyA9IHJ1bGVzVHJlZTtcblxuICAgIGlmICghJC5pc0VtcHR5T2JqZWN0KHJ1bGVzVHJlZSkpIHtcbiAgICAgIHRoaXMuX2NoZWNrTWVkaWFRdWVyaWVzKCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyBldmVudHMgZm9yIHRoZSBNZW51LlxuICAgKiBAZnVuY3Rpb25cbiAgICogQHByaXZhdGVcbiAgICovXG4gIFJlc3BvbnNpdmVNZW51LnByb3RvdHlwZS5fZXZlbnRzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICQod2luZG93KS5vbignY2hhbmdlZC56Zi5tZWRpYXF1ZXJ5JywgZnVuY3Rpb24oKSB7XG4gICAgICBfdGhpcy5fY2hlY2tNZWRpYVF1ZXJpZXMoKTtcbiAgICB9KTtcbiAgICAvLyAkKHdpbmRvdykub24oJ3Jlc2l6ZS56Zi5SZXNwb25zaXZlTWVudScsIGZ1bmN0aW9uKCkge1xuICAgIC8vICAgX3RoaXMuX2NoZWNrTWVkaWFRdWVyaWVzKCk7XG4gICAgLy8gfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENoZWNrcyB0aGUgY3VycmVudCBzY3JlZW4gd2lkdGggYWdhaW5zdCBhdmFpbGFibGUgbWVkaWEgcXVlcmllcy4gSWYgdGhlIG1lZGlhIHF1ZXJ5IGhhcyBjaGFuZ2VkLCBhbmQgdGhlIHBsdWdpbiBuZWVkZWQgaGFzIGNoYW5nZWQsIHRoZSBwbHVnaW5zIHdpbGwgc3dhcCBvdXQuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgUmVzcG9uc2l2ZU1lbnUucHJvdG90eXBlLl9jaGVja01lZGlhUXVlcmllcyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBtYXRjaGVkTXEsIF90aGlzID0gdGhpcztcbiAgICAvLyBJdGVyYXRlIHRocm91Z2ggZWFjaCBydWxlIGFuZCBmaW5kIHRoZSBsYXN0IG1hdGNoaW5nIHJ1bGVcbiAgICAkLmVhY2godGhpcy5ydWxlcywgZnVuY3Rpb24oa2V5KSB7XG4gICAgICBpZiAoRm91bmRhdGlvbi5NZWRpYVF1ZXJ5LmF0TGVhc3Qoa2V5KSkge1xuICAgICAgICBtYXRjaGVkTXEgPSBrZXk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBObyBtYXRjaD8gTm8gZGljZVxuICAgIGlmICghbWF0Y2hlZE1xKSByZXR1cm47XG5cbiAgICAvLyBQbHVnaW4gYWxyZWFkeSBpbml0aWFsaXplZD8gV2UgZ29vZFxuICAgIGlmICh0aGlzLmN1cnJlbnRQbHVnaW4gaW5zdGFuY2VvZiB0aGlzLnJ1bGVzW21hdGNoZWRNcV0ucGx1Z2luKSByZXR1cm47XG5cbiAgICAvLyBSZW1vdmUgZXhpc3RpbmcgcGx1Z2luLXNwZWNpZmljIENTUyBjbGFzc2VzXG4gICAgJC5lYWNoKE1lbnVQbHVnaW5zLCBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICBfdGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcyh2YWx1ZS5jc3NDbGFzcyk7XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgdGhlIENTUyBjbGFzcyBmb3IgdGhlIG5ldyBwbHVnaW5cbiAgICB0aGlzLiRlbGVtZW50LmFkZENsYXNzKHRoaXMucnVsZXNbbWF0Y2hlZE1xXS5jc3NDbGFzcyk7XG5cbiAgICAvLyBDcmVhdGUgYW4gaW5zdGFuY2Ugb2YgdGhlIG5ldyBwbHVnaW5cbiAgICBpZiAodGhpcy5jdXJyZW50UGx1Z2luKSB0aGlzLmN1cnJlbnRQbHVnaW4uZGVzdHJveSgpO1xuICAgIHRoaXMuY3VycmVudFBsdWdpbiA9IG5ldyB0aGlzLnJ1bGVzW21hdGNoZWRNcV0ucGx1Z2luKHRoaXMuJGVsZW1lbnQsIHt9KTtcbiAgfTtcblxuICAvKipcbiAgICogRGVzdHJveXMgdGhlIGluc3RhbmNlIG9mIHRoZSBjdXJyZW50IHBsdWdpbiBvbiB0aGlzIGVsZW1lbnQsIGFzIHdlbGwgYXMgdGhlIHdpbmRvdyByZXNpemUgaGFuZGxlciB0aGF0IHN3aXRjaGVzIHRoZSBwbHVnaW5zIG91dC5cbiAgICogQGZ1bmN0aW9uXG4gICAqL1xuICBSZXNwb25zaXZlTWVudS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuY3VycmVudFBsdWdpbi5kZXN0cm95KCk7XG4gICAgJCh3aW5kb3cpLm9mZignLnpmLlJlc3BvbnNpdmVNZW51Jyk7XG4gICAgRm91bmRhdGlvbi51bnJlZ2lzdGVyUGx1Z2luKHRoaXMpO1xuICB9O1xuICBGb3VuZGF0aW9uLnBsdWdpbihSZXNwb25zaXZlTWVudSwgJ1Jlc3BvbnNpdmVNZW51Jyk7XG5cbn0oRm91bmRhdGlvbiwgalF1ZXJ5KTtcblxuLyoqXG4gKiBSZXNwb25zaXZlVG9nZ2xlIG1vZHVsZS5cbiAqIEBtb2R1bGUgZm91bmRhdGlvbi5yZXNwb25zaXZlVG9nZ2xlXG4gKiBAcmVxdWlyZXMgZm91bmRhdGlvbi51dGlsLm1lZGlhUXVlcnlcbiAqL1xuIWZ1bmN0aW9uKCQsIEZvdW5kYXRpb24pIHtcblxuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgaW5zdGFuY2Ugb2YgVGFiIEJhci5cbiAqIEBjbGFzc1xuICogQGZpcmVzIFJlc3BvbnNpdmVUb2dnbGUjaW5pdFxuICogQHBhcmFtIHtqUXVlcnl9IGVsZW1lbnQgLSBqUXVlcnkgb2JqZWN0IHRvIGF0dGFjaCB0YWIgYmFyIGZ1bmN0aW9uYWxpdHkgdG8uXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIE92ZXJyaWRlcyB0byB0aGUgZGVmYXVsdCBwbHVnaW4gc2V0dGluZ3MuXG4gKi9cbmZ1bmN0aW9uIFJlc3BvbnNpdmVUb2dnbGUoZWxlbWVudCwgb3B0aW9ucykge1xuICB0aGlzLiRlbGVtZW50ID0gJChlbGVtZW50KTtcbiAgdGhpcy5vcHRpb25zID0gJC5leHRlbmQoe30sIFJlc3BvbnNpdmVUb2dnbGUuZGVmYXVsdHMsIHRoaXMuJGVsZW1lbnQuZGF0YSgpLCBvcHRpb25zKTtcblxuICB0aGlzLl9pbml0KCk7XG4gIHRoaXMuX2V2ZW50cygpO1xuXG4gIEZvdW5kYXRpb24ucmVnaXN0ZXJQbHVnaW4odGhpcyk7XG59XG5cblJlc3BvbnNpdmVUb2dnbGUuZGVmYXVsdHMgPSB7XG4gIC8qKlxuICAgKiBUaGUgYnJlYWtwb2ludCBhZnRlciB3aGljaCB0aGUgbWVudSBpcyBhbHdheXMgc2hvd24sIGFuZCB0aGUgdGFiIGJhciBpcyBoaWRkZW4uXG4gICAqIEBvcHRpb25cbiAgICogQGV4YW1wbGUgJ21lZGl1bSdcbiAgICovXG4gIGhpZGVGb3I6ICdtZWRpdW0nXG59O1xuXG4vKipcbiAqIEluaXRpYWxpemVzIHRoZSB0YWIgYmFyIGJ5IGZpbmRpbmcgdGhlIHRhcmdldCBlbGVtZW50LCB0b2dnbGluZyBlbGVtZW50LCBhbmQgcnVubmluZyB1cGRhdGUoKS5cbiAqIEBmdW5jdGlvblxuICogQHByaXZhdGVcbiAqL1xuUmVzcG9uc2l2ZVRvZ2dsZS5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHRhcmdldElEID0gdGhpcy4kZWxlbWVudC5kYXRhKCdyZXNwb25zaXZlLXRvZ2dsZScpO1xuICBpZiAoIXRhcmdldElEKSB7XG4gICAgY29uc29sZS5lcnJvcignWW91ciB0YWIgYmFyIG5lZWRzIGFuIElEIG9mIGEgTWVudSBhcyB0aGUgdmFsdWUgb2YgZGF0YS10YWItYmFyLicpO1xuICB9XG5cbiAgdGhpcy4kdGFyZ2V0TWVudSA9ICQoJyMnK3RhcmdldElEKTtcbiAgdGhpcy4kdG9nZ2xlciA9IHRoaXMuJGVsZW1lbnQuZmluZCgnW2RhdGEtdG9nZ2xlXScpO1xuXG4gIHRoaXMuX3VwZGF0ZSgpO1xufTtcblxuLyoqXG4gKiBBZGRzIG5lY2Vzc2FyeSBldmVudCBoYW5kbGVycyBmb3IgdGhlIHRhYiBiYXIgdG8gd29yay5cbiAqIEBmdW5jdGlvblxuICogQHByaXZhdGVcbiAqL1xuUmVzcG9uc2l2ZVRvZ2dsZS5wcm90b3R5cGUuX2V2ZW50cyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICQod2luZG93KS5vbignY2hhbmdlZC56Zi5tZWRpYXF1ZXJ5JywgdGhpcy5fdXBkYXRlLmJpbmQodGhpcykpO1xuXG4gIHRoaXMuJHRvZ2dsZXIub24oJ2NsaWNrLnpmLnJlc3BvbnNpdmVUb2dnbGUnLCB0aGlzLnRvZ2dsZU1lbnUuYmluZCh0aGlzKSk7XG59O1xuXG4vKipcbiAqIENoZWNrcyB0aGUgY3VycmVudCBtZWRpYSBxdWVyeSB0byBkZXRlcm1pbmUgaWYgdGhlIHRhYiBiYXIgc2hvdWxkIGJlIHZpc2libGUgb3IgaGlkZGVuLlxuICogQGZ1bmN0aW9uXG4gKiBAcHJpdmF0ZVxuICovXG5SZXNwb25zaXZlVG9nZ2xlLnByb3RvdHlwZS5fdXBkYXRlID0gZnVuY3Rpb24oKSB7XG4gIC8vIE1vYmlsZVxuICBpZiAoIUZvdW5kYXRpb24uTWVkaWFRdWVyeS5hdExlYXN0KHRoaXMub3B0aW9ucy5oaWRlRm9yKSkge1xuICAgIHRoaXMuJGVsZW1lbnQuc2hvdygpO1xuICAgIHRoaXMuJHRhcmdldE1lbnUuaGlkZSgpO1xuICB9XG5cbiAgLy8gRGVza3RvcFxuICBlbHNlIHtcbiAgICB0aGlzLiRlbGVtZW50LmhpZGUoKTtcbiAgICB0aGlzLiR0YXJnZXRNZW51LnNob3coKTtcbiAgfVxufTtcblxuLyoqXG4gKiBUb2dnbGVzIHRoZSBlbGVtZW50IGF0dGFjaGVkIHRvIHRoZSB0YWIgYmFyLiBUaGUgdG9nZ2xlIG9ubHkgaGFwcGVucyBpZiB0aGUgc2NyZWVuIGlzIHNtYWxsIGVub3VnaCB0byBhbGxvdyBpdC5cbiAqIEBmdW5jdGlvblxuICogQGZpcmVzIFJlc3BvbnNpdmVUb2dnbGUjdG9nZ2xlZFxuICovXG5SZXNwb25zaXZlVG9nZ2xlLnByb3RvdHlwZS50b2dnbGVNZW51ID0gZnVuY3Rpb24oKSB7XG4gIGlmICghRm91bmRhdGlvbi5NZWRpYVF1ZXJ5LmF0TGVhc3QodGhpcy5vcHRpb25zLmhpZGVGb3IpKSB7XG4gICAgdGhpcy4kdGFyZ2V0TWVudS50b2dnbGUoMCk7XG5cbiAgICAvKipcbiAgICAgKiBGaXJlcyB3aGVuIHRoZSBlbGVtZW50IGF0dGFjaGVkIHRvIHRoZSB0YWIgYmFyIHRvZ2dsZXMuXG4gICAgICogQGV2ZW50IFJlc3BvbnNpdmVUb2dnbGUjdG9nZ2xlZFxuICAgICAqL1xuICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcigndG9nZ2xlZC56Zi5yZXNwb25zaXZlVG9nZ2xlJyk7XG4gIH1cbn07XG5SZXNwb25zaXZlVG9nZ2xlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKXtcbiAgLy9UT0RPIHRoaXMuLi5cbn07XG5Gb3VuZGF0aW9uLnBsdWdpbihSZXNwb25zaXZlVG9nZ2xlLCAnUmVzcG9uc2l2ZVRvZ2dsZScpO1xuXG59KGpRdWVyeSwgRm91bmRhdGlvbik7XG5cbi8qKlxuICogUmV2ZWFsIG1vZHVsZS5cbiAqIEBtb2R1bGUgZm91bmRhdGlvbi5yZXZlYWxcbiAqIEByZXF1aXJlcyBmb3VuZGF0aW9uLnV0aWwua2V5Ym9hcmRcbiAqIEByZXF1aXJlcyBmb3VuZGF0aW9uLnV0aWwuYm94XG4gKiBAcmVxdWlyZXMgZm91bmRhdGlvbi51dGlsLnRyaWdnZXJzXG4gKiBAcmVxdWlyZXMgZm91bmRhdGlvbi51dGlsLm1lZGlhUXVlcnlcbiAqIEByZXF1aXJlcyBmb3VuZGF0aW9uLnV0aWwubW90aW9uIGlmIHVzaW5nIGFuaW1hdGlvbnNcbiAqL1xuIWZ1bmN0aW9uKEZvdW5kYXRpb24sICQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IGluc3RhbmNlIG9mIFJldmVhbC5cbiAgICogQGNsYXNzXG4gICAqIEBwYXJhbSB7alF1ZXJ5fSBlbGVtZW50IC0galF1ZXJ5IG9iamVjdCB0byB1c2UgZm9yIHRoZSBtb2RhbC5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBvcHRpb25hbCBwYXJhbWV0ZXJzLlxuICAgKi9cblxuICBmdW5jdGlvbiBSZXZlYWwoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHRoaXMuJGVsZW1lbnQgPSBlbGVtZW50O1xuICAgIHRoaXMub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBSZXZlYWwuZGVmYXVsdHMsIHRoaXMuJGVsZW1lbnQuZGF0YSgpLCBvcHRpb25zKTtcbiAgICB0aGlzLl9pbml0KCk7XG5cbiAgICBGb3VuZGF0aW9uLnJlZ2lzdGVyUGx1Z2luKHRoaXMpO1xuICAgIEZvdW5kYXRpb24uS2V5Ym9hcmQucmVnaXN0ZXIoJ1JldmVhbCcsIHtcbiAgICAgICdFTlRFUic6ICdvcGVuJyxcbiAgICAgICdTUEFDRSc6ICdvcGVuJyxcbiAgICAgICdFU0NBUEUnOiAnY2xvc2UnLFxuICAgICAgJ1RBQic6ICd0YWJfZm9yd2FyZCcsXG4gICAgICAnU0hJRlRfVEFCJzogJ3RhYl9iYWNrd2FyZCdcbiAgICB9KTtcbiAgfVxuXG4gIFJldmVhbC5kZWZhdWx0cyA9IHtcbiAgICAvKipcbiAgICAgKiBNb3Rpb24tVUkgY2xhc3MgdG8gdXNlIGZvciBhbmltYXRlZCBlbGVtZW50cy4gSWYgbm9uZSB1c2VkLCBkZWZhdWx0cyB0byBzaW1wbGUgc2hvdy9oaWRlLlxuICAgICAqIEBvcHRpb25cbiAgICAgKiBAZXhhbXBsZSAnc2xpZGUtaW4tbGVmdCdcbiAgICAgKi9cbiAgICBhbmltYXRpb25JbjogJycsXG4gICAgLyoqXG4gICAgICogTW90aW9uLVVJIGNsYXNzIHRvIHVzZSBmb3IgYW5pbWF0ZWQgZWxlbWVudHMuIElmIG5vbmUgdXNlZCwgZGVmYXVsdHMgdG8gc2ltcGxlIHNob3cvaGlkZS5cbiAgICAgKiBAb3B0aW9uXG4gICAgICogQGV4YW1wbGUgJ3NsaWRlLW91dC1yaWdodCdcbiAgICAgKi9cbiAgICBhbmltYXRpb25PdXQ6ICcnLFxuICAgIC8qKlxuICAgICAqIFRpbWUsIGluIG1zLCB0byBkZWxheSB0aGUgb3BlbmluZyBvZiBhIG1vZGFsIGFmdGVyIGEgY2xpY2sgaWYgbm8gYW5pbWF0aW9uIHVzZWQuXG4gICAgICogQG9wdGlvblxuICAgICAqIEBleGFtcGxlIDEwXG4gICAgICovXG4gICAgc2hvd0RlbGF5OiAwLFxuICAgIC8qKlxuICAgICAqIFRpbWUsIGluIG1zLCB0byBkZWxheSB0aGUgY2xvc2luZyBvZiBhIG1vZGFsIGFmdGVyIGEgY2xpY2sgaWYgbm8gYW5pbWF0aW9uIHVzZWQuXG4gICAgICogQG9wdGlvblxuICAgICAqIEBleGFtcGxlIDEwXG4gICAgICovXG4gICAgaGlkZURlbGF5OiAwLFxuICAgIC8qKlxuICAgICAqIEFsbG93cyBhIGNsaWNrIG9uIHRoZSBib2R5L292ZXJsYXkgdG8gY2xvc2UgdGhlIG1vZGFsLlxuICAgICAqIEBvcHRpb25cbiAgICAgKiBAZXhhbXBsZSB0cnVlXG4gICAgICovXG4gICAgY2xvc2VPbkNsaWNrOiB0cnVlLFxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0aGUgbW9kYWwgdG8gY2xvc2UgaWYgdGhlIHVzZXIgcHJlc3NlcyB0aGUgYEVTQ0FQRWAga2V5LlxuICAgICAqIEBvcHRpb25cbiAgICAgKiBAZXhhbXBsZSB0cnVlXG4gICAgICovXG4gICAgY2xvc2VPbkVzYzogdHJ1ZSxcbiAgICAvKipcbiAgICAgKiBJZiB0cnVlLCBhbGxvd3MgbXVsdGlwbGUgbW9kYWxzIHRvIGJlIGRpc3BsYXllZCBhdCBvbmNlLlxuICAgICAqIEBvcHRpb25cbiAgICAgKiBAZXhhbXBsZSBmYWxzZVxuICAgICAqL1xuICAgIG11bHRpcGxlT3BlbmVkOiBmYWxzZSxcbiAgICAvKipcbiAgICAgKiBEaXN0YW5jZSwgaW4gcGl4ZWxzLCB0aGUgbW9kYWwgc2hvdWxkIHB1c2ggZG93biBmcm9tIHRoZSB0b3Agb2YgdGhlIHNjcmVlbi5cbiAgICAgKiBAb3B0aW9uXG4gICAgICogQGV4YW1wbGUgMTAwXG4gICAgICovXG4gICAgdk9mZnNldDogMTAwLFxuICAgIC8qKlxuICAgICAqIERpc3RhbmNlLCBpbiBwaXhlbHMsIHRoZSBtb2RhbCBzaG91bGQgcHVzaCBpbiBmcm9tIHRoZSBzaWRlIG9mIHRoZSBzY3JlZW4uXG4gICAgICogQG9wdGlvblxuICAgICAqIEBleGFtcGxlIDBcbiAgICAgKi9cbiAgICBoT2Zmc2V0OiAwLFxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0aGUgbW9kYWwgdG8gYmUgZnVsbHNjcmVlbiwgY29tcGxldGVseSBibG9ja2luZyBvdXQgdGhlIHJlc3Qgb2YgdGhlIHZpZXcuIEpTIGNoZWNrcyBmb3IgdGhpcyBhcyB3ZWxsLlxuICAgICAqIEBvcHRpb25cbiAgICAgKiBAZXhhbXBsZSBmYWxzZVxuICAgICAqL1xuICAgIGZ1bGxTY3JlZW46IGZhbHNlLFxuICAgIC8qKlxuICAgICAqIFBlcmNlbnRhZ2Ugb2Ygc2NyZWVuIGhlaWdodCB0aGUgbW9kYWwgc2hvdWxkIHB1c2ggdXAgZnJvbSB0aGUgYm90dG9tIG9mIHRoZSB2aWV3LlxuICAgICAqIEBvcHRpb25cbiAgICAgKiBAZXhhbXBsZSAxMFxuICAgICAqL1xuICAgIGJ0bU9mZnNldFBjdDogMTAsXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRoZSBtb2RhbCB0byBnZW5lcmF0ZSBhbiBvdmVybGF5IGRpdiwgd2hpY2ggd2lsbCBjb3ZlciB0aGUgdmlldyB3aGVuIG1vZGFsIG9wZW5zLlxuICAgICAqIEBvcHRpb25cbiAgICAgKiBAZXhhbXBsZSB0cnVlXG4gICAgICovXG4gICAgb3ZlcmxheTogdHJ1ZSxcbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdGhlIG1vZGFsIHRvIHJlbW92ZSBhbmQgcmVpbmplY3QgbWFya3VwIG9uIGNsb3NlLiBTaG91bGQgYmUgdHJ1ZSBpZiB1c2luZyB2aWRlbyBlbGVtZW50cyB3L28gdXNpbmcgcHJvdmlkZXIncyBhcGkuXG4gICAgICogQG9wdGlvblxuICAgICAqIEBleGFtcGxlIGZhbHNlXG4gICAgICovXG4gICAgcmVzZXRPbkNsb3NlOiBmYWxzZVxuICB9O1xuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyB0aGUgbW9kYWwgYnkgYWRkaW5nIHRoZSBvdmVybGF5IGFuZCBjbG9zZSBidXR0b25zLCAoaWYgc2VsZWN0ZWQpLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgUmV2ZWFsLnByb3RvdHlwZS5faW5pdCA9IGZ1bmN0aW9uKCl7XG4gICAgdGhpcy5pZCA9IHRoaXMuJGVsZW1lbnQuYXR0cignaWQnKTtcbiAgICB0aGlzLmlzQWN0aXZlID0gZmFsc2U7XG5cbiAgICB0aGlzLiRhbmNob3IgPSAkKCdbZGF0YS1vcGVuPVwiJyArIHRoaXMuaWQgKyAnXCJdJykubGVuZ3RoID8gJCgnW2RhdGEtb3Blbj1cIicgKyB0aGlzLmlkICsgJ1wiXScpIDogJCgnW2RhdGEtdG9nZ2xlPVwiJyArIHRoaXMuaWQgKyAnXCJdJyk7XG5cbiAgICBpZih0aGlzLiRhbmNob3IubGVuZ3RoKXtcbiAgICAgIHZhciBhbmNob3JJZCA9IHRoaXMuJGFuY2hvclswXS5pZCB8fCBGb3VuZGF0aW9uLkdldFlvRGlnaXRzKDYsICdyZXZlYWwnKTtcblxuICAgICAgdGhpcy4kYW5jaG9yLmF0dHIoe1xuICAgICAgICAnYXJpYS1jb250cm9scyc6IHRoaXMuaWQsXG4gICAgICAgICdpZCc6IGFuY2hvcklkLFxuICAgICAgICAnYXJpYS1oYXNwb3B1cCc6IHRydWUsXG4gICAgICAgICd0YWJpbmRleCc6IDBcbiAgICAgIH0pO1xuICAgICAgdGhpcy4kZWxlbWVudC5hdHRyKHsnYXJpYS1sYWJlbGxlZGJ5JzogYW5jaG9ySWR9KTtcbiAgICB9XG5cbiAgICAvLyB0aGlzLm9wdGlvbnMuZnVsbFNjcmVlbiA9IHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2Z1bGwnKTtcbiAgICBpZih0aGlzLm9wdGlvbnMuZnVsbFNjcmVlbiB8fCB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdmdWxsJykpe1xuICAgICAgdGhpcy5vcHRpb25zLmZ1bGxTY3JlZW4gPSB0cnVlO1xuICAgICAgdGhpcy5vcHRpb25zLm92ZXJsYXkgPSBmYWxzZTtcbiAgICB9XG4gICAgaWYodGhpcy5vcHRpb25zLm92ZXJsYXkpe1xuICAgICAgdGhpcy4kb3ZlcmxheSA9IHRoaXMuX21ha2VPdmVybGF5KHRoaXMuaWQpO1xuICAgIH1cblxuICAgIHRoaXMuJGVsZW1lbnQuYXR0cih7XG4gICAgICAgICdyb2xlJzogJ2RpYWxvZycsXG4gICAgICAgICdhcmlhLWhpZGRlbic6IHRydWUsXG4gICAgICAgICdkYXRhLXlldGktYm94JzogdGhpcy5pZCxcbiAgICAgICAgJ2RhdGEtcmVzaXplJzogdGhpcy5pZFxuICAgIH0pO1xuXG4gICAgdGhpcy5fZXZlbnRzKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gb3ZlcmxheSBkaXYgdG8gZGlzcGxheSBiZWhpbmQgdGhlIG1vZGFsLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgUmV2ZWFsLnByb3RvdHlwZS5fbWFrZU92ZXJsYXkgPSBmdW5jdGlvbihpZCl7XG4gICAgdmFyICRvdmVybGF5ID0gJCgnPGRpdj48L2Rpdj4nKVxuICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ3JldmVhbC1vdmVybGF5JylcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoeyd0YWJpbmRleCc6IC0xLCAnYXJpYS1oaWRkZW4nOiB0cnVlfSlcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZFRvKCdib2R5Jyk7XG4gICAgaWYodGhpcy5vcHRpb25zLmNsb3NlT25DbGljayl7XG4gICAgICAkb3ZlcmxheS5hdHRyKHtcbiAgICAgICAgJ2RhdGEtY2xvc2UnOiBpZFxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiAkb3ZlcmxheTtcbiAgfTtcblxuICAvKipcbiAgICogQWRkcyBldmVudCBoYW5kbGVycyBmb3IgdGhlIG1vZGFsLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgUmV2ZWFsLnByb3RvdHlwZS5fZXZlbnRzID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdGhpcy4kZWxlbWVudC5vbih7XG4gICAgICAnb3Blbi56Zi50cmlnZ2VyJzogdGhpcy5vcGVuLmJpbmQodGhpcyksXG4gICAgICAnY2xvc2UuemYudHJpZ2dlcic6IHRoaXMuY2xvc2UuYmluZCh0aGlzKSxcbiAgICAgICd0b2dnbGUuemYudHJpZ2dlcic6IHRoaXMudG9nZ2xlLmJpbmQodGhpcyksXG4gICAgICAncmVzaXplbWUuemYudHJpZ2dlcic6IGZ1bmN0aW9uKCl7XG4gICAgICAgIGlmKF90aGlzLiRlbGVtZW50LmlzKCc6dmlzaWJsZScpKXtcbiAgICAgICAgICBfdGhpcy5fc2V0UG9zaXRpb24oZnVuY3Rpb24oKXt9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYodGhpcy4kYW5jaG9yLmxlbmd0aCl7XG4gICAgICB0aGlzLiRhbmNob3Iub24oJ2tleWRvd24uemYucmV2ZWFsJywgZnVuY3Rpb24oZSl7XG4gICAgICAgIGlmKGUud2hpY2ggPT09IDEzIHx8IGUud2hpY2ggPT09IDMyKXtcbiAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBfdGhpcy5vcGVuKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuXG4gICAgaWYodGhpcy5vcHRpb25zLmNsb3NlT25DbGljayAmJiB0aGlzLm9wdGlvbnMub3ZlcmxheSl7XG4gICAgICB0aGlzLiRvdmVybGF5Lm9mZignLnpmLnJldmVhbCcpLm9uKCdjbGljay56Zi5yZXZlYWwnLCB0aGlzLmNsb3NlLmJpbmQodGhpcykpO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIFNldHMgdGhlIHBvc2l0aW9uIG9mIHRoZSBtb2RhbCBiZWZvcmUgb3BlbmluZ1xuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYiAtIGEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gZXhlY3V0ZSB3aGVuIHBvc2l0aW9uaW5nIGlzIGNvbXBsZXRlLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgUmV2ZWFsLnByb3RvdHlwZS5fc2V0UG9zaXRpb24gPSBmdW5jdGlvbihjYil7XG4gICAgdmFyIGVsZURpbXMgPSBGb3VuZGF0aW9uLkJveC5HZXREaW1lbnNpb25zKHRoaXMuJGVsZW1lbnQpO1xuICAgIHZhciBlbGVQb3MgPSB0aGlzLm9wdGlvbnMuZnVsbFNjcmVlbiA/ICdyZXZlYWwgZnVsbCcgOiAoZWxlRGltcy5oZWlnaHQgPj0gKDAuNSAqIGVsZURpbXMud2luZG93RGltcy5oZWlnaHQpKSA/ICdyZXZlYWwnIDogJ2NlbnRlcic7XG5cbiAgICBpZihlbGVQb3MgPT09ICdyZXZlYWwgZnVsbCcpe1xuICAgICAgLy9zZXQgdG8gZnVsbCBoZWlnaHQvd2lkdGhcbiAgICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgICAgICAub2Zmc2V0KEZvdW5kYXRpb24uQm94LkdldE9mZnNldHModGhpcy4kZWxlbWVudCwgbnVsbCwgZWxlUG9zLCB0aGlzLm9wdGlvbnMudk9mZnNldCkpXG4gICAgICAgICAgLmNzcyh7XG4gICAgICAgICAgICAnaGVpZ2h0JzogZWxlRGltcy53aW5kb3dEaW1zLmhlaWdodCxcbiAgICAgICAgICAgICd3aWR0aCc6IGVsZURpbXMud2luZG93RGltcy53aWR0aFxuICAgICAgICAgIH0pO1xuICAgIH1lbHNlIGlmKCFGb3VuZGF0aW9uLk1lZGlhUXVlcnkuYXRMZWFzdCgnbWVkaXVtJykgfHwgIUZvdW5kYXRpb24uQm94LkltTm90VG91Y2hpbmdZb3UodGhpcy4kZWxlbWVudCwgbnVsbCwgdHJ1ZSwgZmFsc2UpKXtcbiAgICAgIC8vaWYgc21hbGxlciB0aGFuIG1lZGl1bSwgcmVzaXplIHRvIDEwMCUgd2lkdGggbWludXMgYW55IGN1c3RvbSBML1IgbWFyZ2luXG4gICAgICB0aGlzLiRlbGVtZW50XG4gICAgICAgICAgLmNzcyh7XG4gICAgICAgICAgICAnd2lkdGgnOiBlbGVEaW1zLndpbmRvd0RpbXMud2lkdGggLSAodGhpcy5vcHRpb25zLmhPZmZzZXQgKiAyKVxuICAgICAgICAgIH0pXG4gICAgICAgICAgLm9mZnNldChGb3VuZGF0aW9uLkJveC5HZXRPZmZzZXRzKHRoaXMuJGVsZW1lbnQsIG51bGwsICdjZW50ZXInLCB0aGlzLm9wdGlvbnMudk9mZnNldCwgdGhpcy5vcHRpb25zLmhPZmZzZXQpKTtcbiAgICAgIC8vZmxhZyBhIGJvb2xlYW4gc28gd2UgY2FuIHJlc2V0IHRoZSBzaXplIGFmdGVyIHRoZSBlbGVtZW50IGlzIGNsb3NlZC5cbiAgICAgIHRoaXMuY2hhbmdlZFNpemUgPSB0cnVlO1xuICAgIH1lbHNle1xuICAgICAgdGhpcy4kZWxlbWVudFxuICAgICAgICAgIC5jc3Moe1xuICAgICAgICAgICAgJ21heC1oZWlnaHQnOiBlbGVEaW1zLndpbmRvd0RpbXMuaGVpZ2h0IC0gKHRoaXMub3B0aW9ucy52T2Zmc2V0ICogKHRoaXMub3B0aW9ucy5idG1PZmZzZXRQY3QgLyAxMDAgKyAxKSksXG4gICAgICAgICAgICAnd2lkdGgnOiAnJ1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLm9mZnNldChGb3VuZGF0aW9uLkJveC5HZXRPZmZzZXRzKHRoaXMuJGVsZW1lbnQsIG51bGwsIGVsZVBvcywgdGhpcy5vcHRpb25zLnZPZmZzZXQpKTtcbiAgICAgICAgICAvL3RoZSBtYXggaGVpZ2h0IGJhc2VkIG9uIGEgcGVyY2VudGFnZSBvZiB2ZXJ0aWNhbCBvZmZzZXQgcGx1cyB2ZXJ0aWNhbCBvZmZzZXRcbiAgICB9XG5cbiAgICBjYigpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBPcGVucyB0aGUgbW9kYWwgY29udHJvbGxlZCBieSBgdGhpcy4kYW5jaG9yYCwgYW5kIGNsb3NlcyBhbGwgb3RoZXJzIGJ5IGRlZmF1bHQuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAZmlyZXMgUmV2ZWFsI2Nsb3NlQWxsXG4gICAqIEBmaXJlcyBSZXZlYWwjb3BlblxuICAgKi9cbiAgUmV2ZWFsLnByb3RvdHlwZS5vcGVuID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHRoaXMuaXNBY3RpdmUgPSB0cnVlO1xuICAgIC8vbWFrZSBlbGVtZW50IGludmlzaWJsZSwgYnV0IHJlbW92ZSBkaXNwbGF5OiBub25lIHNvIHdlIGNhbiBnZXQgc2l6ZSBhbmQgcG9zaXRpb25pbmdcbiAgICB0aGlzLiRlbGVtZW50XG4gICAgICAgIC5jc3Moeyd2aXNpYmlsaXR5JzogJ2hpZGRlbid9KVxuICAgICAgICAuc2hvdygpXG4gICAgICAgIC5zY3JvbGxUb3AoMCk7XG5cbiAgICB0aGlzLl9zZXRQb3NpdGlvbihmdW5jdGlvbigpe1xuICAgICAgX3RoaXMuJGVsZW1lbnQuaGlkZSgpXG4gICAgICAgICAgICAgICAgICAgLmNzcyh7J3Zpc2liaWxpdHknOiAnJ30pO1xuICAgICAgaWYoIV90aGlzLm9wdGlvbnMubXVsdGlwbGVPcGVuZWQpe1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZXMgaW1tZWRpYXRlbHkgYmVmb3JlIHRoZSBtb2RhbCBvcGVucy5cbiAgICAgICAgICogQ2xvc2VzIGFueSBvdGhlciBtb2RhbHMgdGhhdCBhcmUgY3VycmVudGx5IG9wZW5cbiAgICAgICAgICogQGV2ZW50IFJldmVhbCNjbG9zZUFsbFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuJGVsZW1lbnQudHJpZ2dlcignY2xvc2VtZS56Zi5yZXZlYWwnLCBfdGhpcy5pZCk7XG4gICAgICB9XG4gICAgICBpZihfdGhpcy5vcHRpb25zLmFuaW1hdGlvbkluKXtcbiAgICAgICAgaWYoX3RoaXMub3B0aW9ucy5vdmVybGF5KXtcbiAgICAgICAgICBGb3VuZGF0aW9uLk1vdGlvbi5hbmltYXRlSW4oX3RoaXMuJG92ZXJsYXksICdmYWRlLWluJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIEZvdW5kYXRpb24uTW90aW9uLmFuaW1hdGVJbihfdGhpcy4kZWxlbWVudCwgX3RoaXMub3B0aW9ucy5hbmltYXRpb25JbiwgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgX3RoaXMuZm9jdXNhYmxlRWxlbWVudHMgPSBGb3VuZGF0aW9uLktleWJvYXJkLmZpbmRGb2N1c2FibGUoX3RoaXMuJGVsZW1lbnQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIEZvdW5kYXRpb24uTW90aW9uLmFuaW1hdGVJbihfdGhpcy4kZWxlbWVudCwgX3RoaXMub3B0aW9ucy5hbmltYXRpb25JbiwgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIF90aGlzLmZvY3VzYWJsZUVsZW1lbnRzID0gRm91bmRhdGlvbi5LZXlib2FyZC5maW5kRm9jdXNhYmxlKF90aGlzLiRlbGVtZW50KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfWVsc2V7XG4gICAgICAgIGlmKF90aGlzLm9wdGlvbnMub3ZlcmxheSl7XG4gICAgICAgICAgX3RoaXMuJG92ZXJsYXkuc2hvdygwLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgX3RoaXMuJGVsZW1lbnQuc2hvdyhfdGhpcy5vcHRpb25zLnNob3dEZWxheSwgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICBfdGhpcy4kZWxlbWVudC5zaG93KF90aGlzLm9wdGlvbnMuc2hvd0RlbGF5LCBmdW5jdGlvbigpe1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cblxuICAgIC8vIGhhbmRsZSBhY2Nlc3NpYmlsaXR5XG4gICAgdGhpcy4kZWxlbWVudC5hdHRyKHsnYXJpYS1oaWRkZW4nOiBmYWxzZX0pLmF0dHIoJ3RhYmluZGV4JywgLTEpLmZvY3VzKClcbiAgICAvKipcbiAgICAgKiBGaXJlcyB3aGVuIHRoZSBtb2RhbCBoYXMgc3VjY2Vzc2Z1bGx5IG9wZW5lZC5cbiAgICAgKiBAZXZlbnQgUmV2ZWFsI29wZW5cbiAgICAgKi9cbiAgICAgICAgICAgICAgICAgLnRyaWdnZXIoJ29wZW4uemYucmV2ZWFsJyk7XG5cbiAgICAkKCdib2R5JykuYWRkQ2xhc3MoJ2lzLXJldmVhbC1vcGVuJylcbiAgICAgICAgICAgICAuYXR0cih7J2FyaWEtaGlkZGVuJzogKHRoaXMub3B0aW9ucy5vdmVybGF5IHx8IHRoaXMub3B0aW9ucy5mdWxsU2NyZWVuKSA/IHRydWUgOiBmYWxzZX0pO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgIF90aGlzLl9leHRyYUhhbmRsZXJzKCk7XG4gICAgICAvLyBGb3VuZGF0aW9uLnJlZmxvdygpO1xuICAgIH0sIDApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBZGRzIGV4dHJhIGV2ZW50IGhhbmRsZXJzIGZvciB0aGUgYm9keSBhbmQgd2luZG93IGlmIG5lY2Vzc2FyeS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIFJldmVhbC5wcm90b3R5cGUuX2V4dHJhSGFuZGxlcnMgPSBmdW5jdGlvbigpe1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdGhpcy5mb2N1c2FibGVFbGVtZW50cyA9IEZvdW5kYXRpb24uS2V5Ym9hcmQuZmluZEZvY3VzYWJsZSh0aGlzLiRlbGVtZW50KTtcblxuICAgIGlmKCF0aGlzLm9wdGlvbnMub3ZlcmxheSAmJiB0aGlzLm9wdGlvbnMuY2xvc2VPbkNsaWNrICYmICF0aGlzLm9wdGlvbnMuZnVsbFNjcmVlbil7XG4gICAgICAkKCdib2R5Jykub24oJ2NsaWNrLnpmLnJldmVhbCcsIGZ1bmN0aW9uKGUpe1xuICAgICAgICAvLyBpZigpXG4gICAgICAgICAgX3RoaXMuY2xvc2UoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZih0aGlzLm9wdGlvbnMuY2xvc2VPbkVzYyl7XG4gICAgICAkKHdpbmRvdykub24oJ2tleWRvd24uemYucmV2ZWFsJywgZnVuY3Rpb24oZSl7XG4gICAgICAgIEZvdW5kYXRpb24uS2V5Ym9hcmQuaGFuZGxlS2V5KGUsIF90aGlzLCB7XG4gICAgICAgICAgY2xvc2U6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5jbG9zZU9uRXNjKSB7XG4gICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgICAgICAgdGhpcy4kYW5jaG9yLmZvY3VzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKF90aGlzLmZvY3VzYWJsZUVsZW1lbnRzLmxlbmd0aCA9PT0gMCkgeyAvLyBubyBmb2N1c2FibGUgZWxlbWVudHMgaW5zaWRlIHRoZSBtb2RhbCBhdCBhbGwsIHByZXZlbnQgdGFiYmluZyBpbiBnZW5lcmFsXG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBsb2NrIGZvY3VzIHdpdGhpbiBtb2RhbCB3aGlsZSB0YWJiaW5nXG4gICAgdGhpcy4kZWxlbWVudC5vbigna2V5ZG93bi56Zi5yZXZlYWwnLCBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgJHRhcmdldCA9ICQodGhpcyk7XG4gICAgICAvLyBoYW5kbGUga2V5Ym9hcmQgZXZlbnQgd2l0aCBrZXlib2FyZCB1dGlsXG4gICAgICBGb3VuZGF0aW9uLktleWJvYXJkLmhhbmRsZUtleShlLCBfdGhpcywge1xuICAgICAgICB0YWJfZm9yd2FyZDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKHRoaXMuJGVsZW1lbnQuZmluZCgnOmZvY3VzJykuaXMoX3RoaXMuZm9jdXNhYmxlRWxlbWVudHMuZXEoLTEpKSkgeyAvLyBsZWZ0IG1vZGFsIGRvd253YXJkcywgc2V0dGluZyBmb2N1cyB0byBmaXJzdCBlbGVtZW50XG4gICAgICAgICAgICBfdGhpcy5mb2N1c2FibGVFbGVtZW50cy5lcSgwKS5mb2N1cygpO1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdGFiX2JhY2t3YXJkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAodGhpcy4kZWxlbWVudC5maW5kKCc6Zm9jdXMnKS5pcyhfdGhpcy5mb2N1c2FibGVFbGVtZW50cy5lcSgwKSkgfHwgdGhpcy4kZWxlbWVudC5pcygnOmZvY3VzJykpIHsgLy8gbGVmdCBtb2RhbCB1cHdhcmRzLCBzZXR0aW5nIGZvY3VzIHRvIGxhc3QgZWxlbWVudFxuICAgICAgICAgICAgX3RoaXMuZm9jdXNhYmxlRWxlbWVudHMuZXEoLTEpLmZvY3VzKCk7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvcGVuOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAoX3RoaXMuJGVsZW1lbnQuZmluZCgnOmZvY3VzJykuaXMoX3RoaXMuJGVsZW1lbnQuZmluZCgnW2RhdGEtY2xvc2VdJykpKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyAvLyBzZXQgZm9jdXMgYmFjayB0byBhbmNob3IgaWYgY2xvc2UgYnV0dG9uIGhhcyBiZWVuIGFjdGl2YXRlZFxuICAgICAgICAgICAgICBfdGhpcy4kYW5jaG9yLmZvY3VzKCk7XG4gICAgICAgICAgICB9LCAxKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKCR0YXJnZXQuaXMoX3RoaXMuZm9jdXNhYmxlRWxlbWVudHMpKSB7IC8vIGRvbnQndCB0cmlnZ2VyIGlmIGFjdWFsIGVsZW1lbnQgaGFzIGZvY3VzIChpLmUuIGlucHV0cywgbGlua3MsIC4uLilcbiAgICAgICAgICAgIHRoaXMub3BlbigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgY2xvc2U6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuY2xvc2VPbkVzYykge1xuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICAgICAgdGhpcy4kYW5jaG9yLmZvY3VzKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcblxuICB9O1xuXG4gIC8qKlxuICAgKiBDbG9zZXMgdGhlIG1vZGFsLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQGZpcmVzIFJldmVhbCNjbG9zZWRcbiAgICovXG4gIFJldmVhbC5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbigpe1xuICAgIGlmKCF0aGlzLmlzQWN0aXZlIHx8ICF0aGlzLiRlbGVtZW50LmlzKCc6dmlzaWJsZScpKXtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIGlmKHRoaXMub3B0aW9ucy5hbmltYXRpb25PdXQpe1xuICAgICAgRm91bmRhdGlvbi5Nb3Rpb24uYW5pbWF0ZU91dCh0aGlzLiRlbGVtZW50LCB0aGlzLm9wdGlvbnMuYW5pbWF0aW9uT3V0LCBmdW5jdGlvbigpe1xuICAgICAgICBpZihfdGhpcy5vcHRpb25zLm92ZXJsYXkpe1xuICAgICAgICAgIEZvdW5kYXRpb24uTW90aW9uLmFuaW1hdGVPdXQoX3RoaXMuJG92ZXJsYXksICdmYWRlLW91dCcsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1lbHNle1xuICAgICAgdGhpcy4kZWxlbWVudC5oaWRlKF90aGlzLm9wdGlvbnMuaGlkZURlbGF5LCBmdW5jdGlvbigpe1xuICAgICAgICBpZihfdGhpcy5vcHRpb25zLm92ZXJsYXkpe1xuICAgICAgICAgIF90aGlzLiRvdmVybGF5LmhpZGUoMCwgZnVuY3Rpb24oKXtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIC8vY29uZGl0aW9uYWxzIHRvIHJlbW92ZSBleHRyYSBldmVudCBsaXN0ZW5lcnMgYWRkZWQgb24gb3BlblxuICAgIGlmKHRoaXMub3B0aW9ucy5jbG9zZU9uRXNjKXtcbiAgICAgICQod2luZG93KS5vZmYoJ2tleWRvd24uemYucmV2ZWFsJyk7XG4gICAgfVxuICAgIGlmKCF0aGlzLm9wdGlvbnMub3ZlcmxheSAmJiB0aGlzLm9wdGlvbnMuY2xvc2VPbkNsaWNrKXtcbiAgICAgICQoJ2JvZHknKS5vZmYoJ2NsaWNrLnpmLnJldmVhbCcpO1xuICAgIH1cbiAgICB0aGlzLiRlbGVtZW50Lm9mZigna2V5ZG93bi56Zi5yZXZlYWwnKTtcblxuICAgIC8vaWYgdGhlIG1vZGFsIGNoYW5nZWQgc2l6ZSwgcmVzZXQgaXRcbiAgICBpZih0aGlzLmNoYW5nZWRTaXplKXtcbiAgICAgIHRoaXMuJGVsZW1lbnQuY3NzKHtcbiAgICAgICAgJ2hlaWdodCc6ICcnLFxuICAgICAgICAnd2lkdGgnOiAnJ1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgJCgnYm9keScpLnJlbW92ZUNsYXNzKCdpcy1yZXZlYWwtb3BlbicpLmF0dHIoeydhcmlhLWhpZGRlbic6IGZhbHNlLCAndGFiaW5kZXgnOiAnJ30pO1xuXG4gICAgLyoqXG4gICAgKiBSZXNldHMgdGhlIG1vZGFsIGNvbnRlbnRcbiAgICAqIFRoaXMgcHJldmVudHMgYSBydW5uaW5nIHZpZGVvIHRvIGtlZXAgZ29pbmcgaW4gdGhlIGJhY2tncm91bmRcbiAgICAqL1xuICAgIGlmKHRoaXMub3B0aW9ucy5yZXNldE9uQ2xvc2UpIHtcbiAgICAgIHRoaXMuJGVsZW1lbnQuaHRtbCh0aGlzLiRlbGVtZW50Lmh0bWwoKSk7XG4gICAgfVxuXG4gICAgdGhpcy5pc0FjdGl2ZSA9IGZhbHNlO1xuICAgIHRoaXMuJGVsZW1lbnQuYXR0cih7J2FyaWEtaGlkZGVuJzogdHJ1ZX0pXG4gICAgLyoqXG4gICAgICogRmlyZXMgd2hlbiB0aGUgbW9kYWwgaXMgZG9uZSBjbG9zaW5nLlxuICAgICAqIEBldmVudCBSZXZlYWwjY2xvc2VkXG4gICAgICovXG4gICAgICAgICAgICAgICAgIC50cmlnZ2VyKCdjbG9zZWQuemYucmV2ZWFsJyk7XG4gIH07XG4gIC8qKlxuICAgKiBUb2dnbGVzIHRoZSBvcGVuL2Nsb3NlZCBzdGF0ZSBvZiBhIG1vZGFsLlxuICAgKiBAZnVuY3Rpb25cbiAgICovXG4gIFJldmVhbC5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24oKXtcbiAgICBpZih0aGlzLmlzQWN0aXZlKXtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9ZWxzZXtcbiAgICAgIHRoaXMub3BlbigpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogRGVzdHJveXMgYW4gaW5zdGFuY2Ugb2YgYSBtb2RhbC5cbiAgICogQGZ1bmN0aW9uXG4gICAqL1xuICBSZXZlYWwucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcbiAgICBpZih0aGlzLm9wdGlvbnMub3ZlcmxheSl7XG4gICAgICB0aGlzLiRvdmVybGF5LmhpZGUoKS5vZmYoKS5yZW1vdmUoKTtcbiAgICB9XG4gICAgdGhpcy4kZWxlbWVudC5oaWRlKCk7XG4gICAgdGhpcy4kYW5jaG9yLm9mZigpO1xuXG4gICAgRm91bmRhdGlvbi51bnJlZ2lzdGVyUGx1Z2luKHRoaXMpO1xuICB9O1xuXG4gIEZvdW5kYXRpb24ucGx1Z2luKFJldmVhbCwgJ1JldmVhbCcpO1xuXG4gIC8vIEV4cG9ydHMgZm9yIEFNRC9Ccm93c2VyaWZ5XG4gIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgbW9kdWxlLmV4cG9ydHMgIT09ICd1bmRlZmluZWQnKVxuICAgIG1vZHVsZS5leHBvcnRzID0gUmV2ZWFsO1xuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJylcbiAgICBkZWZpbmUoWydmb3VuZGF0aW9uJ10sIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIFJldmVhbDtcbiAgICB9KTtcblxufShGb3VuZGF0aW9uLCBqUXVlcnkpO1xuXG4vKipcbiAqIFNsaWRlciBtb2R1bGUuXG4gKiBAbW9kdWxlIGZvdW5kYXRpb24uc2xpZGVyXG4gKiBAcmVxdWlyZXMgZm91bmRhdGlvbi51dGlsLm1vdGlvblxuICogQHJlcXVpcmVzIGZvdW5kYXRpb24udXRpbC50cmlnZ2Vyc1xuICogQHJlcXVpcmVzIGZvdW5kYXRpb24udXRpbC5rZXlib2FyZFxuICogQHJlcXVpcmVzIGZvdW5kYXRpb24udXRpbC50b3VjaFxuICovXG4hZnVuY3Rpb24oJCwgRm91bmRhdGlvbil7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBpbnN0YW5jZSBvZiBhIGRyaWxsZG93biBtZW51LlxuICAgKiBAY2xhc3NcbiAgICogQHBhcmFtIHtqUXVlcnl9IGVsZW1lbnQgLSBqUXVlcnkgb2JqZWN0IHRvIG1ha2UgaW50byBhbiBhY2NvcmRpb24gbWVudS5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBPdmVycmlkZXMgdG8gdGhlIGRlZmF1bHQgcGx1Z2luIHNldHRpbmdzLlxuICAgKi9cbiAgZnVuY3Rpb24gU2xpZGVyKGVsZW1lbnQsIG9wdGlvbnMpe1xuICAgIHRoaXMuJGVsZW1lbnQgPSBlbGVtZW50O1xuICAgIHRoaXMub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBTbGlkZXIuZGVmYXVsdHMsIHRoaXMuJGVsZW1lbnQuZGF0YSgpLCBvcHRpb25zKTtcblxuICAgIHRoaXMuX2luaXQoKTtcblxuICAgIEZvdW5kYXRpb24ucmVnaXN0ZXJQbHVnaW4odGhpcyk7XG4gICAgRm91bmRhdGlvbi5LZXlib2FyZC5yZWdpc3RlcignU2xpZGVyJywge1xuICAgICAgJ2x0cic6IHtcbiAgICAgICAgJ0FSUk9XX1JJR0hUJzogJ2luY3JlYXNlJyxcbiAgICAgICAgJ0FSUk9XX1VQJzogJ2luY3JlYXNlJyxcbiAgICAgICAgJ0FSUk9XX0RPV04nOiAnZGVjcmVhc2UnLFxuICAgICAgICAnQVJST1dfTEVGVCc6ICdkZWNyZWFzZScsXG4gICAgICAgICdTSElGVF9BUlJPV19SSUdIVCc6ICdpbmNyZWFzZV9mYXN0JyxcbiAgICAgICAgJ1NISUZUX0FSUk9XX1VQJzogJ2luY3JlYXNlX2Zhc3QnLFxuICAgICAgICAnU0hJRlRfQVJST1dfRE9XTic6ICdkZWNyZWFzZV9mYXN0JyxcbiAgICAgICAgJ1NISUZUX0FSUk9XX0xFRlQnOiAnZGVjcmVhc2VfZmFzdCdcbiAgICAgIH0sXG4gICAgICAncnRsJzoge1xuICAgICAgICAnQVJST1dfTEVGVCc6ICdpbmNyZWFzZScsXG4gICAgICAgICdBUlJPV19SSUdIVCc6ICdkZWNyZWFzZScsXG4gICAgICAgICdTSElGVF9BUlJPV19MRUZUJzogJ2luY3JlYXNlX2Zhc3QnLFxuICAgICAgICAnU0hJRlRfQVJST1dfUklHSFQnOiAnZGVjcmVhc2VfZmFzdCdcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIFNsaWRlci5kZWZhdWx0cyA9IHtcbiAgICAvKipcbiAgICAgKiBNaW5pbXVtIHZhbHVlIGZvciB0aGUgc2xpZGVyIHNjYWxlLlxuICAgICAqIEBvcHRpb25cbiAgICAgKiBAZXhhbXBsZSAwXG4gICAgICovXG4gICAgc3RhcnQ6IDAsXG4gICAgLyoqXG4gICAgICogTWF4aW11bSB2YWx1ZSBmb3IgdGhlIHNsaWRlciBzY2FsZS5cbiAgICAgKiBAb3B0aW9uXG4gICAgICogQGV4YW1wbGUgMTAwXG4gICAgICovXG4gICAgZW5kOiAxMDAsXG4gICAgLyoqXG4gICAgICogTWluaW11bSB2YWx1ZSBjaGFuZ2UgcGVyIGNoYW5nZSBldmVudC4gTm90IEN1cnJlbnRseSBJbXBsZW1lbnRlZCFcblxuICAgICAqL1xuICAgIHN0ZXA6IDEsXG4gICAgLyoqXG4gICAgICogVmFsdWUgYXQgd2hpY2ggdGhlIGhhbmRsZS9pbnB1dCAqKGxlZnQgaGFuZGxlL2ZpcnN0IGlucHV0KSogc2hvdWxkIGJlIHNldCB0byBvbiBpbml0aWFsaXphdGlvbi5cbiAgICAgKiBAb3B0aW9uXG4gICAgICogQGV4YW1wbGUgMFxuICAgICAqL1xuICAgIGluaXRpYWxTdGFydDogMCxcbiAgICAvKipcbiAgICAgKiBWYWx1ZSBhdCB3aGljaCB0aGUgcmlnaHQgaGFuZGxlL3NlY29uZCBpbnB1dCBzaG91bGQgYmUgc2V0IHRvIG9uIGluaXRpYWxpemF0aW9uLlxuICAgICAqIEBvcHRpb25cbiAgICAgKiBAZXhhbXBsZSAxMDBcbiAgICAgKi9cbiAgICBpbml0aWFsRW5kOiAxMDAsXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRoZSBpbnB1dCB0byBiZSBsb2NhdGVkIG91dHNpZGUgdGhlIGNvbnRhaW5lciBhbmQgdmlzaWJsZS4gU2V0IHRvIGJ5IHRoZSBKU1xuICAgICAqIEBvcHRpb25cbiAgICAgKiBAZXhhbXBsZSBmYWxzZVxuICAgICAqL1xuICAgIGJpbmRpbmc6IGZhbHNlLFxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0aGUgdXNlciB0byBjbGljay90YXAgb24gdGhlIHNsaWRlciBiYXIgdG8gc2VsZWN0IGEgdmFsdWUuXG4gICAgICogQG9wdGlvblxuICAgICAqIEBleGFtcGxlIHRydWVcbiAgICAgKi9cbiAgICBjbGlja1NlbGVjdDogdHJ1ZSxcbiAgICAvKipcbiAgICAgKiBTZXQgdG8gdHJ1ZSBhbmQgdXNlIHRoZSBgdmVydGljYWxgIGNsYXNzIHRvIGNoYW5nZSBhbGlnbm1lbnQgdG8gdmVydGljYWwuXG4gICAgICogQG9wdGlvblxuICAgICAqIEBleGFtcGxlIGZhbHNlXG4gICAgICovXG4gICAgdmVydGljYWw6IGZhbHNlLFxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0aGUgdXNlciB0byBkcmFnIHRoZSBzbGlkZXIgaGFuZGxlKHMpIHRvIHNlbGVjdCBhIHZhbHVlLlxuICAgICAqIEBvcHRpb25cbiAgICAgKiBAZXhhbXBsZSB0cnVlXG4gICAgICovXG4gICAgZHJhZ2dhYmxlOiB0cnVlLFxuICAgIC8qKlxuICAgICAqIERpc2FibGVzIHRoZSBzbGlkZXIgYW5kIHByZXZlbnRzIGV2ZW50IGxpc3RlbmVycyBmcm9tIGJlaW5nIGFwcGxpZWQuIERvdWJsZSBjaGVja2VkIGJ5IEpTIHdpdGggYGRpc2FibGVkQ2xhc3NgLlxuICAgICAqIEBvcHRpb25cbiAgICAgKiBAZXhhbXBsZSBmYWxzZVxuICAgICAqL1xuICAgIGRpc2FibGVkOiBmYWxzZSxcbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdGhlIHVzZSBvZiB0d28gaGFuZGxlcy4gRG91YmxlIGNoZWNrZWQgYnkgdGhlIEpTLiBDaGFuZ2VzIHNvbWUgbG9naWMgaGFuZGxpbmcuXG4gICAgICogQG9wdGlvblxuICAgICAqIEBleGFtcGxlIGZhbHNlXG4gICAgICovXG4gICAgZG91YmxlU2lkZWQ6IGZhbHNlLFxuICAgIC8qKlxuICAgICAqIFBvdGVudGlhbCBmdXR1cmUgZmVhdHVyZS5cbiAgICAgKi9cbiAgICAvLyBzdGVwczogMTAwLFxuICAgIC8qKlxuICAgICAqIE51bWJlciBvZiBkZWNpbWFsIHBsYWNlcyB0aGUgcGx1Z2luIHNob3VsZCBnbyB0byBmb3IgZmxvYXRpbmcgcG9pbnQgcHJlY2lzaW9uLlxuICAgICAqIEBvcHRpb25cbiAgICAgKiBAZXhhbXBsZSAyXG4gICAgICovXG4gICAgZGVjaW1hbDogMixcbiAgICAvKipcbiAgICAgKiBUaW1lIGRlbGF5IGZvciBkcmFnZ2VkIGVsZW1lbnRzLlxuICAgICAqL1xuICAgIC8vIGRyYWdEZWxheTogMCxcbiAgICAvKipcbiAgICAgKiBUaW1lLCBpbiBtcywgdG8gYW5pbWF0ZSB0aGUgbW92ZW1lbnQgb2YgYSBzbGlkZXIgaGFuZGxlIGlmIHVzZXIgY2xpY2tzL3RhcHMgb24gdGhlIGJhci4gTmVlZHMgdG8gYmUgbWFudWFsbHkgc2V0IGlmIHVwZGF0aW5nIHRoZSB0cmFuc2l0aW9uIHRpbWUgaW4gdGhlIFNhc3Mgc2V0dGluZ3MuXG4gICAgICogQG9wdGlvblxuICAgICAqIEBleGFtcGxlIDIwMFxuICAgICAqL1xuICAgIG1vdmVUaW1lOiAyMDAsLy91cGRhdGUgdGhpcyBpZiBjaGFuZ2luZyB0aGUgdHJhbnNpdGlvbiB0aW1lIGluIHRoZSBzYXNzXG4gICAgLyoqXG4gICAgICogQ2xhc3MgYXBwbGllZCB0byBkaXNhYmxlZCBzbGlkZXJzLlxuICAgICAqIEBvcHRpb25cbiAgICAgKiBAZXhhbXBsZSAnZGlzYWJsZWQnXG4gICAgICovXG4gICAgZGlzYWJsZWRDbGFzczogJ2Rpc2FibGVkJ1xuICB9O1xuICAvKipcbiAgICogSW5pdGlsaXplcyB0aGUgcGx1Z2luIGJ5IHJlYWRpbmcvc2V0dGluZyBhdHRyaWJ1dGVzLCBjcmVhdGluZyBjb2xsZWN0aW9ucyBhbmQgc2V0dGluZyB0aGUgaW5pdGlhbCBwb3NpdGlvbiBvZiB0aGUgaGFuZGxlKHMpLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQHByaXZhdGVcbiAgICovXG4gIFNsaWRlci5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbigpe1xuICAgIHRoaXMuaW5wdXRzID0gdGhpcy4kZWxlbWVudC5maW5kKCdpbnB1dCcpO1xuICAgIHRoaXMuaGFuZGxlcyA9IHRoaXMuJGVsZW1lbnQuZmluZCgnW2RhdGEtc2xpZGVyLWhhbmRsZV0nKTtcblxuICAgIHRoaXMuJGhhbmRsZSA9IHRoaXMuaGFuZGxlcy5lcSgwKTtcbiAgICB0aGlzLiRpbnB1dCA9IHRoaXMuaW5wdXRzLmxlbmd0aCA/IHRoaXMuaW5wdXRzLmVxKDApIDogJCgnIycgKyB0aGlzLiRoYW5kbGUuYXR0cignYXJpYS1jb250cm9scycpKTtcbiAgICB0aGlzLiRmaWxsID0gdGhpcy4kZWxlbWVudC5maW5kKCdbZGF0YS1zbGlkZXItZmlsbF0nKS5jc3ModGhpcy5vcHRpb25zLnZlcnRpY2FsID8gJ2hlaWdodCcgOiAnd2lkdGgnLCAwKTtcblxuICAgIHZhciBpc0RibCA9IGZhbHNlLFxuICAgICAgICBfdGhpcyA9IHRoaXM7XG4gICAgaWYodGhpcy5vcHRpb25zLmRpc2FibGVkIHx8IHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3ModGhpcy5vcHRpb25zLmRpc2FibGVkQ2xhc3MpKXtcbiAgICAgIHRoaXMub3B0aW9ucy5kaXNhYmxlZCA9IHRydWU7XG4gICAgICB0aGlzLiRlbGVtZW50LmFkZENsYXNzKHRoaXMub3B0aW9ucy5kaXNhYmxlZENsYXNzKTtcbiAgICB9XG4gICAgaWYoIXRoaXMuaW5wdXRzLmxlbmd0aCl7XG4gICAgICB0aGlzLmlucHV0cyA9ICQoKS5hZGQodGhpcy4kaW5wdXQpO1xuICAgICAgdGhpcy5vcHRpb25zLmJpbmRpbmcgPSB0cnVlO1xuICAgIH1cbiAgICB0aGlzLl9zZXRJbml0QXR0cigwKTtcbiAgICB0aGlzLl9ldmVudHModGhpcy4kaGFuZGxlKTtcblxuICAgIGlmKHRoaXMuaGFuZGxlc1sxXSl7XG4gICAgICB0aGlzLm9wdGlvbnMuZG91YmxlU2lkZWQgPSB0cnVlO1xuICAgICAgdGhpcy4kaGFuZGxlMiA9IHRoaXMuaGFuZGxlcy5lcSgxKTtcbiAgICAgIHRoaXMuJGlucHV0MiA9IHRoaXMuaW5wdXRzLmxlbmd0aCA/IHRoaXMuaW5wdXRzLmVxKDEpIDogJCgnIycgKyB0aGlzLiRoYW5kbGUyLmF0dHIoJ2FyaWEtY29udHJvbHMnKSk7XG5cbiAgICAgIGlmKCF0aGlzLmlucHV0c1sxXSl7XG4gICAgICAgIHRoaXMuaW5wdXRzID0gdGhpcy5pbnB1dHMuYWRkKHRoaXMuJGlucHV0Mik7XG4gICAgICB9XG4gICAgICBpc0RibCA9IHRydWU7XG5cbiAgICAgIHRoaXMuX3NldEhhbmRsZVBvcyh0aGlzLiRoYW5kbGUsIHRoaXMub3B0aW9ucy5pbml0aWFsU3RhcnQsIHRydWUsIGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgX3RoaXMuX3NldEhhbmRsZVBvcyhfdGhpcy4kaGFuZGxlMiwgX3RoaXMub3B0aW9ucy5pbml0aWFsRW5kKTtcbiAgICAgIH0pO1xuICAgICAgLy8gdGhpcy4kaGFuZGxlLnRyaWdnZXJIYW5kbGVyKCdjbGljay56Zi5zbGlkZXInKTtcbiAgICAgIHRoaXMuX3NldEluaXRBdHRyKDEpO1xuICAgICAgdGhpcy5fZXZlbnRzKHRoaXMuJGhhbmRsZTIpO1xuICAgIH1cblxuICAgIGlmKCFpc0RibCl7XG4gICAgICB0aGlzLl9zZXRIYW5kbGVQb3ModGhpcy4kaGFuZGxlLCB0aGlzLm9wdGlvbnMuaW5pdGlhbFN0YXJ0LCB0cnVlKTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBTZXRzIHRoZSBwb3NpdGlvbiBvZiB0aGUgc2VsZWN0ZWQgaGFuZGxlIGFuZCBmaWxsIGJhci5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7alF1ZXJ5fSAkaG5kbCAtIHRoZSBzZWxlY3RlZCBoYW5kbGUgdG8gbW92ZS5cbiAgICogQHBhcmFtIHtOdW1iZXJ9IGxvY2F0aW9uIC0gZmxvYXRpbmcgcG9pbnQgYmV0d2VlbiB0aGUgc3RhcnQgYW5kIGVuZCB2YWx1ZXMgb2YgdGhlIHNsaWRlciBiYXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNiIC0gY2FsbGJhY2sgZnVuY3Rpb24gdG8gZmlyZSBvbiBjb21wbGV0aW9uLlxuICAgKiBAZmlyZXMgU2xpZGVyI21vdmVkXG4gICAqL1xuICBTbGlkZXIucHJvdG90eXBlLl9zZXRIYW5kbGVQb3MgPSBmdW5jdGlvbigkaG5kbCwgbG9jYXRpb24sIG5vSW52ZXJ0LCBjYil7XG4gIC8vbWlnaHQgbmVlZCB0byBhbHRlciB0aGF0IHNsaWdodGx5IGZvciBiYXJzIHRoYXQgd2lsbCBoYXZlIG9kZCBudW1iZXIgc2VsZWN0aW9ucy5cbiAgICBsb2NhdGlvbiA9IHBhcnNlRmxvYXQobG9jYXRpb24pOy8vb24gaW5wdXQgY2hhbmdlIGV2ZW50cywgY29udmVydCBzdHJpbmcgdG8gbnVtYmVyLi4uZ3J1bWJsZS5cbiAgICAvLyBwcmV2ZW50IHNsaWRlciBmcm9tIHJ1bm5pbmcgb3V0IG9mIGJvdW5kc1xuICAgIGlmKGxvY2F0aW9uIDwgdGhpcy5vcHRpb25zLnN0YXJ0KXsgbG9jYXRpb24gPSB0aGlzLm9wdGlvbnMuc3RhcnQ7IH1cbiAgICBlbHNlIGlmKGxvY2F0aW9uID4gdGhpcy5vcHRpb25zLmVuZCl7IGxvY2F0aW9uID0gdGhpcy5vcHRpb25zLmVuZDsgfVxuXG4gICAgdmFyIGlzRGJsID0gdGhpcy5vcHRpb25zLmRvdWJsZVNpZGVkLFxuICAgICAgICBjYWxsYmFjayA9IGNiIHx8IG51bGw7XG5cbiAgICBpZihpc0RibCl7XG4gICAgICBpZih0aGlzLmhhbmRsZXMuaW5kZXgoJGhuZGwpID09PSAwKXtcbiAgICAgICAgdmFyIGgyVmFsID0gcGFyc2VGbG9hdCh0aGlzLiRoYW5kbGUyLmF0dHIoJ2FyaWEtdmFsdWVub3cnKSk7XG4gICAgICAgIGxvY2F0aW9uID0gbG9jYXRpb24gPj0gaDJWYWwgPyBoMlZhbCAtIHRoaXMub3B0aW9ucy5zdGVwIDogbG9jYXRpb247XG4gICAgICB9ZWxzZXtcbiAgICAgICAgdmFyIGgxVmFsID0gcGFyc2VGbG9hdCh0aGlzLiRoYW5kbGUuYXR0cignYXJpYS12YWx1ZW5vdycpKTtcbiAgICAgICAgbG9jYXRpb24gPSBsb2NhdGlvbiA8PSBoMVZhbCA/IGgxVmFsICsgdGhpcy5vcHRpb25zLnN0ZXAgOiBsb2NhdGlvbjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZih0aGlzLm9wdGlvbnMudmVydGljYWwgJiYgIW5vSW52ZXJ0KXtcbiAgICAgIGxvY2F0aW9uID0gdGhpcy5vcHRpb25zLmVuZCAtIGxvY2F0aW9uO1xuICAgIH1cbiAgICB2YXIgX3RoaXMgPSB0aGlzLFxuICAgICAgICB2ZXJ0ID0gdGhpcy5vcHRpb25zLnZlcnRpY2FsLFxuICAgICAgICBoT3JXID0gdmVydCA/ICdoZWlnaHQnIDogJ3dpZHRoJyxcbiAgICAgICAgbE9yVCA9IHZlcnQgPyAndG9wJyA6ICdsZWZ0JyxcbiAgICAgICAgaGFsZk9mSGFuZGxlID0gJGhuZGxbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClbaE9yV10gLyAyLFxuICAgICAgICBlbGVtRGltID0gdGhpcy4kZWxlbWVudFswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVtoT3JXXSxcbiAgICAgICAgcGN0T2ZCYXIgPSBwZXJjZW50KGxvY2F0aW9uLCB0aGlzLm9wdGlvbnMuZW5kKS50b0ZpeGVkKHRoaXMub3B0aW9ucy5kZWNpbWFsKSxcbiAgICAgICAgcHhUb01vdmUgPSAoZWxlbURpbSAtIGhhbGZPZkhhbmRsZSkgKiBwY3RPZkJhcixcbiAgICAgICAgbW92ZW1lbnQgPSAocGVyY2VudChweFRvTW92ZSwgZWxlbURpbSkgKiAxMDApLnRvRml4ZWQodGhpcy5vcHRpb25zLmRlY2ltYWwpLFxuICAgICAgICBsb2NhdGlvbiA9IGxvY2F0aW9uID4gMCA/IHBhcnNlRmxvYXQobG9jYXRpb24udG9GaXhlZCh0aGlzLm9wdGlvbnMuZGVjaW1hbCkpIDogMCxcbiAgICAgICAgYW5pbSwgcHJvZywgc3RhcnQgPSBudWxsLCBjc3MgPSB7fTtcblxuICAgIHRoaXMuX3NldFZhbHVlcygkaG5kbCwgbG9jYXRpb24pO1xuXG4gICAgaWYodGhpcy5vcHRpb25zLmRvdWJsZVNpZGVkKXsvL3VwZGF0ZSB0byBjYWxjdWxhdGUgYmFzZWQgb24gdmFsdWVzIHNldCB0byByZXNwZWN0aXZlIGlucHV0cz8/XG4gICAgICB2YXIgaXNMZWZ0SG5kbCA9IHRoaXMuaGFuZGxlcy5pbmRleCgkaG5kbCkgPT09IDAsXG4gICAgICAgICAgZGltLFxuICAgICAgICAgIGlkeCA9IHRoaXMuaGFuZGxlcy5pbmRleCgkaG5kbCk7XG5cbiAgICAgIGlmKGlzTGVmdEhuZGwpe1xuICAgICAgICBjc3NbbE9yVF0gPSAocGN0T2ZCYXIgPiAwID8gcGN0T2ZCYXIgKiAxMDAgOiAwKSArICclJzsvL1xuICAgICAgICBkaW0gPSAvKk1hdGguYWJzKi8oKHBlcmNlbnQodGhpcy4kaGFuZGxlMi5wb3NpdGlvbigpW2xPclRdICsgaGFsZk9mSGFuZGxlLCBlbGVtRGltKSAtIHBhcnNlRmxvYXQocGN0T2ZCYXIpKSAqIDEwMCkudG9GaXhlZCh0aGlzLm9wdGlvbnMuZGVjaW1hbCkgKyAnJSc7XG4gICAgICAgIGNzc1snbWluLScgKyBoT3JXXSA9IGRpbTtcbiAgICAgICAgaWYoY2IgJiYgdHlwZW9mIGNiID09PSAnZnVuY3Rpb24nKXsgY2IoKTsgfVxuICAgICAgfWVsc2V7XG4gICAgICAgIGxvY2F0aW9uID0gKGxvY2F0aW9uIDwgMTAwID8gbG9jYXRpb24gOiAxMDApIC0gKHBhcnNlRmxvYXQodGhpcy4kaGFuZGxlWzBdLnN0eWxlLmxlZnQpIHx8IHRoaXMub3B0aW9ucy5lbmQgLSBsb2NhdGlvbik7XG4gICAgICAgIGNzc1snbWluLScgKyBoT3JXXSA9IGxvY2F0aW9uICsgJyUnO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuJGVsZW1lbnQub25lKCdmaW5pc2hlZC56Zi5hbmltYXRlJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuYW5pbUNvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIEZpcmVzIHdoZW4gdGhlIGhhbmRsZSBpcyBkb25lIG1vdmluZy5cbiAgICAgICAgICAgICAgICAgICAgICogQGV2ZW50IFNsaWRlciNtb3ZlZFxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuJGVsZW1lbnQudHJpZ2dlcignbW92ZWQuemYuc2xpZGVyJywgWyRobmRsXSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgdmFyIG1vdmVUaW1lID0gX3RoaXMuJGVsZW1lbnQuZGF0YSgnZHJhZ2dpbmcnKSA/IDEwMDAvNjAgOiBfdGhpcy5vcHRpb25zLm1vdmVUaW1lO1xuICAgIC8qdmFyIG1vdmUgPSBuZXcgKi9Gb3VuZGF0aW9uLk1vdmUobW92ZVRpbWUsICRobmRsLCBmdW5jdGlvbigpe1xuICAgICAgJGhuZGwuY3NzKGxPclQsIG1vdmVtZW50ICsgJyUnKTtcbiAgICAgIGlmKCFfdGhpcy5vcHRpb25zLmRvdWJsZVNpZGVkKXtcbiAgICAgICAgX3RoaXMuJGZpbGwuY3NzKGhPclcsIHBjdE9mQmFyICogMTAwICsgJyUnKTtcbiAgICAgIH1lbHNle1xuICAgICAgICBfdGhpcy4kZmlsbC5jc3MoY3NzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICAvLyBtb3ZlLmRvKCk7XG4gIH07XG4gIC8qKlxuICAgKiBTZXRzIHRoZSBpbml0aWFsIGF0dHJpYnV0ZSBmb3IgdGhlIHNsaWRlciBlbGVtZW50LlxuICAgKiBAZnVuY3Rpb25cbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGlkeCAtIGluZGV4IG9mIHRoZSBjdXJyZW50IGhhbmRsZS9pbnB1dCB0byB1c2UuXG4gICAqL1xuICBTbGlkZXIucHJvdG90eXBlLl9zZXRJbml0QXR0ciA9IGZ1bmN0aW9uKGlkeCl7XG4gICAgdmFyIGlkID0gdGhpcy5pbnB1dHMuZXEoaWR4KS5hdHRyKCdpZCcpIHx8IEZvdW5kYXRpb24uR2V0WW9EaWdpdHMoNiwgJ3NsaWRlcicpO1xuICAgIHRoaXMuaW5wdXRzLmVxKGlkeCkuYXR0cih7XG4gICAgICAnaWQnOiBpZCxcbiAgICAgICdtYXgnOiB0aGlzLm9wdGlvbnMuZW5kLFxuICAgICAgJ21pbic6IHRoaXMub3B0aW9ucy5zdGFydFxuXG4gICAgfSk7XG4gICAgdGhpcy5oYW5kbGVzLmVxKGlkeCkuYXR0cih7XG4gICAgICAncm9sZSc6ICdzbGlkZXInLFxuICAgICAgJ2FyaWEtY29udHJvbHMnOiBpZCxcbiAgICAgICdhcmlhLXZhbHVlbWF4JzogdGhpcy5vcHRpb25zLmVuZCxcbiAgICAgICdhcmlhLXZhbHVlbWluJzogdGhpcy5vcHRpb25zLnN0YXJ0LFxuICAgICAgJ2FyaWEtdmFsdWVub3cnOiBpZHggPT09IDAgPyB0aGlzLm9wdGlvbnMuaW5pdGlhbFN0YXJ0IDogdGhpcy5vcHRpb25zLmluaXRpYWxFbmQsXG4gICAgICAnYXJpYS1vcmllbnRhdGlvbic6IHRoaXMub3B0aW9ucy52ZXJ0aWNhbCA/ICd2ZXJ0aWNhbCcgOiAnaG9yaXpvbnRhbCcsXG4gICAgICAndGFiaW5kZXgnOiAwXG4gICAgfSk7XG4gIH07XG4gIC8qKlxuICAgKiBTZXRzIHRoZSBpbnB1dCBhbmQgYGFyaWEtdmFsdWVub3dgIHZhbHVlcyBmb3IgdGhlIHNsaWRlciBlbGVtZW50LlxuICAgKiBAZnVuY3Rpb25cbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtqUXVlcnl9ICRoYW5kbGUgLSB0aGUgY3VycmVudGx5IHNlbGVjdGVkIGhhbmRsZS5cbiAgICogQHBhcmFtIHtOdW1iZXJ9IHZhbCAtIGZsb2F0aW5nIHBvaW50IG9mIHRoZSBuZXcgdmFsdWUuXG4gICAqL1xuICBTbGlkZXIucHJvdG90eXBlLl9zZXRWYWx1ZXMgPSBmdW5jdGlvbigkaGFuZGxlLCB2YWwpe1xuICAgIHZhciBpZHggPSB0aGlzLm9wdGlvbnMuZG91YmxlU2lkZWQgPyB0aGlzLmhhbmRsZXMuaW5kZXgoJGhhbmRsZSkgOiAwO1xuICAgIHRoaXMuaW5wdXRzLmVxKGlkeCkudmFsKHZhbCk7XG4gICAgJGhhbmRsZS5hdHRyKCdhcmlhLXZhbHVlbm93JywgdmFsKTtcbiAgfTtcbiAgLyoqXG4gICAqIEhhbmRsZXMgZXZlbnRzIG9uIHRoZSBzbGlkZXIgZWxlbWVudC5cbiAgICogQ2FsY3VsYXRlcyB0aGUgbmV3IGxvY2F0aW9uIG9mIHRoZSBjdXJyZW50IGhhbmRsZS5cbiAgICogSWYgdGhlcmUgYXJlIHR3byBoYW5kbGVzIGFuZCB0aGUgYmFyIHdhcyBjbGlja2VkLCBpdCBkZXRlcm1pbmVzIHdoaWNoIGhhbmRsZSB0byBtb3ZlLlxuICAgKiBAZnVuY3Rpb25cbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IGUgLSB0aGUgYGV2ZW50YCBvYmplY3QgcGFzc2VkIGZyb20gdGhlIGxpc3RlbmVyLlxuICAgKiBAcGFyYW0ge2pRdWVyeX0gJGhhbmRsZSAtIHRoZSBjdXJyZW50IGhhbmRsZSB0byBjYWxjdWxhdGUgZm9yLCBpZiBzZWxlY3RlZC5cbiAgICogQHBhcmFtIHtOdW1iZXJ9IHZhbCAtIGZsb2F0aW5nIHBvaW50IG51bWJlciBmb3IgdGhlIG5ldyB2YWx1ZSBvZiB0aGUgc2xpZGVyLlxuICAgKi9cbiAgU2xpZGVyLnByb3RvdHlwZS5faGFuZGxlRXZlbnQgPSBmdW5jdGlvbihlLCAkaGFuZGxlLCB2YWwpe1xuICAgIHZhciB2YWx1ZSwgaGFzVmFsO1xuICAgIGlmKCF2YWwpey8vY2xpY2sgb3IgZHJhZyBldmVudHNcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXMsXG4gICAgICAgICAgdmVydGljYWwgPSB0aGlzLm9wdGlvbnMudmVydGljYWwsXG4gICAgICAgICAgcGFyYW0gPSB2ZXJ0aWNhbCA/ICdoZWlnaHQnIDogJ3dpZHRoJyxcbiAgICAgICAgICBkaXJlY3Rpb24gPSB2ZXJ0aWNhbCA/ICd0b3AnIDogJ2xlZnQnLFxuICAgICAgICAgIHBhZ2VYWSA9IHZlcnRpY2FsID8gZS5wYWdlWSA6IGUucGFnZVgsXG4gICAgICAgICAgaGFsZk9mSGFuZGxlID0gdGhpcy4kaGFuZGxlWzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpW3BhcmFtXSAvIDIsXG4gICAgICAgICAgYmFyRGltID0gdGhpcy4kZWxlbWVudFswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVtwYXJhbV0sXG4gICAgICAgICAgYmFyT2Zmc2V0ID0gKHRoaXMuJGVsZW1lbnQub2Zmc2V0KClbZGlyZWN0aW9uXSAtICBwYWdlWFkpLFxuICAgICAgICAgIGJhclhZID0gYmFyT2Zmc2V0ID4gMCA/IC1oYWxmT2ZIYW5kbGUgOiAoYmFyT2Zmc2V0IC0gaGFsZk9mSGFuZGxlKSA8IC1iYXJEaW0gPyBiYXJEaW0gOiBNYXRoLmFicyhiYXJPZmZzZXQpLC8vaWYgdGhlIGN1cnNvciBwb3NpdGlvbiBpcyBsZXNzIHRoYW4gb3IgZ3JlYXRlciB0aGFuIHRoZSBlbGVtZW50cyBib3VuZGluZyBjb29yZGluYXRlcywgc2V0IGNvb3JkaW5hdGVzIHdpdGhpbiB0aG9zZSBib3VuZHNcbiAgICAgICAgICAvLyBlbGVEaW0gPSB0aGlzLiRlbGVtZW50WzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpW3BhcmFtXSxcbiAgICAgICAgICBvZmZzZXRQY3QgPSBwZXJjZW50KGJhclhZLCBiYXJEaW0pO1xuICAgICAgdmFsdWUgPSAodGhpcy5vcHRpb25zLmVuZCAtIHRoaXMub3B0aW9ucy5zdGFydCkgKiBvZmZzZXRQY3Q7XG4gICAgICBoYXNWYWwgPSBmYWxzZTtcblxuICAgICAgaWYoISRoYW5kbGUpey8vZmlndXJlIG91dCB3aGljaCBoYW5kbGUgaXQgaXMsIHBhc3MgaXQgdG8gdGhlIG5leHQgZnVuY3Rpb24uXG4gICAgICAgIHZhciBmaXJzdEhuZGxQb3MgPSBhYnNQb3NpdGlvbih0aGlzLiRoYW5kbGUsIGRpcmVjdGlvbiwgYmFyWFksIHBhcmFtKSxcbiAgICAgICAgICAgIHNlY25kSG5kbFBvcyA9IGFic1Bvc2l0aW9uKHRoaXMuJGhhbmRsZTIsIGRpcmVjdGlvbiwgYmFyWFksIHBhcmFtKTtcbiAgICAgICAgICAgICRoYW5kbGUgPSBmaXJzdEhuZGxQb3MgPD0gc2VjbmRIbmRsUG9zID8gdGhpcy4kaGFuZGxlIDogdGhpcy4kaGFuZGxlMjtcbiAgICAgIH1cblxuICAgIH1lbHNley8vY2hhbmdlIGV2ZW50IG9uIGlucHV0XG4gICAgICB2YWx1ZSA9IHZhbDtcbiAgICAgIGhhc1ZhbCA9IHRydWU7XG4gICAgfVxuXG4gICAgdGhpcy5fc2V0SGFuZGxlUG9zKCRoYW5kbGUsIHZhbHVlLCBoYXNWYWwpO1xuICB9O1xuICAvKipcbiAgICogQWRkcyBldmVudCBsaXN0ZW5lcnMgdG8gdGhlIHNsaWRlciBlbGVtZW50cy5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7alF1ZXJ5fSAkaGFuZGxlIC0gdGhlIGN1cnJlbnQgaGFuZGxlIHRvIGFwcGx5IGxpc3RlbmVycyB0by5cbiAgICovXG4gIFNsaWRlci5wcm90b3R5cGUuX2V2ZW50cyA9IGZ1bmN0aW9uKCRoYW5kbGUpe1xuICAgIGlmKHRoaXMub3B0aW9ucy5kaXNhYmxlZCl7IHJldHVybiBmYWxzZTsgfVxuXG4gICAgdmFyIF90aGlzID0gdGhpcyxcbiAgICAgICAgY3VySGFuZGxlLFxuICAgICAgICB0aW1lcjtcblxuICAgICAgdGhpcy5pbnB1dHMub2ZmKCdjaGFuZ2UuemYuc2xpZGVyJykub24oJ2NoYW5nZS56Zi5zbGlkZXInLCBmdW5jdGlvbihlKXtcbiAgICAgICAgdmFyIGlkeCA9IF90aGlzLmlucHV0cy5pbmRleCgkKHRoaXMpKTtcbiAgICAgICAgX3RoaXMuX2hhbmRsZUV2ZW50KGUsIF90aGlzLmhhbmRsZXMuZXEoaWR4KSwgJCh0aGlzKS52YWwoKSk7XG4gICAgICB9KTtcblxuICAgIGlmKHRoaXMub3B0aW9ucy5jbGlja1NlbGVjdCl7XG4gICAgICB0aGlzLiRlbGVtZW50Lm9mZignY2xpY2suemYuc2xpZGVyJykub24oJ2NsaWNrLnpmLnNsaWRlcicsIGZ1bmN0aW9uKGUpe1xuICAgICAgICBpZihfdGhpcy4kZWxlbWVudC5kYXRhKCdkcmFnZ2luZycpKXsgcmV0dXJuIGZhbHNlOyB9XG4gICAgICAgIF90aGlzLmFuaW1Db21wbGV0ZSA9IGZhbHNlO1xuICAgICAgICBpZihfdGhpcy5vcHRpb25zLmRvdWJsZVNpZGVkKXtcbiAgICAgICAgICBfdGhpcy5faGFuZGxlRXZlbnQoZSk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIF90aGlzLl9oYW5kbGVFdmVudChlLCBfdGhpcy4kaGFuZGxlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYodGhpcy5vcHRpb25zLmRyYWdnYWJsZSl7XG4gICAgICB0aGlzLmhhbmRsZXMuYWRkVG91Y2goKTtcbiAgICAgIC8vIHZhciBjdXJIYW5kbGUsXG4gICAgICAvLyAgICAgdGltZXIsXG4gICAgICB2YXIgJGJvZHkgPSAkKCdib2R5Jyk7XG4gICAgICAkaGFuZGxlXG4gICAgICAgIC5vZmYoJ21vdXNlZG93bi56Zi5zbGlkZXInKVxuICAgICAgICAub24oJ21vdXNlZG93bi56Zi5zbGlkZXInLCBmdW5jdGlvbihlKXtcbiAgICAgICAgICAkaGFuZGxlLmFkZENsYXNzKCdpcy1kcmFnZ2luZycpO1xuICAgICAgICAgIF90aGlzLiRmaWxsLmFkZENsYXNzKCdpcy1kcmFnZ2luZycpOy8vXG4gICAgICAgICAgX3RoaXMuJGVsZW1lbnQuZGF0YSgnZHJhZ2dpbmcnLCB0cnVlKTtcbiAgICAgICAgICBfdGhpcy5hbmltQ29tcGxldGUgPSBmYWxzZTtcbiAgICAgICAgICBjdXJIYW5kbGUgPSAkKGUuY3VycmVudFRhcmdldCk7XG5cbiAgICAgICAgICAkYm9keS5vbignbW91c2Vtb3ZlLnpmLnNsaWRlcicsIGZ1bmN0aW9uKGUpe1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICAvLyB0aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIF90aGlzLl9oYW5kbGVFdmVudChlLCBjdXJIYW5kbGUpO1xuICAgICAgICAgICAgLy8gfSwgX3RoaXMub3B0aW9ucy5kcmFnRGVsYXkpO1xuICAgICAgICAgIH0pLm9uKCdtb3VzZXVwLnpmLnNsaWRlcicsIGZ1bmN0aW9uKGUpe1xuICAgICAgICAgICAgLy8gY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgICAgICAgIF90aGlzLmFuaW1Db21wbGV0ZSA9IHRydWU7XG4gICAgICAgICAgICBfdGhpcy5faGFuZGxlRXZlbnQoZSwgY3VySGFuZGxlKTtcbiAgICAgICAgICAgICRoYW5kbGUucmVtb3ZlQ2xhc3MoJ2lzLWRyYWdnaW5nJyk7XG4gICAgICAgICAgICBfdGhpcy4kZmlsbC5yZW1vdmVDbGFzcygnaXMtZHJhZ2dpbmcnKTtcbiAgICAgICAgICAgIF90aGlzLiRlbGVtZW50LmRhdGEoJ2RyYWdnaW5nJywgZmFsc2UpO1xuICAgICAgICAgICAgLy8gRm91bmRhdGlvbi5yZWZsb3coX3RoaXMuJGVsZW1lbnQsICdzbGlkZXInKTtcbiAgICAgICAgICAgICRib2R5Lm9mZignbW91c2Vtb3ZlLnpmLnNsaWRlciBtb3VzZXVwLnpmLnNsaWRlcicpO1xuICAgICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICAgICRoYW5kbGUub2ZmKCdrZXlkb3duLnpmLnNsaWRlcicpLm9uKCdrZXlkb3duLnpmLnNsaWRlcicsIGZ1bmN0aW9uKGUpe1xuICAgICAgdmFyIGlkeCA9IF90aGlzLm9wdGlvbnMuZG91YmxlU2lkZWQgPyBfdGhpcy5oYW5kbGVzLmluZGV4KCQodGhpcykpIDogMCxcbiAgICAgICAgb2xkVmFsdWUgPSBwYXJzZUZsb2F0KF90aGlzLmlucHV0cy5lcShpZHgpLnZhbCgpKSxcbiAgICAgICAgbmV3VmFsdWU7XG5cbiAgICAgIHZhciBfJGhhbmRsZSA9ICQodGhpcyk7XG5cbiAgICAgIC8vIGhhbmRsZSBrZXlib2FyZCBldmVudCB3aXRoIGtleWJvYXJkIHV0aWxcbiAgICAgIEZvdW5kYXRpb24uS2V5Ym9hcmQuaGFuZGxlS2V5KGUsIF90aGlzLCB7XG4gICAgICAgIGRlY3JlYXNlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBuZXdWYWx1ZSA9IG9sZFZhbHVlIC0gX3RoaXMub3B0aW9ucy5zdGVwO1xuICAgICAgICB9LFxuICAgICAgICBpbmNyZWFzZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgbmV3VmFsdWUgPSBvbGRWYWx1ZSArIF90aGlzLm9wdGlvbnMuc3RlcDtcbiAgICAgICAgfSxcbiAgICAgICAgZGVjcmVhc2VfZmFzdDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgbmV3VmFsdWUgPSBvbGRWYWx1ZSAtIF90aGlzLm9wdGlvbnMuc3RlcCAqIDEwO1xuICAgICAgICB9LFxuICAgICAgICBpbmNyZWFzZV9mYXN0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBuZXdWYWx1ZSA9IG9sZFZhbHVlICsgX3RoaXMub3B0aW9ucy5zdGVwICogMTA7XG4gICAgICAgIH0sXG4gICAgICAgIGhhbmRsZWQ6IGZ1bmN0aW9uKCkgeyAvLyBvbmx5IHNldCBoYW5kbGUgcG9zIHdoZW4gZXZlbnQgd2FzIGhhbmRsZWQgc3BlY2lhbGx5XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIF90aGlzLl9zZXRIYW5kbGVQb3MoXyRoYW5kbGUsIG5ld1ZhbHVlLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICAvKmlmIChuZXdWYWx1ZSkgeyAvLyBpZiBwcmVzc2VkIGtleSBoYXMgc3BlY2lhbCBmdW5jdGlvbiwgdXBkYXRlIHZhbHVlXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgX3RoaXMuX3NldEhhbmRsZVBvcyhfJGhhbmRsZSwgbmV3VmFsdWUpO1xuICAgICAgfSovXG4gICAgfSk7XG4gIH07XG4gIC8qKlxuICAgKiBEZXN0cm95cyB0aGUgc2xpZGVyIHBsdWdpbi5cbiAgICovXG4gICBTbGlkZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpe1xuICAgICB0aGlzLmhhbmRsZXMub2ZmKCcuemYuc2xpZGVyJyk7XG4gICAgIHRoaXMuaW5wdXRzLm9mZignLnpmLnNsaWRlcicpO1xuICAgICB0aGlzLiRlbGVtZW50Lm9mZignLnpmLnNsaWRlcicpO1xuXG4gICAgIEZvdW5kYXRpb24udW5yZWdpc3RlclBsdWdpbih0aGlzKTtcbiAgIH07XG5cbiAgRm91bmRhdGlvbi5wbHVnaW4oU2xpZGVyLCAnU2xpZGVyJyk7XG5cbiAgZnVuY3Rpb24gcGVyY2VudChmcmFjLCBudW0pe1xuICAgIHJldHVybiAoZnJhYyAvIG51bSk7XG4gIH1cbiAgZnVuY3Rpb24gYWJzUG9zaXRpb24oJGhhbmRsZSwgZGlyLCBjbGlja1BvcywgcGFyYW0pe1xuICAgIHJldHVybiBNYXRoLmFicygoJGhhbmRsZS5wb3NpdGlvbigpW2Rpcl0gKyAoJGhhbmRsZVtwYXJhbV0oKSAvIDIpKSAtIGNsaWNrUG9zKTtcbiAgfVxufShqUXVlcnksIHdpbmRvdy5Gb3VuZGF0aW9uKTtcblxuLy8qKioqKioqKip0aGlzIGlzIGluIGNhc2Ugd2UgZ28gdG8gc3RhdGljLCBhYnNvbHV0ZSBwb3NpdGlvbnMgaW5zdGVhZCBvZiBkeW5hbWljIHBvc2l0aW9uaW5nKioqKioqKipcbi8vIHRoaXMuc2V0U3RlcHMoZnVuY3Rpb24oKXtcbi8vICAgX3RoaXMuX2V2ZW50cygpO1xuLy8gICB2YXIgaW5pdFN0YXJ0ID0gX3RoaXMub3B0aW9ucy5wb3NpdGlvbnNbX3RoaXMub3B0aW9ucy5pbml0aWFsU3RhcnQgLSAxXSB8fCBudWxsO1xuLy8gICB2YXIgaW5pdEVuZCA9IF90aGlzLm9wdGlvbnMuaW5pdGlhbEVuZCA/IF90aGlzLm9wdGlvbnMucG9zaXRpb25bX3RoaXMub3B0aW9ucy5pbml0aWFsRW5kIC0gMV0gOiBudWxsO1xuLy8gICBpZihpbml0U3RhcnQgfHwgaW5pdEVuZCl7XG4vLyAgICAgX3RoaXMuX2hhbmRsZUV2ZW50KGluaXRTdGFydCwgaW5pdEVuZCk7XG4vLyAgIH1cbi8vIH0pO1xuXG4vLyoqKioqKioqKioqdGhlIG90aGVyIHBhcnQgb2YgYWJzb2x1dGUgcG9zaXRpb25zKioqKioqKioqKioqKlxuLy8gU2xpZGVyLnByb3RvdHlwZS5zZXRTdGVwcyA9IGZ1bmN0aW9uKGNiKXtcbi8vICAgdmFyIHBvc0NoYW5nZSA9IHRoaXMuJGVsZW1lbnQub3V0ZXJXaWR0aCgpIC8gdGhpcy5vcHRpb25zLnN0ZXBzO1xuLy8gICB2YXIgY291bnRlciA9IDBcbi8vICAgd2hpbGUoY291bnRlciA8IHRoaXMub3B0aW9ucy5zdGVwcyl7XG4vLyAgICAgaWYoY291bnRlcil7XG4vLyAgICAgICB0aGlzLm9wdGlvbnMucG9zaXRpb25zLnB1c2godGhpcy5vcHRpb25zLnBvc2l0aW9uc1tjb3VudGVyIC0gMV0gKyBwb3NDaGFuZ2UpO1xuLy8gICAgIH1lbHNle1xuLy8gICAgICAgdGhpcy5vcHRpb25zLnBvc2l0aW9ucy5wdXNoKHBvc0NoYW5nZSk7XG4vLyAgICAgfVxuLy8gICAgIGNvdW50ZXIrKztcbi8vICAgfVxuLy8gICBjYigpO1xuLy8gfTtcblxuLyoqXG4gKiBTdGlja3kgbW9kdWxlLlxuICogQG1vZHVsZSBmb3VuZGF0aW9uLnN0aWNreVxuICogQHJlcXVpcmVzIGZvdW5kYXRpb24udXRpbC50cmlnZ2Vyc1xuICogQHJlcXVpcmVzIGZvdW5kYXRpb24udXRpbC5tZWRpYVF1ZXJ5XG4gKi9cbiFmdW5jdGlvbigkLCBGb3VuZGF0aW9uKXtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IGluc3RhbmNlIG9mIGEgc3RpY2t5IHRoaW5nLlxuICAgKiBAY2xhc3NcbiAgICogQHBhcmFtIHtqUXVlcnl9IGVsZW1lbnQgLSBqUXVlcnkgb2JqZWN0IHRvIG1ha2Ugc3RpY2t5LlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIG9wdGlvbnMgb2JqZWN0IHBhc3NlZCB3aGVuIGNyZWF0aW5nIHRoZSBlbGVtZW50IHByb2dyYW1tYXRpY2FsbHkuXG4gICAqL1xuICBmdW5jdGlvbiBTdGlja3koZWxlbWVudCwgb3B0aW9ucyl7XG4gICAgdGhpcy4kZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgdGhpcy5vcHRpb25zID0gJC5leHRlbmQoe30sIFN0aWNreS5kZWZhdWx0cywgdGhpcy4kZWxlbWVudC5kYXRhKCksIG9wdGlvbnMpO1xuXG4gICAgdGhpcy5faW5pdCgpO1xuXG4gICAgRm91bmRhdGlvbi5yZWdpc3RlclBsdWdpbih0aGlzKTtcbiAgfVxuICBTdGlja3kuZGVmYXVsdHMgPSB7XG4gICAgLyoqXG4gICAgICogQ3VzdG9taXphYmxlIGNvbnRhaW5lciB0ZW1wbGF0ZS4gQWRkIHlvdXIgb3duIGNsYXNzZXMgZm9yIHN0eWxpbmcgYW5kIHNpemluZy5cbiAgICAgKiBAb3B0aW9uXG4gICAgICogQGV4YW1wbGUgJzxkaXYgZGF0YS1zdGlja3ktY29udGFpbmVyIGNsYXNzPVwic21hbGwtNiBjb2x1bW5zXCI+PC9kaXY+J1xuICAgICAqL1xuICAgIGNvbnRhaW5lcjogJzxkaXYgZGF0YS1zdGlja3ktY29udGFpbmVyPjwvZGl2PicsXG4gICAgLyoqXG4gICAgICogTG9jYXRpb24gaW4gdGhlIHZpZXcgdGhlIGVsZW1lbnQgc3RpY2tzIHRvLlxuICAgICAqIEBvcHRpb25cbiAgICAgKiBAZXhhbXBsZSAndG9wJ1xuICAgICAqL1xuICAgIHN0aWNrVG86ICd0b3AnLFxuICAgIC8qKlxuICAgICAqIElmIGFuY2hvcmVkIHRvIGEgc2luZ2xlIGVsZW1lbnQsIHRoZSBpZCBvZiB0aGF0IGVsZW1lbnQuXG4gICAgICogQG9wdGlvblxuICAgICAqIEBleGFtcGxlICdleGFtcGxlSWQnXG4gICAgICovXG4gICAgYW5jaG9yOiAnJyxcbiAgICAvKipcbiAgICAgKiBJZiB1c2luZyBtb3JlIHRoYW4gb25lIGVsZW1lbnQgYXMgYW5jaG9yIHBvaW50cywgdGhlIGlkIG9mIHRoZSB0b3AgYW5jaG9yLlxuICAgICAqIEBvcHRpb25cbiAgICAgKiBAZXhhbXBsZSAnZXhhbXBsZUlkOnRvcCdcbiAgICAgKi9cbiAgICB0b3BBbmNob3I6ICcnLFxuICAgIC8qKlxuICAgICAqIElmIHVzaW5nIG1vcmUgdGhhbiBvbmUgZWxlbWVudCBhcyBhbmNob3IgcG9pbnRzLCB0aGUgaWQgb2YgdGhlIGJvdHRvbSBhbmNob3IuXG4gICAgICogQG9wdGlvblxuICAgICAqIEBleGFtcGxlICdleGFtcGxlSWQ6Ym90dG9tJ1xuICAgICAqL1xuICAgIGJ0bUFuY2hvcjogJycsXG4gICAgLyoqXG4gICAgICogTWFyZ2luLCBpbiBgZW1gJ3MgdG8gYXBwbHkgdG8gdGhlIHRvcCBvZiB0aGUgZWxlbWVudCB3aGVuIGl0IGJlY29tZXMgc3RpY2t5LlxuICAgICAqIEBvcHRpb25cbiAgICAgKiBAZXhhbXBsZSAxXG4gICAgICovXG4gICAgbWFyZ2luVG9wOiAxLFxuICAgIC8qKlxuICAgICAqIE1hcmdpbiwgaW4gYGVtYCdzIHRvIGFwcGx5IHRvIHRoZSBib3R0b20gb2YgdGhlIGVsZW1lbnQgd2hlbiBpdCBiZWNvbWVzIHN0aWNreS5cbiAgICAgKiBAb3B0aW9uXG4gICAgICogQGV4YW1wbGUgMVxuICAgICAqL1xuICAgIG1hcmdpbkJvdHRvbTogMSxcbiAgICAvKipcbiAgICAgKiBCcmVha3BvaW50IHN0cmluZyB0aGF0IGlzIHRoZSBtaW5pbXVtIHNjcmVlbiBzaXplIGFuIGVsZW1lbnQgc2hvdWxkIGJlY29tZSBzdGlja3kuXG4gICAgICogQG9wdGlvblxuICAgICAqIEBleGFtcGxlICdtZWRpdW0nXG4gICAgICovXG4gICAgc3RpY2t5T246ICdtZWRpdW0nLFxuICAgIC8qKlxuICAgICAqIENsYXNzIGFwcGxpZWQgdG8gc3RpY2t5IGVsZW1lbnQsIGFuZCByZW1vdmVkIG9uIGRlc3RydWN0aW9uLiBGb3VuZGF0aW9uIGRlZmF1bHRzIHRvIGBzdGlja3lgLlxuICAgICAqIEBvcHRpb25cbiAgICAgKiBAZXhhbXBsZSAnc3RpY2t5J1xuICAgICAqL1xuICAgIHN0aWNreUNsYXNzOiAnc3RpY2t5JyxcbiAgICAvKipcbiAgICAgKiBDbGFzcyBhcHBsaWVkIHRvIHN0aWNreSBjb250YWluZXIuIEZvdW5kYXRpb24gZGVmYXVsdHMgdG8gYHN0aWNreS1jb250YWluZXJgLlxuICAgICAqIEBvcHRpb25cbiAgICAgKiBAZXhhbXBsZSAnc3RpY2t5LWNvbnRhaW5lcidcbiAgICAgKi9cbiAgICBjb250YWluZXJDbGFzczogJ3N0aWNreS1jb250YWluZXInLFxuICAgIC8qKlxuICAgICAqIE51bWJlciBvZiBzY3JvbGwgZXZlbnRzIGJldHdlZW4gdGhlIHBsdWdpbidzIHJlY2FsY3VsYXRpbmcgc3RpY2t5IHBvaW50cy4gU2V0dGluZyBpdCB0byBgMGAgd2lsbCBjYXVzZSBpdCB0byByZWNhbGMgZXZlcnkgc2Nyb2xsIGV2ZW50LCBzZXR0aW5nIGl0IHRvIGAtMWAgd2lsbCBwcmV2ZW50IHJlY2FsYyBvbiBzY3JvbGwuXG4gICAgICogQG9wdGlvblxuICAgICAqIEBleGFtcGxlIDUwXG4gICAgICovXG4gICAgY2hlY2tFdmVyeTogLTFcbiAgfTtcblxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgdGhlIHN0aWNreSBlbGVtZW50IGJ5IGFkZGluZyBjbGFzc2VzLCBnZXR0aW5nL3NldHRpbmcgZGltZW5zaW9ucywgYnJlYWtwb2ludHMgYW5kIGF0dHJpYnV0ZXNcbiAgICogQWxzbyB0cmlnZ2VyZWQgYnkgRm91bmRhdGlvbi5fcmVmbG93XG4gICAqIEBmdW5jdGlvblxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgU3RpY2t5LnByb3RvdHlwZS5faW5pdCA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyICRwYXJlbnQgPSB0aGlzLiRlbGVtZW50LnBhcmVudCgnW2RhdGEtc3RpY2t5LWNvbnRhaW5lcl0nKSxcbiAgICAgICAgaWQgPSB0aGlzLiRlbGVtZW50WzBdLmlkIHx8IEZvdW5kYXRpb24uR2V0WW9EaWdpdHMoNiwgJ3N0aWNreScpLFxuICAgICAgICBfdGhpcyA9IHRoaXM7XG5cbiAgICBpZighJHBhcmVudC5sZW5ndGgpe1xuICAgICAgdGhpcy53YXNXcmFwcGVkID0gdHJ1ZTtcbiAgICB9XG4gICAgdGhpcy4kY29udGFpbmVyID0gJHBhcmVudC5sZW5ndGggPyAkcGFyZW50IDogJCh0aGlzLm9wdGlvbnMuY29udGFpbmVyKS53cmFwSW5uZXIodGhpcy4kZWxlbWVudCk7XG4gICAgdGhpcy4kY29udGFpbmVyLmFkZENsYXNzKHRoaXMub3B0aW9ucy5jb250YWluZXJDbGFzcyk7XG5cblxuICAgIHRoaXMuJGVsZW1lbnQuYWRkQ2xhc3ModGhpcy5vcHRpb25zLnN0aWNreUNsYXNzKVxuICAgICAgICAgICAgICAgICAuYXR0cih7J2RhdGEtcmVzaXplJzogaWR9KTtcblxuICAgIHRoaXMuc2Nyb2xsQ291bnQgPSB0aGlzLm9wdGlvbnMuY2hlY2tFdmVyeTtcbiAgICB0aGlzLmlzU3R1Y2sgPSBmYWxzZTtcbiAgICAvLyBjb25zb2xlLmxvZyh0aGlzLm9wdGlvbnMuYW5jaG9yLCB0aGlzLm9wdGlvbnMudG9wQW5jaG9yKTtcbiAgICBpZih0aGlzLm9wdGlvbnMudG9wQW5jaG9yICE9PSAnJyl7XG4gICAgICB0aGlzLl9wYXJzZVBvaW50cygpO1xuICAgICAgLy8gY29uc29sZS5sb2codGhpcy5wb2ludHNbMF0pO1xuICAgIH1lbHNle1xuICAgICAgdGhpcy4kYW5jaG9yID0gdGhpcy5vcHRpb25zLmFuY2hvciA/ICQoJyMnICsgdGhpcy5vcHRpb25zLmFuY2hvcikgOiAkKGRvY3VtZW50LmJvZHkpO1xuICAgIH1cblxuXG4gICAgdGhpcy5fc2V0U2l6ZXMoZnVuY3Rpb24oKXtcbiAgICAgIF90aGlzLl9jYWxjKGZhbHNlKTtcbiAgICB9KTtcbiAgICB0aGlzLl9ldmVudHMoaWQuc3BsaXQoJy0nKS5yZXZlcnNlKCkuam9pbignLScpKTtcbiAgfTtcbiAgLyoqXG4gICAqIElmIHVzaW5nIG11bHRpcGxlIGVsZW1lbnRzIGFzIGFuY2hvcnMsIGNhbGN1bGF0ZXMgdGhlIHRvcCBhbmQgYm90dG9tIHBpeGVsIHZhbHVlcyB0aGUgc3RpY2t5IHRoaW5nIHNob3VsZCBzdGljayBhbmQgdW5zdGljayBvbi5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBTdGlja3kucHJvdG90eXBlLl9wYXJzZVBvaW50cyA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIHRvcCA9IHRoaXMub3B0aW9ucy50b3BBbmNob3IsXG4gICAgICAgIGJ0bSA9IHRoaXMub3B0aW9ucy5idG1BbmNob3IsXG4gICAgICAgIHB0cyA9IFt0b3AsIGJ0bV0sXG4gICAgICAgIGJyZWFrcyA9IHt9O1xuICAgIGZvcih2YXIgaSA9IDAsIGxlbiA9IHB0cy5sZW5ndGg7IGkgPCBsZW4gJiYgcHRzW2ldOyBpKyspe1xuICAgICAgdmFyIHB0O1xuICAgICAgaWYodHlwZW9mIHB0c1tpXSA9PT0gJ251bWJlcicpe1xuICAgICAgICBwdCA9IHB0c1tpXTtcbiAgICAgIH1lbHNle1xuICAgICAgICB2YXIgcGxhY2UgPSBwdHNbaV0uc3BsaXQoJzonKSxcbiAgICAgICAgICAgIGFuY2hvciA9ICQoJyMnICsgcGxhY2VbMF0pO1xuXG4gICAgICAgIHB0ID0gYW5jaG9yLm9mZnNldCgpLnRvcDtcbiAgICAgICAgaWYocGxhY2VbMV0gJiYgcGxhY2VbMV0udG9Mb3dlckNhc2UoKSA9PT0gJ2JvdHRvbScpe1xuICAgICAgICAgIHB0ICs9IGFuY2hvclswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGJyZWFrc1tpXSA9IHB0O1xuICAgIH1cbiAgICAgIC8vIGNvbnNvbGUubG9nKGJyZWFrcyk7XG4gICAgdGhpcy5wb2ludHMgPSBicmVha3M7XG4gICAgcmV0dXJuO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBZGRzIGV2ZW50IGhhbmRsZXJzIGZvciB0aGUgc2Nyb2xsaW5nIGVsZW1lbnQuXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBpZCAtIHBzdWVkby1yYW5kb20gaWQgZm9yIHVuaXF1ZSBzY3JvbGwgZXZlbnQgbGlzdGVuZXIuXG4gICAqL1xuICBTdGlja3kucHJvdG90eXBlLl9ldmVudHMgPSBmdW5jdGlvbihpZCl7XG4gICAgLy8gY29uc29sZS5sb2coJ2NhbGxlZCcpO1xuICAgIHZhciBfdGhpcyA9IHRoaXMsXG4gICAgICAgIHNjcm9sbExpc3RlbmVyID0gJ3Njcm9sbC56Zi4nICsgaWQ7XG4gICAgaWYodGhpcy5pc09uKXsgcmV0dXJuOyB9XG4gICAgaWYodGhpcy5jYW5TdGljayl7XG4gICAgICB0aGlzLmlzT24gPSB0cnVlO1xuICAgICAgLy8gdGhpcy4kYW5jaG9yLm9mZignY2hhbmdlLnpmLnN0aWNreScpXG4gICAgICAvLyAgICAgICAgICAgICAub24oJ2NoYW5nZS56Zi5zdGlja3knLCBmdW5jdGlvbigpe1xuICAgICAgLy8gICAgICAgICAgICAgICBfdGhpcy5fc2V0U2l6ZXMoZnVuY3Rpb24oKXtcbiAgICAgIC8vICAgICAgICAgICAgICAgICBfdGhpcy5fY2FsYyhmYWxzZSk7XG4gICAgICAvLyAgICAgICAgICAgICAgIH0pO1xuICAgICAgLy8gICAgICAgICAgICAgfSk7XG5cbiAgICAgICQod2luZG93KS5vZmYoc2Nyb2xsTGlzdGVuZXIpXG4gICAgICAgICAgICAgICAub24oc2Nyb2xsTGlzdGVuZXIsIGZ1bmN0aW9uKGUpe1xuICAgICAgICAgICAgICAgICBpZihfdGhpcy5zY3JvbGxDb3VudCA9PT0gMCl7XG4gICAgICAgICAgICAgICAgICAgX3RoaXMuc2Nyb2xsQ291bnQgPSBfdGhpcy5vcHRpb25zLmNoZWNrRXZlcnk7XG4gICAgICAgICAgICAgICAgICAgX3RoaXMuX3NldFNpemVzKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICBfdGhpcy5fY2FsYyhmYWxzZSwgd2luZG93LnBhZ2VZT2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgX3RoaXMuc2Nyb2xsQ291bnQtLTtcbiAgICAgICAgICAgICAgICAgICBfdGhpcy5fY2FsYyhmYWxzZSwgd2luZG93LnBhZ2VZT2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB0aGlzLiRlbGVtZW50Lm9mZigncmVzaXplbWUuemYudHJpZ2dlcicpXG4gICAgICAgICAgICAgICAgIC5vbigncmVzaXplbWUuemYudHJpZ2dlcicsIGZ1bmN0aW9uKGUsIGVsKXtcbiAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9zZXRTaXplcyhmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fY2FsYyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgIGlmKF90aGlzLmNhblN0aWNrKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICBpZighX3RoaXMuaXNPbil7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fZXZlbnRzKGlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmKF90aGlzLmlzT24pe1xuICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9wYXVzZUxpc3RlbmVycyhzY3JvbGxMaXN0ZW5lcik7XG4gICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGV2ZW50IGhhbmRsZXJzIGZvciBzY3JvbGwgYW5kIGNoYW5nZSBldmVudHMgb24gYW5jaG9yLlxuICAgKiBAZmlyZXMgU3RpY2t5I3BhdXNlXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzY3JvbGxMaXN0ZW5lciAtIHVuaXF1ZSwgbmFtZXNwYWNlZCBzY3JvbGwgbGlzdGVuZXIgYXR0YWNoZWQgdG8gYHdpbmRvd2BcbiAgICovXG4gIFN0aWNreS5wcm90b3R5cGUuX3BhdXNlTGlzdGVuZXJzID0gZnVuY3Rpb24oc2Nyb2xsTGlzdGVuZXIpe1xuICAgIHRoaXMuaXNPbiA9IGZhbHNlO1xuICAgIC8vIHRoaXMuJGFuY2hvci5vZmYoJ2NoYW5nZS56Zi5zdGlja3knKTtcbiAgICAkKHdpbmRvdykub2ZmKHNjcm9sbExpc3RlbmVyKTtcblxuICAgIC8qKlxuICAgICAqIEZpcmVzIHdoZW4gdGhlIHBsdWdpbiBpcyBwYXVzZWQgZHVlIHRvIHJlc2l6ZSBldmVudCBzaHJpbmtpbmcgdGhlIHZpZXcuXG4gICAgICogQGV2ZW50IFN0aWNreSNwYXVzZVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcigncGF1c2UuemYuc3RpY2t5Jyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENhbGxlZCBvbiBldmVyeSBgc2Nyb2xsYCBldmVudCBhbmQgb24gYF9pbml0YFxuICAgKiBmaXJlcyBmdW5jdGlvbnMgYmFzZWQgb24gYm9vbGVhbnMgYW5kIGNhY2hlZCB2YWx1ZXNcbiAgICogQHBhcmFtIHtCb29sZWFufSBjaGVja1NpemVzIC0gdHJ1ZSBpZiBwbHVnaW4gc2hvdWxkIHJlY2FsY3VsYXRlIHNpemVzIGFuZCBicmVha3BvaW50cy5cbiAgICogQHBhcmFtIHtOdW1iZXJ9IHNjcm9sbCAtIGN1cnJlbnQgc2Nyb2xsIHBvc2l0aW9uIHBhc3NlZCBmcm9tIHNjcm9sbCBldmVudCBjYiBmdW5jdGlvbi4gSWYgbm90IHBhc3NlZCwgZGVmYXVsdHMgdG8gYHdpbmRvdy5wYWdlWU9mZnNldGAuXG4gICAqL1xuICBTdGlja3kucHJvdG90eXBlLl9jYWxjID0gZnVuY3Rpb24oY2hlY2tTaXplcywgc2Nyb2xsKXtcbiAgICBpZihjaGVja1NpemVzKXsgdGhpcy5fc2V0U2l6ZXMoKTsgfVxuXG4gICAgaWYoIXRoaXMuY2FuU3RpY2spe1xuICAgICAgaWYodGhpcy5pc1N0dWNrKXtcbiAgICAgICAgdGhpcy5fcmVtb3ZlU3RpY2t5KHRydWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmKCFzY3JvbGwpeyBzY3JvbGwgPSB3aW5kb3cucGFnZVlPZmZzZXQ7IH1cblxuICAgIGlmKHNjcm9sbCA+PSB0aGlzLnRvcFBvaW50KXtcbiAgICAgIGlmKHNjcm9sbCA8PSB0aGlzLmJvdHRvbVBvaW50KXtcbiAgICAgICAgaWYoIXRoaXMuaXNTdHVjayl7XG4gICAgICAgICAgdGhpcy5fc2V0U3RpY2t5KCk7XG4gICAgICAgIH1cbiAgICAgIH1lbHNle1xuICAgICAgICBpZih0aGlzLmlzU3R1Y2spe1xuICAgICAgICAgIHRoaXMuX3JlbW92ZVN0aWNreShmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9ZWxzZXtcbiAgICAgIGlmKHRoaXMuaXNTdHVjayl7XG4gICAgICAgIHRoaXMuX3JlbW92ZVN0aWNreSh0cnVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBDYXVzZXMgdGhlICRlbGVtZW50IHRvIGJlY29tZSBzdHVjay5cbiAgICogQWRkcyBgcG9zaXRpb246IGZpeGVkO2AsIGFuZCBoZWxwZXIgY2xhc3Nlcy5cbiAgICogQGZpcmVzIFN0aWNreSNzdHVja3RvXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgU3RpY2t5LnByb3RvdHlwZS5fc2V0U3RpY2t5ID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgc3RpY2tUbyA9IHRoaXMub3B0aW9ucy5zdGlja1RvLFxuICAgICAgICBtcmduID0gc3RpY2tUbyA9PT0gJ3RvcCcgPyAnbWFyZ2luVG9wJyA6ICdtYXJnaW5Cb3R0b20nLFxuICAgICAgICBub3RTdHVja1RvID0gc3RpY2tUbyA9PT0gJ3RvcCcgPyAnYm90dG9tJyA6ICd0b3AnLFxuICAgICAgICBjc3MgPSB7fTtcblxuICAgIGNzc1ttcmduXSA9IHRoaXMub3B0aW9uc1ttcmduXSArICdlbSc7XG4gICAgY3NzW3N0aWNrVG9dID0gMDtcbiAgICBjc3Nbbm90U3R1Y2tUb10gPSAnYXV0byc7XG4gICAgY3NzWydsZWZ0J10gPSB0aGlzLiRjb250YWluZXIub2Zmc2V0KCkubGVmdCArIHBhcnNlSW50KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMuJGNvbnRhaW5lclswXSlbXCJwYWRkaW5nLWxlZnRcIl0sIDEwKTtcbiAgICB0aGlzLmlzU3R1Y2sgPSB0cnVlO1xuICAgIHRoaXMuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoJ2lzLWFuY2hvcmVkIGlzLWF0LScgKyBub3RTdHVja1RvKVxuICAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ2lzLXN0dWNrIGlzLWF0LScgKyBzdGlja1RvKVxuICAgICAgICAgICAgICAgICAuY3NzKGNzcylcbiAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAqIEZpcmVzIHdoZW4gdGhlICRlbGVtZW50IGhhcyBiZWNvbWUgYHBvc2l0aW9uOiBmaXhlZDtgXG4gICAgICAgICAgICAgICAgICAqIE5hbWVzcGFjZWQgdG8gYHRvcGAgb3IgYGJvdHRvbWAuXG4gICAgICAgICAgICAgICAgICAqIEBldmVudCBTdGlja3kjc3R1Y2t0b1xuICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgLnRyaWdnZXIoJ3N0aWNreS56Zi5zdHVja3RvOicgKyBzdGlja1RvKTtcbiAgfTtcblxuICAvKipcbiAgICogQ2F1c2VzIHRoZSAkZWxlbWVudCB0byBiZWNvbWUgdW5zdHVjay5cbiAgICogUmVtb3ZlcyBgcG9zaXRpb246IGZpeGVkO2AsIGFuZCBoZWxwZXIgY2xhc3Nlcy5cbiAgICogQWRkcyBvdGhlciBoZWxwZXIgY2xhc3Nlcy5cbiAgICogQHBhcmFtIHtCb29sZWFufSBpc1RvcCAtIHRlbGxzIHRoZSBmdW5jdGlvbiBpZiB0aGUgJGVsZW1lbnQgc2hvdWxkIGFuY2hvciB0byB0aGUgdG9wIG9yIGJvdHRvbSBvZiBpdHMgJGFuY2hvciBlbGVtZW50LlxuICAgKiBAZmlyZXMgU3RpY2t5I3Vuc3R1Y2tmcm9tXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBTdGlja3kucHJvdG90eXBlLl9yZW1vdmVTdGlja3kgPSBmdW5jdGlvbihpc1RvcCl7XG4gICAgdmFyIHN0aWNrVG8gPSB0aGlzLm9wdGlvbnMuc3RpY2tUbyxcbiAgICAgICAgc3RpY2tUb1RvcCA9IHN0aWNrVG8gPT09ICd0b3AnLFxuICAgICAgICBjc3MgPSB7fSxcbiAgICAgICAgYW5jaG9yUHQgPSAodGhpcy5wb2ludHMgPyB0aGlzLnBvaW50c1sxXSAtIHRoaXMucG9pbnRzWzBdIDogdGhpcy5hbmNob3JIZWlnaHQpIC0gdGhpcy5lbGVtSGVpZ2h0LFxuICAgICAgICBtcmduID0gc3RpY2tUb1RvcCA/ICdtYXJnaW5Ub3AnIDogJ21hcmdpbkJvdHRvbScsXG4gICAgICAgIG5vdFN0dWNrVG8gPSBzdGlja1RvVG9wID8gJ2JvdHRvbScgOiAndG9wJyxcbiAgICAgICAgdG9wT3JCb3R0b20gPSBpc1RvcCA/ICd0b3AnIDogJ2JvdHRvbSc7XG5cbiAgICBjc3NbbXJnbl0gPSAwO1xuXG4gICAgaWYoKGlzVG9wICYmICFzdGlja1RvVG9wKSB8fCAoc3RpY2tUb1RvcCAmJiAhaXNUb3ApKXtcbiAgICAgIGNzc1tzdGlja1RvXSA9IGFuY2hvclB0O1xuICAgICAgY3NzW25vdFN0dWNrVG9dID0gMDtcbiAgICB9ZWxzZXtcbiAgICAgIGNzc1tzdGlja1RvXSA9IDA7XG4gICAgICBjc3Nbbm90U3R1Y2tUb10gPSBhbmNob3JQdDtcbiAgICB9XG4gICAgXG4gICAgY3NzWydsZWZ0J10gPSAnJztcbiAgICB0aGlzLmlzU3R1Y2sgPSBmYWxzZTtcbiAgICB0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKCdpcy1zdHVjayBpcy1hdC0nICsgc3RpY2tUbylcbiAgICAgICAgICAgICAgICAgLmFkZENsYXNzKCdpcy1hbmNob3JlZCBpcy1hdC0nICsgdG9wT3JCb3R0b20pXG4gICAgICAgICAgICAgICAgIC5jc3MoY3NzKVxuICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICogRmlyZXMgd2hlbiB0aGUgJGVsZW1lbnQgaGFzIGJlY29tZSBhbmNob3JlZC5cbiAgICAgICAgICAgICAgICAgICogTmFtZXNwYWNlZCB0byBgdG9wYCBvciBgYm90dG9tYC5cbiAgICAgICAgICAgICAgICAgICogQGV2ZW50IFN0aWNreSN1bnN0dWNrZnJvbVxuICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgLnRyaWdnZXIoJ3N0aWNreS56Zi51bnN0dWNrZnJvbTonICsgdG9wT3JCb3R0b20pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSAkZWxlbWVudCBhbmQgJGNvbnRhaW5lciBzaXplcyBmb3IgcGx1Z2luLlxuICAgKiBDYWxscyBgX3NldEJyZWFrUG9pbnRzYC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2IgLSBvcHRpb25hbCBjYWxsYmFjayBmdW5jdGlvbiB0byBmaXJlIG9uIGNvbXBsZXRpb24gb2YgYF9zZXRCcmVha1BvaW50c2AuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBTdGlja3kucHJvdG90eXBlLl9zZXRTaXplcyA9IGZ1bmN0aW9uKGNiKXtcbiAgICB0aGlzLmNhblN0aWNrID0gRm91bmRhdGlvbi5NZWRpYVF1ZXJ5LmF0TGVhc3QodGhpcy5vcHRpb25zLnN0aWNreU9uKTtcbiAgICBpZighdGhpcy5jYW5TdGljayl7IGNiKCk7IH1cbiAgICB2YXIgX3RoaXMgPSB0aGlzLFxuICAgICAgICBuZXdFbGVtV2lkdGggPSB0aGlzLiRjb250YWluZXJbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGgsXG4gICAgICAgIGNvbXAgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLiRjb250YWluZXJbMF0pLFxuICAgICAgICBwZG5nID0gcGFyc2VJbnQoY29tcFsncGFkZGluZy1yaWdodCddLCAxMCk7XG5cbiAgICAvLyBjb25zb2xlLmxvZyh0aGlzLiRhbmNob3IpO1xuICAgIGlmKHRoaXMuJGFuY2hvciAmJiB0aGlzLiRhbmNob3IubGVuZ3RoKXtcbiAgICAgIHRoaXMuYW5jaG9ySGVpZ2h0ID0gdGhpcy4kYW5jaG9yWzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcbiAgICB9ZWxzZXtcbiAgICAgIHRoaXMuX3BhcnNlUG9pbnRzKCk7XG4gICAgfVxuXG4gICAgdGhpcy4kZWxlbWVudC5jc3Moe1xuICAgICAgJ21heC13aWR0aCc6IG5ld0VsZW1XaWR0aCAtIHBkbmcgKyAncHgnXG4gICAgfSk7XG5cbiAgICB2YXIgbmV3Q29udGFpbmVySGVpZ2h0ID0gdGhpcy4kZWxlbWVudFswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQgfHwgdGhpcy5jb250YWluZXJIZWlnaHQ7XG4gICAgdGhpcy5jb250YWluZXJIZWlnaHQgPSBuZXdDb250YWluZXJIZWlnaHQ7XG4gICAgdGhpcy4kY29udGFpbmVyLmNzcyh7XG4gICAgICBoZWlnaHQ6IG5ld0NvbnRhaW5lckhlaWdodFxuICAgIH0pO1xuICAgIHRoaXMuZWxlbUhlaWdodCA9IG5ld0NvbnRhaW5lckhlaWdodDtcblxuICBcdGlmICh0aGlzLmlzU3R1Y2spIHtcbiAgXHRcdHRoaXMuJGVsZW1lbnQuY3NzKHtcImxlZnRcIjp0aGlzLiRjb250YWluZXIub2Zmc2V0KCkubGVmdCArIHBhcnNlSW50KGNvbXBbJ3BhZGRpbmctbGVmdCddLCAxMCl9KTtcbiAgXHR9XG5cbiAgICB0aGlzLl9zZXRCcmVha1BvaW50cyhuZXdDb250YWluZXJIZWlnaHQsIGZ1bmN0aW9uKCl7XG4gICAgICBpZihjYil7IGNiKCk7IH1cbiAgICB9KTtcblxuICB9O1xuICAvKipcbiAgICogU2V0cyB0aGUgdXBwZXIgYW5kIGxvd2VyIGJyZWFrcG9pbnRzIGZvciB0aGUgZWxlbWVudCB0byBiZWNvbWUgc3RpY2t5L3Vuc3RpY2t5LlxuICAgKiBAcGFyYW0ge051bWJlcn0gZWxlbUhlaWdodCAtIHB4IHZhbHVlIGZvciBzdGlja3kuJGVsZW1lbnQgaGVpZ2h0LCBjYWxjdWxhdGVkIGJ5IGBfc2V0U2l6ZXNgLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYiAtIG9wdGlvbmFsIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBvbiBjb21wbGV0aW9uLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgU3RpY2t5LnByb3RvdHlwZS5fc2V0QnJlYWtQb2ludHMgPSBmdW5jdGlvbihlbGVtSGVpZ2h0LCBjYil7XG4gICAgaWYoIXRoaXMuY2FuU3RpY2spe1xuICAgICAgaWYoY2IpeyBjYigpOyB9XG4gICAgICBlbHNleyByZXR1cm4gZmFsc2U7IH1cbiAgICB9XG4gICAgdmFyIG1Ub3AgPSBlbUNhbGModGhpcy5vcHRpb25zLm1hcmdpblRvcCksXG4gICAgICAgIG1CdG0gPSBlbUNhbGModGhpcy5vcHRpb25zLm1hcmdpbkJvdHRvbSksXG4gICAgICAgIHRvcFBvaW50ID0gdGhpcy5wb2ludHMgPyB0aGlzLnBvaW50c1swXSA6IHRoaXMuJGFuY2hvci5vZmZzZXQoKS50b3AsXG4gICAgICAgIGJvdHRvbVBvaW50ID0gdGhpcy5wb2ludHMgPyB0aGlzLnBvaW50c1sxXSA6IHRvcFBvaW50ICsgdGhpcy5hbmNob3JIZWlnaHQsXG4gICAgICAgIC8vIHRvcFBvaW50ID0gdGhpcy4kYW5jaG9yLm9mZnNldCgpLnRvcCB8fCB0aGlzLnBvaW50c1swXSxcbiAgICAgICAgLy8gYm90dG9tUG9pbnQgPSB0b3BQb2ludCArIHRoaXMuYW5jaG9ySGVpZ2h0IHx8IHRoaXMucG9pbnRzWzFdLFxuICAgICAgICB3aW5IZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG5cbiAgICBpZih0aGlzLm9wdGlvbnMuc3RpY2tUbyA9PT0gJ3RvcCcpe1xuICAgICAgdG9wUG9pbnQgLT0gbVRvcDtcbiAgICAgIGJvdHRvbVBvaW50IC09IChlbGVtSGVpZ2h0ICsgbVRvcCk7XG4gICAgfWVsc2UgaWYodGhpcy5vcHRpb25zLnN0aWNrVG8gPT09ICdib3R0b20nKXtcbiAgICAgIHRvcFBvaW50IC09ICh3aW5IZWlnaHQgLSAoZWxlbUhlaWdodCArIG1CdG0pKTtcbiAgICAgIGJvdHRvbVBvaW50IC09ICh3aW5IZWlnaHQgLSBtQnRtKTtcbiAgICB9ZWxzZXtcbiAgICAgIC8vdGhpcyB3b3VsZCBiZSB0aGUgc3RpY2tUbzogYm90aCBvcHRpb24uLi4gdHJpY2t5XG4gICAgfVxuXG4gICAgdGhpcy50b3BQb2ludCA9IHRvcFBvaW50O1xuICAgIHRoaXMuYm90dG9tUG9pbnQgPSBib3R0b21Qb2ludDtcblxuICAgIGlmKGNiKXsgY2IoKTsgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBEZXN0cm95cyB0aGUgY3VycmVudCBzdGlja3kgZWxlbWVudC5cbiAgICogUmVzZXRzIHRoZSBlbGVtZW50IHRvIHRoZSB0b3AgcG9zaXRpb24gZmlyc3QuXG4gICAqIFJlbW92ZXMgZXZlbnQgbGlzdGVuZXJzLCBKUy1hZGRlZCBjc3MgcHJvcGVydGllcyBhbmQgY2xhc3NlcywgYW5kIHVud3JhcHMgdGhlICRlbGVtZW50IGlmIHRoZSBKUyBhZGRlZCB0aGUgJGNvbnRhaW5lci5cbiAgICogQGZ1bmN0aW9uXG4gICAqL1xuICBTdGlja3kucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpe1xuICAgIHRoaXMuX3JlbW92ZVN0aWNreSh0cnVlKTtcblxuICAgIHRoaXMuJGVsZW1lbnQucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLnN0aWNreUNsYXNzICsgJyBpcy1hbmNob3JlZCBpcy1hdC10b3AnKVxuICAgICAgICAgICAgICAgICAuY3NzKHtcbiAgICAgICAgICAgICAgICAgICBoZWlnaHQ6ICcnLFxuICAgICAgICAgICAgICAgICAgIHRvcDogJycsXG4gICAgICAgICAgICAgICAgICAgYm90dG9tOiAnJyxcbiAgICAgICAgICAgICAgICAgICAnbWF4LXdpZHRoJzogJydcbiAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgLm9mZigncmVzaXplbWUuemYudHJpZ2dlcicpO1xuXG4gICAgdGhpcy4kYW5jaG9yLm9mZignY2hhbmdlLnpmLnN0aWNreScpO1xuICAgICQod2luZG93KS5vZmYoJ3Njcm9sbC56Zi5zdGlja3knKTtcblxuICAgIGlmKHRoaXMud2FzV3JhcHBlZCl7XG4gICAgICB0aGlzLiRlbGVtZW50LnVud3JhcCgpO1xuICAgIH1lbHNle1xuICAgICAgdGhpcy4kY29udGFpbmVyLnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5jb250YWluZXJDbGFzcylcbiAgICAgICAgICAgICAgICAgICAgIC5jc3Moe1xuICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6ICcnXG4gICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICB9XG4gICAgRm91bmRhdGlvbi51bnJlZ2lzdGVyUGx1Z2luKHRoaXMpO1xuICB9O1xuICAvKipcbiAgICogSGVscGVyIGZ1bmN0aW9uIHRvIGNhbGN1bGF0ZSBlbSB2YWx1ZXNcbiAgICogQHBhcmFtIE51bWJlciB7ZW19IC0gbnVtYmVyIG9mIGVtJ3MgdG8gY2FsY3VsYXRlIGludG8gcGl4ZWxzXG4gICAqL1xuICBmdW5jdGlvbiBlbUNhbGMoZW0pe1xuICAgIHJldHVybiBwYXJzZUludCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5ib2R5LCBudWxsKS5mb250U2l6ZSwgMTApICogZW07XG4gIH1cbiAgRm91bmRhdGlvbi5wbHVnaW4oU3RpY2t5LCAnU3RpY2t5Jyk7XG59KGpRdWVyeSwgd2luZG93LkZvdW5kYXRpb24pO1xuXG4vKipcbiAqIFRhYnMgbW9kdWxlLlxuICogQG1vZHVsZSBmb3VuZGF0aW9uLnRhYnNcbiAqIEByZXF1aXJlcyBmb3VuZGF0aW9uLnV0aWwua2V5Ym9hcmRcbiAqIEByZXF1aXJlcyBmb3VuZGF0aW9uLnV0aWwudGltZXJBbmRJbWFnZUxvYWRlciBpZiB0YWJzIGNvbnRhaW4gaW1hZ2VzXG4gKi9cbiFmdW5jdGlvbigkLCBGb3VuZGF0aW9uKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBpbnN0YW5jZSBvZiB0YWJzLlxuICAgKiBAY2xhc3NcbiAgICogQGZpcmVzIFRhYnMjaW5pdFxuICAgKiBAcGFyYW0ge2pRdWVyeX0gZWxlbWVudCAtIGpRdWVyeSBvYmplY3QgdG8gbWFrZSBpbnRvIHRhYnMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gT3ZlcnJpZGVzIHRvIHRoZSBkZWZhdWx0IHBsdWdpbiBzZXR0aW5ncy5cbiAgICovXG4gIGZ1bmN0aW9uIFRhYnMoZWxlbWVudCwgb3B0aW9ucyl7XG4gICAgdGhpcy4kZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgdGhpcy5vcHRpb25zID0gJC5leHRlbmQoe30sIFRhYnMuZGVmYXVsdHMsIHRoaXMuJGVsZW1lbnQuZGF0YSgpLCBvcHRpb25zKTtcblxuICAgIHRoaXMuX2luaXQoKTtcbiAgICBGb3VuZGF0aW9uLnJlZ2lzdGVyUGx1Z2luKHRoaXMpO1xuICAgIEZvdW5kYXRpb24uS2V5Ym9hcmQucmVnaXN0ZXIoJ1RhYnMnLCB7XG4gICAgICAnRU5URVInOiAnb3BlbicsXG4gICAgICAnU1BBQ0UnOiAnb3BlbicsXG4gICAgICAnQVJST1dfUklHSFQnOiAnbmV4dCcsXG4gICAgICAnQVJST1dfVVAnOiAncHJldmlvdXMnLFxuICAgICAgJ0FSUk9XX0RPV04nOiAnbmV4dCcsXG4gICAgICAnQVJST1dfTEVGVCc6ICdwcmV2aW91cydcbiAgICAgIC8vICdUQUInOiAnbmV4dCcsXG4gICAgICAvLyAnU0hJRlRfVEFCJzogJ3ByZXZpb3VzJ1xuICAgIH0pO1xuICB9XG5cbiAgVGFicy5kZWZhdWx0cyA9IHtcbiAgICAvLyAvKipcbiAgICAvLyAgKiBBbGxvd3MgdGhlIEpTIHRvIGFsdGVyIHRoZSB1cmwgb2YgdGhlIHdpbmRvdy4gTm90IHlldCBpbXBsZW1lbnRlZC5cbiAgICAvLyAgKi9cbiAgICAvLyBkZWVwTGlua2luZzogZmFsc2UsXG4gICAgLy8gLyoqXG4gICAgLy8gICogSWYgZGVlcExpbmtpbmcgaXMgZW5hYmxlZCwgYWxsb3dzIHRoZSB3aW5kb3cgdG8gc2Nyb2xsIHRvIGNvbnRlbnQgaWYgd2luZG93IGlzIGxvYWRlZCB3aXRoIGEgaGFzaCBpbmNsdWRpbmcgYSB0YWItcGFuZSBpZFxuICAgIC8vICAqL1xuICAgIC8vIHNjcm9sbFRvQ29udGVudDogZmFsc2UsXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRoZSB3aW5kb3cgdG8gc2Nyb2xsIHRvIGNvbnRlbnQgb2YgYWN0aXZlIHBhbmUgb24gbG9hZCBpZiBzZXQgdG8gdHJ1ZS5cbiAgICAgKiBAb3B0aW9uXG4gICAgICogQGV4YW1wbGUgZmFsc2VcbiAgICAgKi9cbiAgICBhdXRvRm9jdXM6IGZhbHNlLFxuICAgIC8qKlxuICAgICAqIEFsbG93cyBrZXlib2FyZCBpbnB1dCB0byAnd3JhcCcgYXJvdW5kIHRoZSB0YWIgbGlua3MuXG4gICAgICogQG9wdGlvblxuICAgICAqIEBleGFtcGxlIHRydWVcbiAgICAgKi9cbiAgICB3cmFwT25LZXlzOiB0cnVlLFxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0aGUgdGFiIGNvbnRlbnQgcGFuZXMgdG8gbWF0Y2ggaGVpZ2h0cyBpZiBzZXQgdG8gdHJ1ZS5cbiAgICAgKiBAb3B0aW9uXG4gICAgICogQGV4YW1wbGUgZmFsc2VcbiAgICAgKi9cbiAgICBtYXRjaEhlaWdodDogZmFsc2UsXG4gICAgLyoqXG4gICAgICogQ2xhc3MgYXBwbGllZCB0byBgbGlgJ3MgaW4gdGFiIGxpbmsgbGlzdC5cbiAgICAgKiBAb3B0aW9uXG4gICAgICogQGV4YW1wbGUgJ3RhYnMtdGl0bGUnXG4gICAgICovXG4gICAgbGlua0NsYXNzOiAndGFicy10aXRsZScsXG4gICAgLy8gY29udGVudENsYXNzOiAndGFicy1jb250ZW50JyxcbiAgICAvKipcbiAgICAgKiBDbGFzcyBhcHBsaWVkIHRvIHRoZSBjb250ZW50IGNvbnRhaW5lcnMuXG4gICAgICogQG9wdGlvblxuICAgICAqIEBleGFtcGxlICd0YWJzLXBhbmVsJ1xuICAgICAqL1xuICAgIHBhbmVsQ2xhc3M6ICd0YWJzLXBhbmVsJ1xuICB9O1xuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyB0aGUgdGFicyBieSBzaG93aW5nIGFuZCBmb2N1c2luZyAoaWYgYXV0b0ZvY3VzPXRydWUpIHRoZSBwcmVzZXQgYWN0aXZlIHRhYi5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIFRhYnMucHJvdG90eXBlLl9pbml0ID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdGhpcy4kdGFiVGl0bGVzID0gdGhpcy4kZWxlbWVudC5maW5kKCcuJyArIHRoaXMub3B0aW9ucy5saW5rQ2xhc3MpO1xuICAgIHRoaXMuJHRhYkNvbnRlbnQgPSAkKCdbZGF0YS10YWJzLWNvbnRlbnQ9XCInICsgdGhpcy4kZWxlbWVudFswXS5pZCArICdcIl0nKTtcblxuICAgIHRoaXMuJHRhYlRpdGxlcy5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgJGVsZW0gPSAkKHRoaXMpLFxuICAgICAgICAgICRsaW5rID0gJGVsZW0uZmluZCgnYScpLFxuICAgICAgICAgIGlzQWN0aXZlID0gJGVsZW0uaGFzQ2xhc3MoJ2lzLWFjdGl2ZScpLFxuICAgICAgICAgIGhhc2ggPSAkbGluay5hdHRyKCdocmVmJykuc2xpY2UoMSksXG4gICAgICAgICAgbGlua0lkID0gaGFzaCArICctbGFiZWwnLFxuICAgICAgICAgICR0YWJDb250ZW50ID0gJChoYXNoKTtcblxuICAgICAgJGVsZW0uYXR0cih7J3JvbGUnOiAncHJlc2VudGF0aW9uJ30pO1xuXG4gICAgICAkbGluay5hdHRyKHtcbiAgICAgICAgJ3JvbGUnOiAndGFiJyxcbiAgICAgICAgJ2FyaWEtY29udHJvbHMnOiBoYXNoLFxuICAgICAgICAnYXJpYS1zZWxlY3RlZCc6IGlzQWN0aXZlLFxuICAgICAgICAnaWQnOiBsaW5rSWRcbiAgICAgIH0pO1xuXG4gICAgICAkdGFiQ29udGVudC5hdHRyKHtcbiAgICAgICAgJ3JvbGUnOiAndGFicGFuZWwnLFxuICAgICAgICAnYXJpYS1oaWRkZW4nOiAhaXNBY3RpdmUsXG4gICAgICAgICdhcmlhLWxhYmVsbGVkYnknOiBsaW5rSWRcbiAgICAgIH0pO1xuXG4gICAgICBpZihpc0FjdGl2ZSAmJiBfdGhpcy5vcHRpb25zLmF1dG9Gb2N1cyl7XG4gICAgICAgICRsaW5rLmZvY3VzKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYodGhpcy5vcHRpb25zLm1hdGNoSGVpZ2h0KXtcbiAgICAgIHZhciAkaW1hZ2VzID0gdGhpcy4kdGFiQ29udGVudC5maW5kKCdpbWcnKTtcbiAgICAgIGlmKCRpbWFnZXMubGVuZ3RoKXtcbiAgICAgICAgRm91bmRhdGlvbi5vbkltYWdlc0xvYWRlZCgkaW1hZ2VzLCB0aGlzLl9zZXRIZWlnaHQuYmluZCh0aGlzKSk7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgdGhpcy5fc2V0SGVpZ2h0KCk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuX2V2ZW50cygpO1xuICB9O1xuICAvKipcbiAgICogQWRkcyBldmVudCBoYW5kbGVycyBmb3IgaXRlbXMgd2l0aGluIHRoZSB0YWJzLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgIFRhYnMucHJvdG90eXBlLl9ldmVudHMgPSBmdW5jdGlvbigpe1xuICAgIHRoaXMuX2FkZEtleUhhbmRsZXIoKTtcbiAgICB0aGlzLl9hZGRDbGlja0hhbmRsZXIoKTtcbiAgICBpZih0aGlzLm9wdGlvbnMubWF0Y2hIZWlnaHQpe1xuICAgICAgJCh3aW5kb3cpLm9uKCdjaGFuZ2VkLnpmLm1lZGlhcXVlcnknLCB0aGlzLl9zZXRIZWlnaHQuYmluZCh0aGlzKSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBBZGRzIGNsaWNrIGhhbmRsZXJzIGZvciBpdGVtcyB3aXRoaW4gdGhlIHRhYnMuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBUYWJzLnByb3RvdHlwZS5fYWRkQ2xpY2tIYW5kbGVyID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHRoaXMuJGVsZW1lbnQub2ZmKCdjbGljay56Zi50YWJzJylcbiAgICAgICAgICAgICAgICAgICAub24oJ2NsaWNrLnpmLnRhYnMnLCAnLicgKyB0aGlzLm9wdGlvbnMubGlua0NsYXNzLCBmdW5jdGlvbihlKXtcbiAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICBpZigkKHRoaXMpLmhhc0NsYXNzKCdpcy1hY3RpdmUnKSl7XG4gICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9oYW5kbGVUYWJDaGFuZ2UoJCh0aGlzKSk7XG4gICAgICAgICAgICAgICAgICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEFkZHMga2V5Ym9hcmQgZXZlbnQgaGFuZGxlcnMgZm9yIGl0ZW1zIHdpdGhpbiB0aGUgdGFicy5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIFRhYnMucHJvdG90eXBlLl9hZGRLZXlIYW5kbGVyID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHZhciAkZmlyc3RUYWIgPSBfdGhpcy4kZWxlbWVudC5maW5kKCdsaTpmaXJzdC1vZi10eXBlJyk7XG4gICAgdmFyICRsYXN0VGFiID0gX3RoaXMuJGVsZW1lbnQuZmluZCgnbGk6bGFzdC1vZi10eXBlJyk7XG5cbiAgICB0aGlzLiR0YWJUaXRsZXMub2ZmKCdrZXlkb3duLnpmLnRhYnMnKS5vbigna2V5ZG93bi56Zi50YWJzJywgZnVuY3Rpb24oZSl7XG4gICAgICBpZihlLndoaWNoID09PSA5KSByZXR1cm47XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICB2YXIgJGVsZW1lbnQgPSAkKHRoaXMpLFxuICAgICAgICAkZWxlbWVudHMgPSAkZWxlbWVudC5wYXJlbnQoJ3VsJykuY2hpbGRyZW4oJ2xpJyksXG4gICAgICAgICRwcmV2RWxlbWVudCxcbiAgICAgICAgJG5leHRFbGVtZW50O1xuXG4gICAgICAkZWxlbWVudHMuZWFjaChmdW5jdGlvbihpKSB7XG4gICAgICAgIGlmICgkKHRoaXMpLmlzKCRlbGVtZW50KSkge1xuICAgICAgICAgIGlmIChfdGhpcy5vcHRpb25zLndyYXBPbktleXMpIHtcbiAgICAgICAgICAgICRwcmV2RWxlbWVudCA9IGkgPT09IDAgPyAkZWxlbWVudHMubGFzdCgpIDogJGVsZW1lbnRzLmVxKGktMSk7XG4gICAgICAgICAgICAkbmV4dEVsZW1lbnQgPSBpID09PSAkZWxlbWVudHMubGVuZ3RoIC0xID8gJGVsZW1lbnRzLmZpcnN0KCkgOiAkZWxlbWVudHMuZXEoaSsxKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJHByZXZFbGVtZW50ID0gJGVsZW1lbnRzLmVxKE1hdGgubWF4KDAsIGktMSkpO1xuICAgICAgICAgICAgJG5leHRFbGVtZW50ID0gJGVsZW1lbnRzLmVxKE1hdGgubWluKGkrMSwgJGVsZW1lbnRzLmxlbmd0aC0xKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIGhhbmRsZSBrZXlib2FyZCBldmVudCB3aXRoIGtleWJvYXJkIHV0aWxcbiAgICAgIEZvdW5kYXRpb24uS2V5Ym9hcmQuaGFuZGxlS2V5KGUsIF90aGlzLCB7XG4gICAgICAgIG9wZW46IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICRlbGVtZW50LmZpbmQoJ1tyb2xlPVwidGFiXCJdJykuZm9jdXMoKTtcbiAgICAgICAgICBfdGhpcy5faGFuZGxlVGFiQ2hhbmdlKCRlbGVtZW50KTtcbiAgICAgICAgfSxcbiAgICAgICAgcHJldmlvdXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICRwcmV2RWxlbWVudC5maW5kKCdbcm9sZT1cInRhYlwiXScpLmZvY3VzKCk7XG4gICAgICAgICAgX3RoaXMuX2hhbmRsZVRhYkNoYW5nZSgkcHJldkVsZW1lbnQpO1xuICAgICAgICB9LFxuICAgICAgICBuZXh0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAkbmV4dEVsZW1lbnQuZmluZCgnW3JvbGU9XCJ0YWJcIl0nKS5mb2N1cygpO1xuICAgICAgICAgIF90aGlzLl9oYW5kbGVUYWJDaGFuZ2UoJG5leHRFbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cblxuICAvKipcbiAgICogT3BlbnMgdGhlIHRhYiBgJHRhcmdldENvbnRlbnRgIGRlZmluZWQgYnkgYCR0YXJnZXRgLlxuICAgKiBAcGFyYW0ge2pRdWVyeX0gJHRhcmdldCAtIFRhYiB0byBvcGVuLlxuICAgKiBAZmlyZXMgVGFicyNjaGFuZ2VcbiAgICogQGZ1bmN0aW9uXG4gICAqL1xuICBUYWJzLnByb3RvdHlwZS5faGFuZGxlVGFiQ2hhbmdlID0gZnVuY3Rpb24oJHRhcmdldCl7XG4gICAgdmFyICR0YWJMaW5rID0gJHRhcmdldC5maW5kKCdbcm9sZT1cInRhYlwiXScpLFxuICAgICAgICBoYXNoID0gJHRhYkxpbmsuYXR0cignaHJlZicpLFxuICAgICAgICAkdGFyZ2V0Q29udGVudCA9ICQoaGFzaCksXG5cbiAgICAgICAgJG9sZFRhYiA9IHRoaXMuJGVsZW1lbnQuZmluZCgnLicgKyB0aGlzLm9wdGlvbnMubGlua0NsYXNzICsgJy5pcy1hY3RpdmUnKVxuICAgICAgICAgICAgICAgICAgLnJlbW92ZUNsYXNzKCdpcy1hY3RpdmUnKS5maW5kKCdbcm9sZT1cInRhYlwiXScpXG4gICAgICAgICAgICAgICAgICAuYXR0cih7J2FyaWEtc2VsZWN0ZWQnOiAnZmFsc2UnfSkuYXR0cignaHJlZicpO1xuXG4gICAgJCgkb2xkVGFiKS5yZW1vdmVDbGFzcygnaXMtYWN0aXZlJykuYXR0cih7J2FyaWEtaGlkZGVuJzogJ3RydWUnfSk7XG5cbiAgICAkdGFyZ2V0LmFkZENsYXNzKCdpcy1hY3RpdmUnKTtcblxuICAgICR0YWJMaW5rLmF0dHIoeydhcmlhLXNlbGVjdGVkJzogJ3RydWUnfSk7XG5cbiAgICAkdGFyZ2V0Q29udGVudFxuICAgICAgLmFkZENsYXNzKCdpcy1hY3RpdmUnKVxuICAgICAgLmF0dHIoeydhcmlhLWhpZGRlbic6ICdmYWxzZSd9KTtcblxuICAgIC8qKlxuICAgICAqIEZpcmVzIHdoZW4gdGhlIHBsdWdpbiBoYXMgc3VjY2Vzc2Z1bGx5IGNoYW5nZWQgdGFicy5cbiAgICAgKiBAZXZlbnQgVGFicyNjaGFuZ2VcbiAgICAgKi9cbiAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoJ2NoYW5nZS56Zi50YWJzJywgWyR0YXJnZXRdKTtcbiAgICAvLyBGb3VuZGF0aW9uLnJlZmxvdyh0aGlzLiRlbGVtZW50LCAndGFicycpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBQdWJsaWMgbWV0aG9kIGZvciBzZWxlY3RpbmcgYSBjb250ZW50IHBhbmUgdG8gZGlzcGxheS5cbiAgICogQHBhcmFtIHtqUXVlcnkgfCBTdHJpbmd9IGVsZW0gLSBqUXVlcnkgb2JqZWN0IG9yIHN0cmluZyBvZiB0aGUgaWQgb2YgdGhlIHBhbmUgdG8gZGlzcGxheS5cbiAgICogQGZ1bmN0aW9uXG4gICAqL1xuICBUYWJzLnByb3RvdHlwZS5zZWxlY3RUYWIgPSBmdW5jdGlvbihlbGVtKXtcbiAgICB2YXIgaWRTdHI7XG4gICAgaWYodHlwZW9mIGVsZW0gPT09ICdvYmplY3QnKXtcbiAgICAgIGlkU3RyID0gZWxlbVswXS5pZDtcbiAgICB9ZWxzZXtcbiAgICAgIGlkU3RyID0gZWxlbTtcbiAgICB9XG5cbiAgICBpZihpZFN0ci5pbmRleE9mKCcjJykgPCAwKXtcbiAgICAgIGlkU3RyID0gJyMnICsgaWRTdHI7XG4gICAgfVxuICAgIHZhciAkdGFyZ2V0ID0gdGhpcy4kdGFiVGl0bGVzLmZpbmQoJ1tocmVmPVwiJyArIGlkU3RyICsgJ1wiXScpLnBhcmVudCgnLicgKyB0aGlzLm9wdGlvbnMubGlua0NsYXNzKTtcblxuICAgIHRoaXMuX2hhbmRsZVRhYkNoYW5nZSgkdGFyZ2V0KTtcbiAgfTtcbiAgLyoqXG4gICAqIFNldHMgdGhlIGhlaWdodCBvZiBlYWNoIHBhbmVsIHRvIHRoZSBoZWlnaHQgb2YgdGhlIHRhbGxlc3QgcGFuZWwuXG4gICAqIElmIGVuYWJsZWQgaW4gb3B0aW9ucywgZ2V0cyBjYWxsZWQgb24gbWVkaWEgcXVlcnkgY2hhbmdlLlxuICAgKiBJZiBsb2FkaW5nIGNvbnRlbnQgdmlhIGV4dGVybmFsIHNvdXJjZSwgY2FuIGJlIGNhbGxlZCBkaXJlY3RseSBvciB3aXRoIF9yZWZsb3cuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgVGFicy5wcm90b3R5cGUuX3NldEhlaWdodCA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIG1heCA9IDA7XG4gICAgdGhpcy4kdGFiQ29udGVudC5maW5kKCcuJyArIHRoaXMub3B0aW9ucy5wYW5lbENsYXNzKVxuICAgICAgICAgICAgICAgICAgICAuY3NzKCdoZWlnaHQnLCAnJylcbiAgICAgICAgICAgICAgICAgICAgLmVhY2goZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFuZWwgPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBpc0FjdGl2ZSA9IHBhbmVsLmhhc0NsYXNzKCdpcy1hY3RpdmUnKTtcblxuICAgICAgICAgICAgICAgICAgICAgIGlmKCFpc0FjdGl2ZSl7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYW5lbC5jc3Moeyd2aXNpYmlsaXR5JzogJ2hpZGRlbicsICdkaXNwbGF5JzogJ2Jsb2NrJ30pO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHRoaXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xuXG4gICAgICAgICAgICAgICAgICAgICAgaWYoIWlzQWN0aXZlKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhbmVsLmNzcyh7J3Zpc2liaWxpdHknOiAnJywgJ2Rpc3BsYXknOiAnJ30pO1xuICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgIG1heCA9IHRlbXAgPiBtYXggPyB0ZW1wIDogbWF4O1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuY3NzKCdoZWlnaHQnLCBtYXggKyAncHgnKTtcbiAgfTtcblxuICAvKipcbiAgICogRGVzdHJveXMgYW4gaW5zdGFuY2Ugb2YgYW4gdGFicy5cbiAgICogQGZpcmVzIFRhYnMjZGVzdHJveWVkXG4gICAqL1xuICBUYWJzLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy4kZWxlbWVudC5maW5kKCcuJyArIHRoaXMub3B0aW9ucy5saW5rQ2xhc3MpXG4gICAgICAgICAgICAgICAgIC5vZmYoJy56Zi50YWJzJykuaGlkZSgpLmVuZCgpXG4gICAgICAgICAgICAgICAgIC5maW5kKCcuJyArIHRoaXMub3B0aW9ucy5wYW5lbENsYXNzKVxuICAgICAgICAgICAgICAgICAuaGlkZSgpO1xuICAgIGlmKHRoaXMub3B0aW9ucy5tYXRjaEhlaWdodCl7XG4gICAgICAkKHdpbmRvdykub2ZmKCdjaGFuZ2VkLnpmLm1lZGlhcXVlcnknKTtcbiAgICB9XG4gICAgRm91bmRhdGlvbi51bnJlZ2lzdGVyUGx1Z2luKHRoaXMpO1xuICB9O1xuXG4gIEZvdW5kYXRpb24ucGx1Z2luKFRhYnMsICdUYWJzJyk7XG5cbiAgZnVuY3Rpb24gY2hlY2tDbGFzcygkZWxlbSl7XG4gICAgcmV0dXJuICRlbGVtLmhhc0NsYXNzKCdpcy1hY3RpdmUnKTtcbiAgfVxufShqUXVlcnksIHdpbmRvdy5Gb3VuZGF0aW9uKTtcblxuLyoqXG4gKiBUb2dnbGVyIG1vZHVsZS5cbiAqIEBtb2R1bGUgZm91bmRhdGlvbi50b2dnbGVyXG4gKiBAcmVxdWlyZXMgZm91bmRhdGlvbi51dGlsLm1vdGlvblxuICovXG5cbiFmdW5jdGlvbihGb3VuZGF0aW9uLCAkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBpbnN0YW5jZSBvZiBUb2dnbGVyLlxuICAgKiBAY2xhc3NcbiAgICogQGZpcmVzIFRvZ2dsZXIjaW5pdFxuICAgKiBAcGFyYW0ge09iamVjdH0gZWxlbWVudCAtIGpRdWVyeSBvYmplY3QgdG8gYWRkIHRoZSB0cmlnZ2VyIHRvLlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIE92ZXJyaWRlcyB0byB0aGUgZGVmYXVsdCBwbHVnaW4gc2V0dGluZ3MuXG4gICAqL1xuICBmdW5jdGlvbiBUb2dnbGVyKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLiRlbGVtZW50ID0gZWxlbWVudDtcbiAgICB0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgVG9nZ2xlci5kZWZhdWx0cywgZWxlbWVudC5kYXRhKCksIG9wdGlvbnMpO1xuICAgIHRoaXMuY2xhc3NOYW1lID0gJyc7XG5cbiAgICB0aGlzLl9pbml0KCk7XG4gICAgdGhpcy5fZXZlbnRzKCk7XG5cbiAgICBGb3VuZGF0aW9uLnJlZ2lzdGVyUGx1Z2luKHRoaXMpO1xuICB9XG5cbiAgVG9nZ2xlci5kZWZhdWx0cyA9IHtcbiAgICAvKipcbiAgICAgKiBUZWxscyB0aGUgcGx1Z2luIGlmIHRoZSBlbGVtZW50IHNob3VsZCBhbmltYXRlZCB3aGVuIHRvZ2dsZWQuXG4gICAgICogQG9wdGlvblxuICAgICAqIEBleGFtcGxlIGZhbHNlXG4gICAgICovXG4gICAgYW5pbWF0ZTogZmFsc2VcbiAgfTtcblxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgdGhlIFRvZ2dsZXIgcGx1Z2luIGJ5IHBhcnNpbmcgdGhlIHRvZ2dsZSBjbGFzcyBmcm9tIGRhdGEtdG9nZ2xlciwgb3IgYW5pbWF0aW9uIGNsYXNzZXMgZnJvbSBkYXRhLWFuaW1hdGUuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgVG9nZ2xlci5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaW5wdXQ7XG4gICAgLy8gUGFyc2UgYW5pbWF0aW9uIGNsYXNzZXMgaWYgdGhleSB3ZXJlIHNldFxuICAgIGlmICh0aGlzLm9wdGlvbnMuYW5pbWF0ZSkge1xuICAgICAgaW5wdXQgPSB0aGlzLm9wdGlvbnMuYW5pbWF0ZS5zcGxpdCgnICcpO1xuXG4gICAgICB0aGlzLmFuaW1hdGlvbkluID0gaW5wdXRbMF07XG4gICAgICB0aGlzLmFuaW1hdGlvbk91dCA9IGlucHV0WzFdIHx8IG51bGw7XG4gICAgfVxuICAgIC8vIE90aGVyd2lzZSwgcGFyc2UgdG9nZ2xlIGNsYXNzXG4gICAgZWxzZSB7XG4gICAgICBpbnB1dCA9IHRoaXMuJGVsZW1lbnQuZGF0YSgndG9nZ2xlcicpO1xuXG4gICAgICAvLyBBbGxvdyBmb3IgYSAuIGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIHN0cmluZ1xuICAgICAgaWYgKGlucHV0WzBdID09PSAnLicpIHtcbiAgICAgICAgdGhpcy5jbGFzc05hbWUgPSBpbnB1dC5zbGljZSgxKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLmNsYXNzTmFtZSA9IGlucHV0O1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEFkZCBBUklBIGF0dHJpYnV0ZXMgdG8gdHJpZ2dlcnNcbiAgICB2YXIgaWQgPSB0aGlzLiRlbGVtZW50WzBdLmlkO1xuICAgICQoJ1tkYXRhLW9wZW49XCInK2lkKydcIl0sIFtkYXRhLWNsb3NlPVwiJytpZCsnXCJdLCBbZGF0YS10b2dnbGU9XCInK2lkKydcIl0nKVxuICAgICAgLmF0dHIoJ2FyaWEtY29udHJvbHMnLCBpZCk7XG5cbiAgICAvLyBJZiB0aGUgdGFyZ2V0IGlzIGhpZGRlbiwgYWRkIGFyaWEtaGlkZGVuXG4gICAgaWYgKHRoaXMuJGVsZW1lbnQuaXMoJzpoaWRkZW4nKSkge1xuICAgICAgdGhpcy4kZWxlbWVudC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJyk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyBldmVudHMgZm9yIHRoZSB0b2dnbGUgdHJpZ2dlci5cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBUb2dnbGVyLnByb3RvdHlwZS5fZXZlbnRzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHRoaXMuJGVsZW1lbnQub24oJ3RvZ2dsZS56Zi50cmlnZ2VyJywgZnVuY3Rpb24oKSB7XG4gICAgICBfdGhpcy50b2dnbGUoKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogVG9nZ2xlcyB0aGUgdGFyZ2V0IGNsYXNzIG9uIHRoZSB0YXJnZXQgZWxlbWVudC4gQW4gZXZlbnQgaXMgZmlyZWQgZnJvbSB0aGUgb3JpZ2luYWwgdHJpZ2dlciBkZXBlbmRpbmcgb24gaWYgdGhlIHJlc3VsdGFudCBzdGF0ZSB3YXMgXCJvblwiIG9yIFwib2ZmXCIuXG4gICAqIEBmdW5jdGlvblxuICAgKiBAZmlyZXMgVG9nZ2xlciNvblxuICAgKiBAZmlyZXMgVG9nZ2xlciNvZmZcbiAgICovXG4gIFRvZ2dsZXIucHJvdG90eXBlLnRvZ2dsZSA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICghdGhpcy5vcHRpb25zLmFuaW1hdGUpIHtcbiAgICAgIHRoaXMuX3RvZ2dsZUNsYXNzKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5fdG9nZ2xlQW5pbWF0ZSgpO1xuICAgIH1cbiAgfTtcblxuICBUb2dnbGVyLnByb3RvdHlwZS5fdG9nZ2xlQ2xhc3MgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHRoaXMuJGVsZW1lbnQudG9nZ2xlQ2xhc3ModGhpcy5jbGFzc05hbWUpO1xuXG4gICAgaWYgKHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3ModGhpcy5jbGFzc05hbWUpKSB7XG4gICAgICAvKipcbiAgICAgICAqIEZpcmVzIGlmIHRoZSB0YXJnZXQgZWxlbWVudCBoYXMgdGhlIGNsYXNzIGFmdGVyIGEgdG9nZ2xlLlxuICAgICAgICogQGV2ZW50IFRvZ2dsZXIjb25cbiAgICAgICAqL1xuICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKCdvbi56Zi50b2dnbGVyJyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgLyoqXG4gICAgICAgKiBGaXJlcyBpZiB0aGUgdGFyZ2V0IGVsZW1lbnQgZG9lcyBub3QgaGF2ZSB0aGUgY2xhc3MgYWZ0ZXIgYSB0b2dnbGUuXG4gICAgICAgKiBAZXZlbnQgVG9nZ2xlciNvZmZcbiAgICAgICAqL1xuICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKCdvZmYuemYudG9nZ2xlcicpO1xuICAgIH1cblxuICAgIF90aGlzLl91cGRhdGVBUklBKCk7XG4gIH07XG5cbiAgVG9nZ2xlci5wcm90b3R5cGUuX3RvZ2dsZUFuaW1hdGUgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgaWYgKHRoaXMuJGVsZW1lbnQuaXMoJzpoaWRkZW4nKSkge1xuICAgICAgRm91bmRhdGlvbi5Nb3Rpb24uYW5pbWF0ZUluKHRoaXMuJGVsZW1lbnQsIHRoaXMuYW5pbWF0aW9uSW4sIGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnRyaWdnZXIoJ29uLnpmLnRvZ2dsZXInKTtcbiAgICAgICAgX3RoaXMuX3VwZGF0ZUFSSUEoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIEZvdW5kYXRpb24uTW90aW9uLmFuaW1hdGVPdXQodGhpcy4kZWxlbWVudCwgdGhpcy5hbmltYXRpb25PdXQsIGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnRyaWdnZXIoJ29mZi56Zi50b2dnbGVyJyk7XG4gICAgICAgIF90aGlzLl91cGRhdGVBUklBKCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgVG9nZ2xlci5wcm90b3R5cGUuX3VwZGF0ZUFSSUEgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy4kZWxlbWVudC5pcygnOmhpZGRlbicpKSB7XG4gICAgICB0aGlzLiRlbGVtZW50LmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLiRlbGVtZW50LmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCAndHJ1ZScpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogRGVzdHJveXMgdGhlIGluc3RhbmNlIG9mIFRvZ2dsZXIgb24gdGhlIGVsZW1lbnQuXG4gICAqIEBmdW5jdGlvblxuICAgKi9cbiAgVG9nZ2xlci5wcm90b3R5cGUuZGVzdHJveT0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy4kZWxlbWVudC5vZmYoJy56Zi50b2dnbGVyJyk7XG4gICAgRm91bmRhdGlvbi51bnJlZ2lzdGVyUGx1Z2luKHRoaXMpO1xuICB9O1xuXG4gIEZvdW5kYXRpb24ucGx1Z2luKFRvZ2dsZXIsICdUb2dnbGVyJyk7XG5cbiAgLy8gRXhwb3J0cyBmb3IgQU1EL0Jyb3dzZXJpZnlcbiAgaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBtb2R1bGUuZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBUb2dnbGVyO1xuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJylcbiAgICBkZWZpbmUoWydmb3VuZGF0aW9uJ10sIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIFRvZ2dsZXI7XG4gICAgfSk7XG5cbn0oRm91bmRhdGlvbiwgalF1ZXJ5KTtcblxuLyoqXG4gKiBUb29sdGlwIG1vZHVsZS5cbiAqIEBtb2R1bGUgZm91bmRhdGlvbi50b29sdGlwXG4gKiBAcmVxdWlyZXMgZm91bmRhdGlvbi51dGlsLmJveFxuICogQHJlcXVpcmVzIGZvdW5kYXRpb24udXRpbC50cmlnZ2Vyc1xuICovXG4hZnVuY3Rpb24oJCwgZG9jdW1lbnQsIEZvdW5kYXRpb24pe1xuICAndXNlIHN0cmljdCc7XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgaW5zdGFuY2Ugb2YgYSBUb29sdGlwLlxuICAgKiBAY2xhc3NcbiAgICogQGZpcmVzIFRvb2x0aXAjaW5pdFxuICAgKiBAcGFyYW0ge2pRdWVyeX0gZWxlbWVudCAtIGpRdWVyeSBvYmplY3QgdG8gYXR0YWNoIGEgdG9vbHRpcCB0by5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBvYmplY3QgdG8gZXh0ZW5kIHRoZSBkZWZhdWx0IGNvbmZpZ3VyYXRpb24uXG4gICAqL1xuICBmdW5jdGlvbiBUb29sdGlwKGVsZW1lbnQsIG9wdGlvbnMpe1xuICAgIHRoaXMuJGVsZW1lbnQgPSBlbGVtZW50O1xuICAgIHRoaXMub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBUb29sdGlwLmRlZmF1bHRzLCB0aGlzLiRlbGVtZW50LmRhdGEoKSwgb3B0aW9ucyk7XG5cbiAgICB0aGlzLmlzQWN0aXZlID0gZmFsc2U7XG4gICAgdGhpcy5pc0NsaWNrID0gZmFsc2U7XG4gICAgdGhpcy5faW5pdCgpO1xuXG4gICAgRm91bmRhdGlvbi5yZWdpc3RlclBsdWdpbih0aGlzKTtcbiAgfVxuXG4gIFRvb2x0aXAuZGVmYXVsdHMgPSB7XG4gICAgZGlzYWJsZUZvclRvdWNoOiBmYWxzZSxcbiAgICAvKipcbiAgICAgKiBUaW1lLCBpbiBtcywgYmVmb3JlIGEgdG9vbHRpcCBzaG91bGQgb3BlbiBvbiBob3Zlci5cbiAgICAgKiBAb3B0aW9uXG4gICAgICogQGV4YW1wbGUgMjAwXG4gICAgICovXG4gICAgaG92ZXJEZWxheTogMjAwLFxuICAgIC8qKlxuICAgICAqIFRpbWUsIGluIG1zLCBhIHRvb2x0aXAgc2hvdWxkIHRha2UgdG8gZmFkZSBpbnRvIHZpZXcuXG4gICAgICogQG9wdGlvblxuICAgICAqIEBleGFtcGxlIDE1MFxuICAgICAqL1xuICAgIGZhZGVJbkR1cmF0aW9uOiAxNTAsXG4gICAgLyoqXG4gICAgICogVGltZSwgaW4gbXMsIGEgdG9vbHRpcCBzaG91bGQgdGFrZSB0byBmYWRlIG91dCBvZiB2aWV3LlxuICAgICAqIEBvcHRpb25cbiAgICAgKiBAZXhhbXBsZSAxNTBcbiAgICAgKi9cbiAgICBmYWRlT3V0RHVyYXRpb246IDE1MCxcbiAgICAvKipcbiAgICAgKiBEaXNhYmxlcyBob3ZlciBldmVudHMgZnJvbSBvcGVuaW5nIHRoZSB0b29sdGlwIGlmIHNldCB0byB0cnVlXG4gICAgICogQG9wdGlvblxuICAgICAqIEBleGFtcGxlIGZhbHNlXG4gICAgICovXG4gICAgZGlzYWJsZUhvdmVyOiBmYWxzZSxcbiAgICAvKipcbiAgICAgKiBPcHRpb25hbCBhZGR0aW9uYWwgY2xhc3NlcyB0byBhcHBseSB0byB0aGUgdG9vbHRpcCB0ZW1wbGF0ZSBvbiBpbml0LlxuICAgICAqIEBvcHRpb25cbiAgICAgKiBAZXhhbXBsZSAnbXktY29vbC10aXAtY2xhc3MnXG4gICAgICovXG4gICAgdGVtcGxhdGVDbGFzc2VzOiAnJyxcbiAgICAvKipcbiAgICAgKiBOb24tb3B0aW9uYWwgY2xhc3MgYWRkZWQgdG8gdG9vbHRpcCB0ZW1wbGF0ZXMuIEZvdW5kYXRpb24gZGVmYXVsdCBpcyAndG9vbHRpcCcuXG4gICAgICogQG9wdGlvblxuICAgICAqIEBleGFtcGxlICd0b29sdGlwJ1xuICAgICAqL1xuICAgIHRvb2x0aXBDbGFzczogJ3Rvb2x0aXAnLFxuICAgIC8qKlxuICAgICAqIENsYXNzIGFwcGxpZWQgdG8gdGhlIHRvb2x0aXAgYW5jaG9yIGVsZW1lbnQuXG4gICAgICogQG9wdGlvblxuICAgICAqIEBleGFtcGxlICdoYXMtdGlwJ1xuICAgICAqL1xuICAgIHRyaWdnZXJDbGFzczogJ2hhcy10aXAnLFxuICAgIC8qKlxuICAgICAqIE1pbmltdW0gYnJlYWtwb2ludCBzaXplIGF0IHdoaWNoIHRvIG9wZW4gdGhlIHRvb2x0aXAuXG4gICAgICogQG9wdGlvblxuICAgICAqIEBleGFtcGxlICdzbWFsbCdcbiAgICAgKi9cbiAgICBzaG93T246ICdzbWFsbCcsXG4gICAgLyoqXG4gICAgICogQ3VzdG9tIHRlbXBsYXRlIHRvIGJlIHVzZWQgdG8gZ2VuZXJhdGUgbWFya3VwIGZvciB0b29sdGlwLlxuICAgICAqIEBvcHRpb25cbiAgICAgKiBAZXhhbXBsZSAnPGRpdiBjbGFzcz1cInRvb2x0aXBcIj48L2Rpdj4nXG4gICAgICovXG4gICAgdGVtcGxhdGU6ICcnLFxuICAgIC8qKlxuICAgICAqIFRleHQgZGlzcGxheWVkIGluIHRoZSB0b29sdGlwIHRlbXBsYXRlIG9uIG9wZW4uXG4gICAgICogQG9wdGlvblxuICAgICAqIEBleGFtcGxlICdTb21lIGNvb2wgc3BhY2UgZmFjdCBoZXJlLidcbiAgICAgKi9cbiAgICB0aXBUZXh0OiAnJyxcbiAgICB0b3VjaENsb3NlVGV4dDogJ1RhcCB0byBjbG9zZS4nLFxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0aGUgdG9vbHRpcCB0byByZW1haW4gb3BlbiBpZiB0cmlnZ2VyZWQgd2l0aCBhIGNsaWNrIG9yIHRvdWNoIGV2ZW50LlxuICAgICAqIEBvcHRpb25cbiAgICAgKiBAZXhhbXBsZSB0cnVlXG4gICAgICovXG4gICAgY2xpY2tPcGVuOiB0cnVlLFxuICAgIC8qKlxuICAgICAqIEFkZGl0aW9uYWwgcG9zaXRpb25pbmcgY2xhc3Nlcywgc2V0IGJ5IHRoZSBKU1xuICAgICAqIEBvcHRpb25cbiAgICAgKiBAZXhhbXBsZSAndG9wJ1xuICAgICAqL1xuICAgIHBvc2l0aW9uQ2xhc3M6ICcnLFxuICAgIC8qKlxuICAgICAqIERpc3RhbmNlLCBpbiBwaXhlbHMsIHRoZSB0ZW1wbGF0ZSBzaG91bGQgcHVzaCBhd2F5IGZyb20gdGhlIGFuY2hvciBvbiB0aGUgWSBheGlzLlxuICAgICAqIEBvcHRpb25cbiAgICAgKiBAZXhhbXBsZSAxMFxuICAgICAqL1xuICAgIHZPZmZzZXQ6IDEwLFxuICAgIC8qKlxuICAgICAqIERpc3RhbmNlLCBpbiBwaXhlbHMsIHRoZSB0ZW1wbGF0ZSBzaG91bGQgcHVzaCBhd2F5IGZyb20gdGhlIGFuY2hvciBvbiB0aGUgWCBheGlzLCBpZiBhbGlnbmVkIHRvIGEgc2lkZS5cbiAgICAgKiBAb3B0aW9uXG4gICAgICogQGV4YW1wbGUgMTJcbiAgICAgKi9cbiAgICBoT2Zmc2V0OiAxMlxuICB9O1xuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyB0aGUgdG9vbHRpcCBieSBzZXR0aW5nIHRoZSBjcmVhdGluZyB0aGUgdGlwIGVsZW1lbnQsIGFkZGluZyBpdCdzIHRleHQsIHNldHRpbmcgcHJpdmF0ZSB2YXJpYWJsZXMgYW5kIHNldHRpbmcgYXR0cmlidXRlcyBvbiB0aGUgYW5jaG9yLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgVG9vbHRpcC5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbigpe1xuICAgIHZhciBlbGVtSWQgPSB0aGlzLiRlbGVtZW50LmF0dHIoJ2FyaWEtZGVzY3JpYmVkYnknKSB8fCBGb3VuZGF0aW9uLkdldFlvRGlnaXRzKDYsICd0b29sdGlwJyk7XG5cbiAgICB0aGlzLm9wdGlvbnMucG9zaXRpb25DbGFzcyA9IHRoaXMuX2dldFBvc2l0aW9uQ2xhc3ModGhpcy4kZWxlbWVudCk7XG4gICAgdGhpcy5vcHRpb25zLnRpcFRleHQgPSB0aGlzLm9wdGlvbnMudGlwVGV4dCB8fCB0aGlzLiRlbGVtZW50LmF0dHIoJ3RpdGxlJyk7XG4gICAgdGhpcy50ZW1wbGF0ZSA9IHRoaXMub3B0aW9ucy50ZW1wbGF0ZSA/ICQodGhpcy5vcHRpb25zLnRlbXBsYXRlKSA6IHRoaXMuX2J1aWxkVGVtcGxhdGUoZWxlbUlkKTtcblxuICAgIHRoaXMudGVtcGxhdGUuYXBwZW5kVG8oZG9jdW1lbnQuYm9keSlcbiAgICAgICAgLnRleHQodGhpcy5vcHRpb25zLnRpcFRleHQpXG4gICAgICAgIC5oaWRlKCk7XG5cbiAgICB0aGlzLiRlbGVtZW50LmF0dHIoe1xuICAgICAgJ3RpdGxlJzogJycsXG4gICAgICAnYXJpYS1kZXNjcmliZWRieSc6IGVsZW1JZCxcbiAgICAgICdkYXRhLXlldGktYm94JzogZWxlbUlkLFxuICAgICAgJ2RhdGEtdG9nZ2xlJzogZWxlbUlkLFxuICAgICAgJ2RhdGEtcmVzaXplJzogZWxlbUlkXG4gICAgfSkuYWRkQ2xhc3ModGhpcy50cmlnZ2VyQ2xhc3MpO1xuXG4gICAgLy9oZWxwZXIgdmFyaWFibGVzIHRvIHRyYWNrIG1vdmVtZW50IG9uIGNvbGxpc2lvbnNcbiAgICB0aGlzLnVzZWRQb3NpdGlvbnMgPSBbXTtcbiAgICB0aGlzLmNvdW50ZXIgPSA0O1xuICAgIHRoaXMuY2xhc3NDaGFuZ2VkID0gZmFsc2U7XG5cbiAgICB0aGlzLl9ldmVudHMoKTtcbiAgfTtcblxuICAvKipcbiAgICogR3JhYnMgdGhlIGN1cnJlbnQgcG9zaXRpb25pbmcgY2xhc3MsIGlmIHByZXNlbnQsIGFuZCByZXR1cm5zIHRoZSB2YWx1ZSBvciBhbiBlbXB0eSBzdHJpbmcuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBUb29sdGlwLnByb3RvdHlwZS5fZ2V0UG9zaXRpb25DbGFzcyA9IGZ1bmN0aW9uKGVsZW1lbnQpe1xuICAgIGlmKCFlbGVtZW50KXsgcmV0dXJuICcnOyB9XG4gICAgLy8gdmFyIHBvc2l0aW9uID0gZWxlbWVudC5hdHRyKCdjbGFzcycpLm1hdGNoKC90b3B8bGVmdHxyaWdodC9nKTtcbiAgICB2YXIgcG9zaXRpb24gPSBlbGVtZW50WzBdLmNsYXNzTmFtZS5tYXRjaCgvKHRvcHxsZWZ0fHJpZ2h0KS9nKTtcbiAgICAgICAgcG9zaXRpb24gPSBwb3NpdGlvbiA/IHBvc2l0aW9uWzBdIDogJyc7XG4gICAgcmV0dXJuIHBvc2l0aW9uO1xuICB9O1xuICAvKipcbiAgICogYnVpbGRzIHRoZSB0b29sdGlwIGVsZW1lbnQsIGFkZHMgYXR0cmlidXRlcywgYW5kIHJldHVybnMgdGhlIHRlbXBsYXRlLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgVG9vbHRpcC5wcm90b3R5cGUuX2J1aWxkVGVtcGxhdGUgPSBmdW5jdGlvbihpZCl7XG4gICAgdmFyIHRlbXBsYXRlQ2xhc3NlcyA9ICh0aGlzLm9wdGlvbnMudG9vbHRpcENsYXNzICsgJyAnICsgdGhpcy5vcHRpb25zLnBvc2l0aW9uQ2xhc3MpLnRyaW0oKTtcbiAgICB2YXIgJHRlbXBsYXRlID0gICQoJzxkaXY+PC9kaXY+JykuYWRkQ2xhc3ModGVtcGxhdGVDbGFzc2VzKS5hdHRyKHtcbiAgICAgICdyb2xlJzogJ3Rvb2x0aXAnLFxuICAgICAgJ2FyaWEtaGlkZGVuJzogdHJ1ZSxcbiAgICAgICdkYXRhLWlzLWFjdGl2ZSc6IGZhbHNlLFxuICAgICAgJ2RhdGEtaXMtZm9jdXMnOiBmYWxzZSxcbiAgICAgICdpZCc6IGlkXG4gICAgfSk7XG4gICAgcmV0dXJuICR0ZW1wbGF0ZTtcbiAgfTtcblxuICAvKipcbiAgICogRnVuY3Rpb24gdGhhdCBnZXRzIGNhbGxlZCBpZiBhIGNvbGxpc2lvbiBldmVudCBpcyBkZXRlY3RlZC5cbiAgICogQHBhcmFtIHtTdHJpbmd9IHBvc2l0aW9uIC0gcG9zaXRpb25pbmcgY2xhc3MgdG8gdHJ5XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBUb29sdGlwLnByb3RvdHlwZS5fcmVwb3NpdGlvbiA9IGZ1bmN0aW9uKHBvc2l0aW9uKXtcbiAgICB0aGlzLnVzZWRQb3NpdGlvbnMucHVzaChwb3NpdGlvbiA/IHBvc2l0aW9uIDogJ2JvdHRvbScpO1xuXG4gICAgLy9kZWZhdWx0LCB0cnkgc3dpdGNoaW5nIHRvIG9wcG9zaXRlIHNpZGVcbiAgICBpZighcG9zaXRpb24gJiYgKHRoaXMudXNlZFBvc2l0aW9ucy5pbmRleE9mKCd0b3AnKSA8IDApKXtcbiAgICAgIHRoaXMudGVtcGxhdGUuYWRkQ2xhc3MoJ3RvcCcpO1xuICAgIH1lbHNlIGlmKHBvc2l0aW9uID09PSAndG9wJyAmJiAodGhpcy51c2VkUG9zaXRpb25zLmluZGV4T2YoJ2JvdHRvbScpIDwgMCkpe1xuICAgICAgdGhpcy50ZW1wbGF0ZS5yZW1vdmVDbGFzcyhwb3NpdGlvbik7XG4gICAgfWVsc2UgaWYocG9zaXRpb24gPT09ICdsZWZ0JyAmJiAodGhpcy51c2VkUG9zaXRpb25zLmluZGV4T2YoJ3JpZ2h0JykgPCAwKSl7XG4gICAgICB0aGlzLnRlbXBsYXRlLnJlbW92ZUNsYXNzKHBvc2l0aW9uKVxuICAgICAgICAgIC5hZGRDbGFzcygncmlnaHQnKTtcbiAgICB9ZWxzZSBpZihwb3NpdGlvbiA9PT0gJ3JpZ2h0JyAmJiAodGhpcy51c2VkUG9zaXRpb25zLmluZGV4T2YoJ2xlZnQnKSA8IDApKXtcbiAgICAgIHRoaXMudGVtcGxhdGUucmVtb3ZlQ2xhc3MocG9zaXRpb24pXG4gICAgICAgICAgLmFkZENsYXNzKCdsZWZ0Jyk7XG4gICAgfVxuXG4gICAgLy9pZiBkZWZhdWx0IGNoYW5nZSBkaWRuJ3Qgd29yaywgdHJ5IGJvdHRvbSBvciBsZWZ0IGZpcnN0XG4gICAgZWxzZSBpZighcG9zaXRpb24gJiYgKHRoaXMudXNlZFBvc2l0aW9ucy5pbmRleE9mKCd0b3AnKSA+IC0xKSAmJiAodGhpcy51c2VkUG9zaXRpb25zLmluZGV4T2YoJ2xlZnQnKSA8IDApKXtcbiAgICAgIHRoaXMudGVtcGxhdGUuYWRkQ2xhc3MoJ2xlZnQnKTtcbiAgICB9ZWxzZSBpZihwb3NpdGlvbiA9PT0gJ3RvcCcgJiYgKHRoaXMudXNlZFBvc2l0aW9ucy5pbmRleE9mKCdib3R0b20nKSA+IC0xKSAmJiAodGhpcy51c2VkUG9zaXRpb25zLmluZGV4T2YoJ2xlZnQnKSA8IDApKXtcbiAgICAgIHRoaXMudGVtcGxhdGUucmVtb3ZlQ2xhc3MocG9zaXRpb24pXG4gICAgICAgICAgLmFkZENsYXNzKCdsZWZ0Jyk7XG4gICAgfWVsc2UgaWYocG9zaXRpb24gPT09ICdsZWZ0JyAmJiAodGhpcy51c2VkUG9zaXRpb25zLmluZGV4T2YoJ3JpZ2h0JykgPiAtMSkgJiYgKHRoaXMudXNlZFBvc2l0aW9ucy5pbmRleE9mKCdib3R0b20nKSA8IDApKXtcbiAgICAgIHRoaXMudGVtcGxhdGUucmVtb3ZlQ2xhc3MocG9zaXRpb24pO1xuICAgIH1lbHNlIGlmKHBvc2l0aW9uID09PSAncmlnaHQnICYmICh0aGlzLnVzZWRQb3NpdGlvbnMuaW5kZXhPZignbGVmdCcpID4gLTEpICYmICh0aGlzLnVzZWRQb3NpdGlvbnMuaW5kZXhPZignYm90dG9tJykgPCAwKSl7XG4gICAgICB0aGlzLnRlbXBsYXRlLnJlbW92ZUNsYXNzKHBvc2l0aW9uKTtcbiAgICB9XG4gICAgLy9pZiBub3RoaW5nIGNsZWFyZWQsIHNldCB0byBib3R0b21cbiAgICBlbHNle1xuICAgICAgdGhpcy50ZW1wbGF0ZS5yZW1vdmVDbGFzcyhwb3NpdGlvbik7XG4gICAgfVxuICAgIHRoaXMuY2xhc3NDaGFuZ2VkID0gdHJ1ZTtcbiAgICB0aGlzLmNvdW50ZXItLTtcblxuICB9O1xuXG4gIC8qKlxuICAgKiBzZXRzIHRoZSBwb3NpdGlvbiBjbGFzcyBvZiBhbiBlbGVtZW50IGFuZCByZWN1cnNpdmVseSBjYWxscyBpdHNlbGYgdW50aWwgdGhlcmUgYXJlIG5vIG1vcmUgcG9zc2libGUgcG9zaXRpb25zIHRvIGF0dGVtcHQsIG9yIHRoZSB0b29sdGlwIGVsZW1lbnQgaXMgbm8gbG9uZ2VyIGNvbGxpZGluZy5cbiAgICogaWYgdGhlIHRvb2x0aXAgaXMgbGFyZ2VyIHRoYW4gdGhlIHNjcmVlbiB3aWR0aCwgZGVmYXVsdCB0byBmdWxsIHdpZHRoIC0gYW55IHVzZXIgc2VsZWN0ZWQgbWFyZ2luXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBUb29sdGlwLnByb3RvdHlwZS5fc2V0UG9zaXRpb24gPSBmdW5jdGlvbigpe1xuICAgIHZhciBwb3NpdGlvbiA9IHRoaXMuX2dldFBvc2l0aW9uQ2xhc3ModGhpcy50ZW1wbGF0ZSksXG4gICAgICAgICR0aXBEaW1zID0gRm91bmRhdGlvbi5Cb3guR2V0RGltZW5zaW9ucyh0aGlzLnRlbXBsYXRlKSxcbiAgICAgICAgJGFuY2hvckRpbXMgPSBGb3VuZGF0aW9uLkJveC5HZXREaW1lbnNpb25zKHRoaXMuJGVsZW1lbnQpLFxuICAgICAgICBkaXJlY3Rpb24gPSAocG9zaXRpb24gPT09ICdsZWZ0JyA/ICdsZWZ0JyA6ICgocG9zaXRpb24gPT09ICdyaWdodCcpID8gJ2xlZnQnIDogJ3RvcCcpKSxcbiAgICAgICAgcGFyYW0gPSAoZGlyZWN0aW9uID09PSAndG9wJykgPyAnaGVpZ2h0JyA6ICd3aWR0aCcsXG4gICAgICAgIG9mZnNldCA9IChwYXJhbSA9PT0gJ2hlaWdodCcpID8gdGhpcy5vcHRpb25zLnZPZmZzZXQgOiB0aGlzLm9wdGlvbnMuaE9mZnNldCxcbiAgICAgICAgX3RoaXMgPSB0aGlzO1xuXG4gICAgaWYoKCR0aXBEaW1zLndpZHRoID49ICR0aXBEaW1zLndpbmRvd0RpbXMud2lkdGgpIHx8ICghdGhpcy5jb3VudGVyICYmICFGb3VuZGF0aW9uLkJveC5JbU5vdFRvdWNoaW5nWW91KHRoaXMudGVtcGxhdGUpKSl7XG4gICAgICB0aGlzLnRlbXBsYXRlLm9mZnNldChGb3VuZGF0aW9uLkJveC5HZXRPZmZzZXRzKHRoaXMudGVtcGxhdGUsIHRoaXMuJGVsZW1lbnQsICdjZW50ZXIgYm90dG9tJywgdGhpcy5vcHRpb25zLnZPZmZzZXQsIHRoaXMub3B0aW9ucy5oT2Zmc2V0LCB0cnVlKSkuY3NzKHtcbiAgICAgIC8vIHRoaXMuJGVsZW1lbnQub2Zmc2V0KEZvdW5kYXRpb24uR2V0T2Zmc2V0cyh0aGlzLnRlbXBsYXRlLCB0aGlzLiRlbGVtZW50LCAnY2VudGVyIGJvdHRvbScsIHRoaXMub3B0aW9ucy52T2Zmc2V0LCB0aGlzLm9wdGlvbnMuaE9mZnNldCwgdHJ1ZSkpLmNzcyh7XG4gICAgICAgICd3aWR0aCc6ICRhbmNob3JEaW1zLndpbmRvd0RpbXMud2lkdGggLSAodGhpcy5vcHRpb25zLmhPZmZzZXQgKiAyKSxcbiAgICAgICAgJ2hlaWdodCc6ICdhdXRvJ1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdGhpcy50ZW1wbGF0ZS5vZmZzZXQoRm91bmRhdGlvbi5Cb3guR2V0T2Zmc2V0cyh0aGlzLnRlbXBsYXRlLCB0aGlzLiRlbGVtZW50LCdjZW50ZXIgJyArIChwb3NpdGlvbiB8fCAnYm90dG9tJyksIHRoaXMub3B0aW9ucy52T2Zmc2V0LCB0aGlzLm9wdGlvbnMuaE9mZnNldCkpO1xuXG4gICAgd2hpbGUoIUZvdW5kYXRpb24uQm94LkltTm90VG91Y2hpbmdZb3UodGhpcy50ZW1wbGF0ZSkgJiYgdGhpcy5jb3VudGVyKXtcbiAgICAgIHRoaXMuX3JlcG9zaXRpb24ocG9zaXRpb24pO1xuICAgICAgdGhpcy5fc2V0UG9zaXRpb24oKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIHJldmVhbHMgdGhlIHRvb2x0aXAsIGFuZCBmaXJlcyBhbiBldmVudCB0byBjbG9zZSBhbnkgb3RoZXIgb3BlbiB0b29sdGlwcyBvbiB0aGUgcGFnZVxuICAgKiBAZmlyZXMgQ2xvc2VtZSN0b29sdGlwXG4gICAqIEBmaXJlcyBUb29sdGlwI3Nob3dcbiAgICogQGZ1bmN0aW9uXG4gICAqL1xuICBUb29sdGlwLnByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24oKXtcbiAgICBpZih0aGlzLm9wdGlvbnMuc2hvd09uICE9PSAnYWxsJyAmJiAhRm91bmRhdGlvbi5NZWRpYVF1ZXJ5LmF0TGVhc3QodGhpcy5vcHRpb25zLnNob3dPbikpe1xuICAgICAgLy8gY29uc29sZS5lcnJvcignVGhlIHNjcmVlbiBpcyB0b28gc21hbGwgdG8gZGlzcGxheSB0aGlzIHRvb2x0aXAnKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHRoaXMudGVtcGxhdGUuY3NzKCd2aXNpYmlsaXR5JywgJ2hpZGRlbicpLnNob3coKTtcbiAgICB0aGlzLl9zZXRQb3NpdGlvbigpO1xuXG4gICAgLyoqXG4gICAgICogRmlyZXMgdG8gY2xvc2UgYWxsIG90aGVyIG9wZW4gdG9vbHRpcHMgb24gdGhlIHBhZ2VcbiAgICAgKiBAZXZlbnQgQ2xvc2VtZSN0b29sdGlwXG4gICAgICovXG4gICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKCdjbG9zZW1lLnpmLnRvb2x0aXAnLCB0aGlzLnRlbXBsYXRlLmF0dHIoJ2lkJykpO1xuXG5cbiAgICB0aGlzLnRlbXBsYXRlLmF0dHIoe1xuICAgICAgJ2RhdGEtaXMtYWN0aXZlJzogdHJ1ZSxcbiAgICAgICdhcmlhLWhpZGRlbic6IGZhbHNlXG4gICAgfSk7XG4gICAgX3RoaXMuaXNBY3RpdmUgPSB0cnVlO1xuICAgIC8vIGNvbnNvbGUubG9nKHRoaXMudGVtcGxhdGUpO1xuICAgIHRoaXMudGVtcGxhdGUuc3RvcCgpLmhpZGUoKS5jc3MoJ3Zpc2liaWxpdHknLCAnJykuZmFkZUluKHRoaXMub3B0aW9ucy5mYWRlSW5EdXJhdGlvbiwgZnVuY3Rpb24oKXtcbiAgICAgIC8vbWF5YmUgZG8gc3R1ZmY/XG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogRmlyZXMgd2hlbiB0aGUgdG9vbHRpcCBpcyBzaG93blxuICAgICAqIEBldmVudCBUb29sdGlwI3Nob3dcbiAgICAgKi9cbiAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoJ3Nob3cuemYudG9vbHRpcCcpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBIaWRlcyB0aGUgY3VycmVudCB0b29sdGlwLCBhbmQgcmVzZXRzIHRoZSBwb3NpdGlvbmluZyBjbGFzcyBpZiBpdCB3YXMgY2hhbmdlZCBkdWUgdG8gY29sbGlzaW9uXG4gICAqIEBmaXJlcyBUb29sdGlwI2hpZGVcbiAgICogQGZ1bmN0aW9uXG4gICAqL1xuICBUb29sdGlwLnByb3RvdHlwZS5oaWRlID0gZnVuY3Rpb24oKXtcbiAgICAvLyBjb25zb2xlLmxvZygnaGlkaW5nJywgdGhpcy4kZWxlbWVudC5kYXRhKCd5ZXRpLWJveCcpKTtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHRoaXMudGVtcGxhdGUuc3RvcCgpLmF0dHIoe1xuICAgICAgJ2FyaWEtaGlkZGVuJzogdHJ1ZSxcbiAgICAgICdkYXRhLWlzLWFjdGl2ZSc6IGZhbHNlXG4gICAgfSkuZmFkZU91dCh0aGlzLm9wdGlvbnMuZmFkZU91dER1cmF0aW9uLCBmdW5jdGlvbigpe1xuICAgICAgX3RoaXMuaXNBY3RpdmUgPSBmYWxzZTtcbiAgICAgIF90aGlzLmlzQ2xpY2sgPSBmYWxzZTtcbiAgICAgIGlmKF90aGlzLmNsYXNzQ2hhbmdlZCl7XG4gICAgICAgIF90aGlzLnRlbXBsYXRlXG4gICAgICAgICAgICAgLnJlbW92ZUNsYXNzKF90aGlzLl9nZXRQb3NpdGlvbkNsYXNzKF90aGlzLnRlbXBsYXRlKSlcbiAgICAgICAgICAgICAuYWRkQ2xhc3MoX3RoaXMub3B0aW9ucy5wb3NpdGlvbkNsYXNzKTtcblxuICAgICAgIF90aGlzLnVzZWRQb3NpdGlvbnMgPSBbXTtcbiAgICAgICBfdGhpcy5jb3VudGVyID0gNDtcbiAgICAgICBfdGhpcy5jbGFzc0NoYW5nZWQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBmaXJlcyB3aGVuIHRoZSB0b29sdGlwIGlzIGhpZGRlblxuICAgICAqIEBldmVudCBUb29sdGlwI2hpZGVcbiAgICAgKi9cbiAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoJ2hpZGUuemYudG9vbHRpcCcpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBhZGRzIGV2ZW50IGxpc3RlbmVycyBmb3IgdGhlIHRvb2x0aXAgYW5kIGl0cyBhbmNob3JcbiAgICogVE9ETyBjb21iaW5lIHNvbWUgb2YgdGhlIGxpc3RlbmVycyBsaWtlIGZvY3VzIGFuZCBtb3VzZWVudGVyLCBldGMuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBUb29sdGlwLnByb3RvdHlwZS5fZXZlbnRzID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHZhciAkdGVtcGxhdGUgPSB0aGlzLnRlbXBsYXRlO1xuICAgIHZhciBpc0ZvY3VzID0gZmFsc2U7XG5cbiAgICBpZighdGhpcy5vcHRpb25zLmRpc2FibGVIb3Zlcil7XG5cbiAgICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgIC5vbignbW91c2VlbnRlci56Zi50b29sdGlwJywgZnVuY3Rpb24oZSl7XG4gICAgICAgIGlmKCFfdGhpcy5pc0FjdGl2ZSl7XG4gICAgICAgICAgX3RoaXMudGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIF90aGlzLnNob3coKTtcbiAgICAgICAgICB9LCBfdGhpcy5vcHRpb25zLmhvdmVyRGVsYXkpO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLm9uKCdtb3VzZWxlYXZlLnpmLnRvb2x0aXAnLCBmdW5jdGlvbihlKXtcbiAgICAgICAgY2xlYXJUaW1lb3V0KF90aGlzLnRpbWVvdXQpO1xuICAgICAgICBpZighaXNGb2N1cyB8fCAoIV90aGlzLmlzQ2xpY2sgJiYgX3RoaXMub3B0aW9ucy5jbGlja09wZW4pKXtcbiAgICAgICAgICBfdGhpcy5oaWRlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZih0aGlzLm9wdGlvbnMuY2xpY2tPcGVuKXtcbiAgICAgIHRoaXMuJGVsZW1lbnQub24oJ21vdXNlZG93bi56Zi50b29sdGlwJywgZnVuY3Rpb24oZSl7XG4gICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGlmKF90aGlzLmlzQ2xpY2spe1xuICAgICAgICAgIF90aGlzLmhpZGUoKTtcbiAgICAgICAgICAvLyBfdGhpcy5pc0NsaWNrID0gZmFsc2U7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIF90aGlzLmlzQ2xpY2sgPSB0cnVlO1xuICAgICAgICAgIGlmKChfdGhpcy5vcHRpb25zLmRpc2FibGVIb3ZlciB8fCAhX3RoaXMuJGVsZW1lbnQuYXR0cigndGFiaW5kZXgnKSkgJiYgIV90aGlzLmlzQWN0aXZlKXtcbiAgICAgICAgICAgIF90aGlzLnNob3coKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmKCF0aGlzLm9wdGlvbnMuZGlzYWJsZUZvclRvdWNoKXtcbiAgICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgIC5vbigndGFwLnpmLnRvb2x0aXAgdG91Y2hlbmQuemYudG9vbHRpcCcsIGZ1bmN0aW9uKGUpe1xuICAgICAgICBfdGhpcy5pc0FjdGl2ZSA/IF90aGlzLmhpZGUoKSA6IF90aGlzLnNob3coKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHRoaXMuJGVsZW1lbnQub24oe1xuICAgICAgLy8gJ3RvZ2dsZS56Zi50cmlnZ2VyJzogdGhpcy50b2dnbGUuYmluZCh0aGlzKSxcbiAgICAgIC8vICdjbG9zZS56Zi50cmlnZ2VyJzogdGhpcy5oaWRlLmJpbmQodGhpcylcbiAgICAgICdjbG9zZS56Zi50cmlnZ2VyJzogdGhpcy5oaWRlLmJpbmQodGhpcylcbiAgICB9KTtcblxuICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgIC5vbignZm9jdXMuemYudG9vbHRpcCcsIGZ1bmN0aW9uKGUpe1xuICAgICAgICBpc0ZvY3VzID0gdHJ1ZTtcbiAgICAgICAgY29uc29sZS5sb2coX3RoaXMuaXNDbGljayk7XG4gICAgICAgIGlmKF90aGlzLmlzQ2xpY2spe1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgLy8gJCh3aW5kb3cpXG4gICAgICAgICAgX3RoaXMuc2hvdygpO1xuICAgICAgICB9XG4gICAgICB9KVxuXG4gICAgICAub24oJ2ZvY3Vzb3V0LnpmLnRvb2x0aXAnLCBmdW5jdGlvbihlKXtcbiAgICAgICAgaXNGb2N1cyA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5pc0NsaWNrID0gZmFsc2U7XG4gICAgICAgIF90aGlzLmhpZGUoKTtcbiAgICAgIH0pXG5cbiAgICAgIC5vbigncmVzaXplbWUuemYudHJpZ2dlcicsIGZ1bmN0aW9uKCl7XG4gICAgICAgIGlmKF90aGlzLmlzQWN0aXZlKXtcbiAgICAgICAgICBfdGhpcy5fc2V0UG9zaXRpb24oKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH07XG4gIC8qKlxuICAgKiBhZGRzIGEgdG9nZ2xlIG1ldGhvZCwgaW4gYWRkaXRpb24gdG8gdGhlIHN0YXRpYyBzaG93KCkgJiBoaWRlKCkgZnVuY3Rpb25zXG4gICAqIEBmdW5jdGlvblxuICAgKi9cbiAgVG9vbHRpcC5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24oKXtcbiAgICBpZih0aGlzLmlzQWN0aXZlKXtcbiAgICAgIHRoaXMuaGlkZSgpO1xuICAgIH1lbHNle1xuICAgICAgdGhpcy5zaG93KCk7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogRGVzdHJveXMgYW4gaW5zdGFuY2Ugb2YgdG9vbHRpcCwgcmVtb3ZlcyB0ZW1wbGF0ZSBlbGVtZW50IGZyb20gdGhlIHZpZXcuXG4gICAqIEBmdW5jdGlvblxuICAgKi9cbiAgVG9vbHRpcC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCl7XG4gICAgdGhpcy4kZWxlbWVudC5hdHRyKCd0aXRsZScsIHRoaXMudGVtcGxhdGUudGV4dCgpKVxuICAgICAgICAgICAgICAgICAub2ZmKCcuemYudHJpZ2dlciAuemYudG9vdGlwJylcbiAgICAgICAgICAgICAgICAvLyAgLnJlbW92ZUNsYXNzKCdoYXMtdGlwJylcbiAgICAgICAgICAgICAgICAgLnJlbW92ZUF0dHIoJ2FyaWEtZGVzY3JpYmVkYnknKVxuICAgICAgICAgICAgICAgICAucmVtb3ZlQXR0cignZGF0YS15ZXRpLWJveCcpXG4gICAgICAgICAgICAgICAgIC5yZW1vdmVBdHRyKCdkYXRhLXRvZ2dsZScpXG4gICAgICAgICAgICAgICAgIC5yZW1vdmVBdHRyKCdkYXRhLXJlc2l6ZScpO1xuXG4gICAgdGhpcy50ZW1wbGF0ZS5yZW1vdmUoKTtcblxuICAgIEZvdW5kYXRpb24udW5yZWdpc3RlclBsdWdpbih0aGlzKTtcbiAgfTtcbiAgLyoqXG4gICAqIFRPRE8gdXRpbGl6ZSByZXNpemUgZXZlbnQgdHJpZ2dlclxuICAgKi9cblxuICBGb3VuZGF0aW9uLnBsdWdpbihUb29sdGlwLCAnVG9vbHRpcCcpO1xufShqUXVlcnksIHdpbmRvdy5kb2N1bWVudCwgd2luZG93LkZvdW5kYXRpb24pO1xuXG4vKipcclxuICogUHJpbWFyeSBKYXZhc2NyaXB0IEZpbGVcclxuICpcclxuICogQHBhY2thZ2UgICAgU2xpbWxpbmUgLyBUaGVtZVxyXG4gKiBAc3VicGFja2FnZSBKYXZhc2NyaXB0c1xyXG4gKi9cclxualF1ZXJ5KGZ1bmN0aW9uKCQpe1xyXG5cdCQoZG9jdW1lbnQpLmZvdW5kYXRpb24oKTtcclxufSk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
